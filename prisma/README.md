داکیومنت خوده prisma تمامی موارد رو گفته این repository سعی شده خیلی خلاصه بگیم که prisma چی هست و برای چی استفاده میشه 

همراه با چند مثال . 

داکیومنت : 

https://www.prisma.io  
<br/>
https://www.prisma.io/docs/docs
<br/>
https://www.prisma.io/docs/concepts
<br/>
https://www.prisma.io/docs/reference
<br/>
https://www.prisma.io/docs/reference/api-reference/prisma-client-reference

 
 # می خوایم در مورد prisma صحبت کنیم . 
 
 که اصلا prisma چی هست ؟ 

 چه کاربردی داره ؟ 

 چه موقع از prisma استفاده نکنیم ؟ 



#  تعریف prisma : 

خ ب prisma در واقع یک ORM هستش که مخفف object relational mapping هست . 

 که ORM برای تعامل با دیتا بیس ایجاد شده که یک یکپارچگی ایجاد می کنه . 

 همینطور بهره وری کد و توسعه کد سمت سرور رو افزایش میده . 

 برای جاوا اسکریپت استفاده میشه . البته ORM های دیگه ای هم برای جاوا اسکریپت داریم 

 اما در اینجا هدف و قصد اصلی ما صحبت در مورد prisma هستش . 

 # کاربرد prisma : 

 _ کاربرد prisma به این صورت هست که می تونیم همزمان به چند دیتابیس دسترسی داشته باشم . 

 _ تغییر دادن دیتا بیس در هر لحظه از SQL به SQL دیگه یا از SQL به NoSQL

 _  دستورات query دیتا بیس ها رو یکی می کنه این کار باعث توسعه راحتر سرور میشه 

 _  تایپ safe بودن prisma هست .

 _  یک محیط به اسم prisma studio در اختیار برنامه نویس قرار میده که مثل دیتا بیس می تونیم داده ها رو ببنیم و تغییر بدیم .

## توضیحات کاربرد prisma :

استفاده همزمان از چند دیتابیس با query های کاملا یکسان .

فرض کنید یک دیتیابیس sql داریم و یک دیتابیس noSQL . 

دستورات دیتابیس mongodb  که یک دیتابیس noSQL هست با دستورات دیتا بیس postregs که یک دیتابیس SQL هست متفاوته . 

اینجا یکی از کاربرد های prisma مشخص میشه که میاد تمامی دستورات query رو یکی می کنه . 

اینجوری تمام دستورات دیتابیس یکی میشن و فقط کافیه دستورات و query های prisma رو بلد باشیم .

با بلد بودن دستورات prisma می تونیم از دیتا بیس های متنوعی استفاده کنیم . 

اگر بخوام یک مثال فرانت اندی در این مورد بزنیم .. بوت استرپ رو فرض کنید که تمامی دستورات css یکسانی داره . 

اگر یک شرکت css اون با بوت استرپ زده شده .

هر فرد دیگه ای که بوت استرپ رو بلد باشه می تونه استایل دهی و دیزاین اون شرکت رو انجام بده . 

در اصل یکی از کارهای prisma هم همینه  . 


##  مثال create برای  SQL و noSQL و prisma  :

کد زیر مربوط به mongodb که دیتابیس noSQL هست که از create استفاده شده . 

```javascript
    const users = await userModel.create({
      username,
      password,
    });
```


حالا یه نمونه کد برای SQL که با استفاده از دیتابیس postregsql زده شده   که داره از create استفاده میکنه : 


```javascript
const createUser = (request, response) => {
  const { username, password } = request.body

  pool.query('INSERT INTO users (username, password) VALUES ($1, $2) RETURNING *', [username, password], (error, results) => {
    if (error) {
      throw error
    }
    response.status(201).send(`User added with ID: ${results.rows[0].id}`)
  })
}
```
هر دو کد خیلی با هم تفاوت دارند ! 

اینجاس که prisma میاد دستورات رو یکی می کنه دراصل query هارو .

دیگه تفاوتی نداره دیتابیس چی باشه با یک دستورات prisma می تونیم به هر نوع دیتابیس دسترسی داشته باشیم . 

البته prisma یک سری از دیتابیس ها رو ساپورت می کنه . 

حالا با prisma یک مثال داشته باشیم 

 فارق از اینکه دیتابیس ما SQL باشه یا NoSQL دستور زیر برای هر دو کار می کنه : 

```javascript
user.create({
      data: { ...body, role: Role.USER },
    });
    console.log(createUser);
    return { message: 'user is created', createUser };
  }
```
**نکته مهم** : برخی از چیزا موقع تعریف کردن مدل متفاوت هست برای دیتابیس های SQL , noSQL یکی از این موارد id هستش . 
که برای mongodb یک جور تعریف میشه در model برای sql طور دیگه .


کاربردی دیگه ای که داره type safe بودنش هست . 

موقع ایجاد مدل خیلی راحت بدون نیاز به ابزار جانبی دیگه

می تونیم انواع تایپ ها رو به راحتی برای model خودمون با توجه به نیازمون قرار بدیم .

# چه زمانی از prisma استفاده نکنیم ؟ 


_ زمانی که می خوایم صرفا فقط از ویژگی typesafe بودنش استفاده کنیم . 

به جای اینکار می تونیم از ابزار های دیگه ای استفاده کنیم . 


_ زمانی که سناریوی که داریم با prisma در نمیاد . 

یعنی چی سناریو در نیماد  ؟ یعنی اینکه query های که درون prisma هست ممکنه جواب کاری که می خوایم انجام بدیم رو نده . 

اینجاست که نیاز هست از query های اصلی خوده دیتابیس برای هندل کردن سناریو استفاده کنیم . 

_زمانی که از یک دیتابیسی داریم استفاده می کنیم که prisma ساپورت نمی کنه . 

_زمانی که صرفا می خوایم یک api ساده داشته باشیم برای انجام کاری و نمی خوایم لاجیک خاصی در سمت سرور بنویسیم .


# مثال prisma in nodejs : 

در اینجا صرفا یک app ساخته شده توسط nodejs داریم . 

در این مثال از هیچ framework مثل nestjs و expressjs استفاده **نشده** . 

اگر می خواید که prisma درون nestjs ببنید به repository nestjs برید . 

در repository nestjs مثال prisma برای nestjs و نحوه کارکردش توضیح داده شده .
