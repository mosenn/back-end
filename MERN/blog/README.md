
# Blog Project 
## Technologies

Reactjs ,  Typescript , Tailwindcss  , expressjs , mongodb ,

<p align="left"> <a href="https://www.mongodb.com/" target="_blank" rel="noreferrer"> <img src="https://raw.githubusercontent.com/devicons/devicon/master/icons/mongodb/mongodb-original-wordmark.svg" alt="mongodb" width="40" height="40"/> </a> <a href="https://reactjs.org/" target="_blank" rel="noreferrer"> <img src="https://raw.githubusercontent.com/devicons/devicon/master/icons/react/react-original-wordmark.svg" alt="react" width="40" height="40"/> </a> <a href="https://tailwindcss.com/" target="_blank" rel="noreferrer"> <img src="https://www.vectorlogo.zone/logos/tailwindcss/tailwindcss-icon.svg" alt="tailwind" width="40" height="40"/> </a> <a href="https://www.typescriptlang.org/" target="_blank" rel="noreferrer"> <img src="https://raw.githubusercontent.com/devicons/devicon/master/icons/typescript/typescript-original.svg" alt="typescript" width="40" height="40"/> </a> </p>


# clinet key for search in README file 
CLIENT , PACKAGE.JSON , APP.TSX , COMPONENT :  ,PAGES , API FOLDER , BASE URL AXIOS OPTION , 

FUNCTION REGISTER USER ,PARAMETER USERREGISTERDATA , TYPE USERREGISTERDATA , 

COUNTINUE REGISTER USER FUNCTION , CATCH BLOCK REGISTER USER FUNCTION , FUNCTION LOGINUSER ,

LOGINUSER PARAMETER , LOGINUSER PARAMETER TYPE , FUNCTION PROFILEUSER , FUNCTION LOGOUTUSER ,

FUNCTION UPLOADREGISTERIMAGE , PAREMETER UPLOADREGISTERIMAGE , COMPONENTS & PAGES , 

REGISTER.TSX PAGE , SUBMIT FUNCTION REGISTER.TSX , CONTINUE REGISTER.TSX PAGE , 

TOAST COMPONET ,  LOGIN.TSX PAGE , HEADER.TSX COMPONET , BACK TO HEADER.TSX ,

LOGOUT FUNCTION , POSTS IN CLINET , POST API , API POST FUNCTIONS , CREATEPOST FUNCTION IN API , 

GET ALL POSTS FUNCTION IN API , GET POST WITH USER , PUT EDIT POST , DELETE POST FUNCTION , 

CREATE POST COMMPONENT , SHOW POSTS IN HOME PAGE , DETAIL POST COMPONET , 

SEND COMMENTS IN DETAIL PAGE , TAKEALLCOMMENTS FUNCTION (GET ALL POST FOR DETAIL ) ,

LIKES POST IN DETAIL PAGE , LIKES POST IN DETAIL PAGE , POST LIKE , 

TAKEALLLIKES FUNCTION IN DETAIL.TSX , GET TAKESAVES FUNCTION IN DETAIL.TSX , 

RUN TAKEALLLIKES , TAKESAVES , TAKEALLCOMMENTS ,

 hook UserCheckingLogin , takeUserPost in panel , deletePostUser in panel.tsx , 
panel page , button component , Loading component , comment.tsx in api folder , userIntraction.tsx in api folder
 postLike, getLikes , postSave , getSave







# Server key for search in README file 

 #Server  , #Run Clinet & Server , #Server Packages : ,  ### cors , ###bcryptjs 
 
###body-parser , ### cookie-parser , ### dotenv , ### expressjs , ### jsonwebtoken 

###mongoose , ### yup , # Create Server , # Index.js File , ### Define app , 

###middelware use , ### Saving Image In Server , ### define cors , ### listen , 

###run server , ###define test route , # Connect to mongodb , # Server Folders , 

###model folder , ###user.js, ### has password , ### create model connect to collection , 

#Midelware Folder , # Validation Middleware , # Controller Folder , ## user.js controller , 

###registerUser Controller , ### LoginUser Controller , ### profileUser Controller , 

###logoutUser controller , ### exports all controller , # Routes Folder , # Posts , 

###Post Schema , ### Post controller , ### Create post controller , ## Get all post controller , 

###User post controller , ### Edit post controller , ### Delete post , # Post Router ,

#create comment schmea and model , #comment controller , ###createComment function in controller comment
###getCommentsByPost function in controller comment , #route comments controller , 
###toggelLikePost controller userInteraction , ###getLikes controller userInteraction
###toggelSavePost controller userInteraction , ###getSave controller userInteraction






# summery 

ÛŒÚ© Ù¾Ø±ÙˆÚ˜Ù‡ Ø¨Ù„Ø§Ú¯ Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ù‚Ø§Ø¨Ù„ÛŒØª Ù„Ø§Ú¯ÛŒÙ† Ú©Ø±Ø¯Ù† - Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ø³Øª Ùˆ Ú©Ø§Ù…Ù†Øª Ú¯Ø°Ø§Ø±ÛŒ Ùˆ Ù‡Ø± Ù‚Ø§Ø¨Ù„ÛŒØª Ú©Ù‡ ÛŒÚ© Ø¨Ù„Ø§Ú¯ Ø¯Ø§Ø±Ù‡. 

Ù‡Ù…Ú†Ù†ÛŒÙ† Ù‡Ø± Ù†ÙˆÛŒØ³Ù†Ø¯Ù‡ Ù¾Ø³Øª Ù…ÛŒ ØªÙˆÙ†Ù‡ Ù¾Ø³Øª Ø®ÙˆØ¯Ø´ Ø±Ùˆ ÙˆÛŒØ±Ø§ÛŒØ´ Ú©Ù†Ù‡ Ø§Ù…Ø§ Ø§Ø¬Ø§Ø²Ù‡ ÙˆÛŒØ±Ø§ÛŒØ´ Ù¾Ø³Øª Ø¯ÛŒÚ¯Ø±Ø§Ù† Ø±Ùˆ Ù†Ø¯Ø§Ø±Ù‡ . 

Ù‚Ø§Ø¨Ù„ÛŒØª Ú©Ø§Ù…Ù†Øª Ú¯Ø°Ø§Ø´ØªÙ† Ùˆ Ù„Ø§ÛŒÚ©Ù† Ú©Ø±Ø¯Ù†  Ù‡Ø± Ù¾Ø³Øª Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† . 




# directory : 

2 ÙÙˆÙ„Ø¯Ø± ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ù‡ Ø¨Ù‡ Ø§Ø³Ù… Ù‡Ø§ÛŒ clinet Ùˆ server Ú©Ù‡ Ø¯Ø±ÙˆÙ† ÙÙˆÙ„Ø¯Ø± clinet ÙØ§ÛŒÙ„ Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ ÙØ±Ø§Ù†Øª Ù‡Ø³Øª 

Ø¯Ø±ÙˆÙ† ÙÙˆÙ„Ø¯Ø± server ÙØ§ÛŒÙ„ Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ server . Ø³Ø±ÙˆØ± Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ nodemon Ø±ÙˆÛŒ port 2023 Ù„ÙˆÚ©Ø§Ù„ Ø±Ø§Ù† Ù…ÛŒØ´Ù‡ . 

Ø¯Ø± Ø¨Ø®Ø´ ÙØ±Ø§Ù†Øª reactjs Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ vitejs +typescript + swc Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ . 

Ú©Ù‡ Ø¨Ø§ Ø¯Ø³ØªÙˆØ± `npm run dev` Ø±Ø§Ù† Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯ .

# Client

Ø¯Ø±ÙˆÙ† Ù¾ÙˆØ´Ù‡ client ÙØ§ÛŒÙ„ Ø¨Ù†Ø¯ÛŒ Ù‡Ø§ Ù…ÙˆÙ† Ø¨Ù‡ ØµÙˆØ±Øª Ø²ÛŒØ± Ù‡Ø³Øª : 
<div align='center'>
  <img src='https://github.com/mosenn/MERN/assets/91747908/81ba2f5d-4718-485e-9f99-2491f2f9a4f2' alt='blog with react and expressjs'/>
</div>



  
# package.json 

Ù¾Ú©ÛŒØ¬ Ù‡Ø§ÛŒ Ú©Ù‡ Ø³Ù…Øª ÙØ±Ø§Ù†Øª Ù¾Ø±ÙˆÚ˜Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒØ´Ù‡ : 

```javascript 
  "dependencies": {
    "@testing-library/jest-dom": "^5.16.5",
    "@testing-library/react": "^14.0.0",
    "@testing-library/user-event": "^14.4.3",
    "axios": "^1.4.0",
    "cloudinary-react": "^1.8.1",
    "jsdom": "^22.1.0",
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "react-router-dom": "^6.12.1"
  },
```

Ùˆ Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± Devdependencies : 
```javascript
  "devDependencies": {
    "@types/react": "^18.0.37",
    "@types/react-dom": "^18.0.11",
    "@typescript-eslint/eslint-plugin": "^5.59.0",
    "@typescript-eslint/parser": "^5.59.0",
    "@vitejs/plugin-react-swc": "^3.0.0",
    "autoprefixer": "^10.4.14",
    "eslint": "^8.38.0",
    "eslint-plugin-react-hooks": "^4.6.0",
    "eslint-plugin-react-refresh": "^0.3.4",
    "postcss": "^8.4.24",
    "tailwindcss": "^3.3.2",
    "typescript": "^5.0.2",
    "vite": "^4.3.9",
    "vitest": "^0.32.0"
  } 
```

# App.tsx

Ø¯Ø±ÙˆÙ† ÙØ§ÛŒÙ„ app Ø§Ù…Ø¯ÛŒÙ… route Ø¨Ù†Ø¯ÛŒ Ù‡Ø§ Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ø¯Ø§Ø¯ÛŒÙ… Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ react-router-dom 

Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Ù‡Ø§ import Ø´Ø¯Ù‡ Ùˆ Ø¨Ø§ ØªÙˆØ¬Ù‡ Ø¨Ù‡ Ù†ÛŒØ§Ø² Ù¾Ø±ÙˆÚ˜Ù‡ route Ø¨Ù†Ø¯ÛŒ Ù‡Ø§ Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡ . 
```javascript 
import { useState } from "react";
import { BrowserRouter, Route, Routes } from "react-router-dom";
import Header from "./components/Header/Header";
import Home from "./pages/Home/Home";
import Register from "./pages/register/Register";
import Login from "./pages/login/Login";

function App() {
  return (
    <BrowserRouter>
      <Header />
      <Routes>
        <Route path="/" element={<Home />} />
        <Route path="/register" element={<Register />} />
        <Route path="/login" element={<Login />} />
      </Routes>
    </BrowserRouter>
  );
}
export default App;
```

# component : 

Ø¯Ø± ÙÙˆÙ„Ø¯Ø± `component` Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Ù‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø² Ùˆ ØªÚ©Ø±Ø§Ø± Ø´Ø¯Ù†ÛŒ  Ù‚Ø±Ø§Ø± Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡ . 


<div algin='center'>
<img src='https://github.com/mosenn/MERN/assets/91747908/0a083629-ef75-4ff3-8527-c0c621ba6f70' alt='react component'/>
</div>

Ø¯Ø±ÙˆÙ† `toast` ÛŒÚ© Ù¾ÛŒØ§Ù… Ø¨Ù‡ Ù…Ø§ Ù†Ø´ÙˆÙ† Ù…ÛŒØ¯Ù‡ . Ùˆ Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… Ø§Ø² Ø§ÛŒÙ† Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Ù‡Ø± Ø¬Ø§ Ø®ÙˆØ§Ø³ØªÛŒÙ… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… . 

Ø¯Ø±ÙˆÙ† Ù¾Ø±ÙˆÚ˜Ù‡ Ø¯Ø± Ø¨Ø®Ø´ Ù‡Ø§ÛŒ login , register Ø§Ø² Ø§ÛŒÙ† componet Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯ÛŒÙ… . 

Ø¯Ø±ÙˆÙ† `header` Ú©Ù‡ Ù‡Ù…ÙˆÙ†Ø¸ÙˆØ± Ú©Ù‡ Ø§Ø² Ø§Ø³Ù…Ø´ Ù…Ø´Ø®Øµ Ù‡Ø³Øª header Ø³Ø§ÛŒØª Ø±Ùˆ Ù‚Ø±Ø§Ø± Ø¯Ø§Ø¯ÛŒÙ… Ùˆ Ø¯Ø± app.tsx Ù‚Ø±Ø§Ø± Ø¯Ø§Ø¯ÛŒÙ… 

Ø¨Ù‡ Ø§ÛŒÙ† Ø¯Ù„ÛŒÙ„ Ú©Ù‡  header Ø±Ùˆ Ø¯Ø±ÙˆÙ† ØªÙ…Ø§ÛŒ Ø¨Ø®Ø´ Ù‡Ø§ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡ Ù…ÛŒ Ø®ÙˆØ§ÛŒÙ… Ú©Ù‡ Ø¨Ø§Ø´Ù‡ . 

Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Ø¯Ø§Ø±ÛŒÙ… Ø¨Ù‡ Ø§Ø³Ù… `button`  Ú©Ù‡ Ø¯Ú©Ù…Ù‡ Ù‡Ø§ÛŒ Ø³Ø§ÛŒØª Ù…Ø§ Ø±Ùˆ ØªØ´Ú©ÛŒÙ„ Ù…ÛŒØ¯Ù‡ Ùˆ Ù‡Ø± Ø¬Ø§ Ù†ÛŒØ§Ø² Ø¨Ù‡ `button` Ø¯Ø±ÙˆÙ† Ù¾Ø±ÙˆÚ˜Ù‡ Ø¨Ø§Ø´Ù‡ 

Ø§Ø² Ú©Ø§Ù…Ù¾ÙˆÙ†Øª `button` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… .

ÛŒÚ© Ú©Ø§Ù…Ù¾ÙˆÙ†Øª `loading` Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ù‡Ø± Ø¬Ø§ÛŒ Ù†ÛŒØ§Ø² Ø¨Ù‡ `loading` Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… Ø§Ø² Ø§ÛŒÙ† Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 


# Loading component

Ø¯Ø± Ú©Ø§Ù…Ù¾ÙˆÙ†Øª `loading` Ø§Ù…Ø¯ÛŒÙ… Ø§Ø² `react-spinner` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯ÛŒÙ… . 

```javascript
import { HashLoader } from "react-spinners";

```
Ø§Ø² `Hashloader` ÛŒÚ© Ù†ÙˆØ¹ Ù„ÙˆØ¯ÛŒÙ†Ú¯ Ù‡Ø³Øª Ú©Ù‡ Ø¯Ø§Ø±ÛŒÙ… Ø¯Ø± Ù¾Ø±ÙˆÚ˜Ù‡ Ø§Ø²Ø´ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø¹Ú©Ø³ Ù…ÛŒ Ø®ÙˆØ§Ø¯ Ø§Ù¾Ù„ÙˆØ¯ Ú©Ù†Ù‡ ÛŒØ§ Ø¨Ø±Ø§ÛŒ Ù„ÙˆØ¯ÛŒÙ†Ú¯ ØµØ­ÙØ§Øª Ø§Ø²Ø´ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯ÛŒÙ… . 

Ø¯Ø±ÙˆÙ†  Ú©Ø§Ù…Ù¾ÙˆÙ†Øª `loading` Ú©Ø¯ Ø²ÛŒØ± Ø±Ùˆ `return` Ù…ÛŒ Ú©Ù†ÛŒÙ… . 
```javascript
const Loading = ({ size, color }: loadingProps) => {
  return <HashLoader size={size} color={color} />;
};

export default Loading;
```

Ù†ÙˆØ¹ ØªØ§ÛŒÙ¾ `props` Ù‡Ø§ÛŒ Ú©Ø§Ù…Ù¾ÙˆÙ†Øª `loading` Ù‡Ù… Ø¨Ù‡ ØµÙˆØ±Øª Ø²ÛŒØ± Ù‡Ø³Øª : 

```javascript
interface loadingProps {
  size?: string | number;
  color?: string;
}
```

# button component 

ÛŒÚ© Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Ø¯Ø§Ø±ÛŒÙ… Ø¨Ø±Ø§ÛŒ `button` Ù‡Ø§ÛŒ Ú©Ù‡ Ù…ÛŒ Ø®ÙˆØ§ÛŒÙ… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… . 

Ú©Ù‡ Ø¨Ù‡ ØµÙˆØ±Øª Ø²ÛŒØ± ØªØ¹Ø±ÛŒÙ Ú©Ø±Ø¯ÛŒÙ… . 

```javascript
export default function Button({
  text,
  type,
  className,
  disabled,
  onClick,
  icon,
}: buttonProps) {
  return (
    <button
      disabled={disabled}
      type={type}
      className={className}
      onClick={onClick}
    >
      {" "}
      <span className="p-2"> {text}</span>
      <p>{icon}</p>
    </button>
  );
}
```

Ù‡Ø± Ø¬Ø§ÛŒ Ù†ÛŒØ§Ø² Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… Ú©Ù‡ `button` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… ØªØ±Ø¬ÛŒØ­Ø§ Ø§Ø² Ø§ÛŒÙ† `component button` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ù†ÙˆØ¹ ØªØ§ÛŒÙ¾ `props` Ø§ÛŒÙ† Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Ø¨Ù‡ ØµÙˆØ±Øª Ø²ÛŒØ± Ù‡Ø³ØªØ´ : 

```javascript
interface buttonProps {
  text?: string | any;
  type?: "button" | "submit" | "reset";
  className?: string;
  disabled?: boolean;
  // onClick?: () => Promise<void>;
  onClick?: () => void;
  icon: any;
}
```
# pages

<div algin='center'>
<img src='https://github.com/mosenn/MERN/assets/91747908/e7a2aba5-bd2d-427a-92f2-34689c65275d' alt='react component'/>
</div>



Ø¯Ø±ÙˆÙ† ÙÙˆÙ„Ø¯Ø± `pages` Ø¯Ø± ÙˆØ§Ù‚Ø¹ ØµØ­ÙØ§Øª ÙˆØ¨ Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… .  

 
 
 # Api Folder



<div algin='center'>
<img src='https://github.com/mosenn/MERN/assets/91747908/6f19569b-0a6b-4d7b-a0ad-39c04a37a463' alt='reactjs api'/>
</div>



### users.tsx 
Ø¯Ø±ÙˆÙ† ÙÙˆÙ„Ø¯Ø± `api` Ú©Ø§Ø± Ù‡Ø§ÛŒ Ù…Ø±ÙˆØ¨Ø· Ø¨Ù‡ api Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯ÛŒÙ…  . 

Ø¯Ø± ÙØ§ÛŒÙ„ users.tsx Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ axios Ù…Ø±Ø§Ø­Ù„ Ø«Ø¨Øª Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø± Ùˆ Ù„Ø§Ú¯ÛŒÙ† Ø´Ø¯Ù† Ú©Ø§Ø±Ø¨Ø± Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ´Ù‡ . 

Ø¯Ø± Ù…Ø±Ø­Ù„Ù‡ Ø§ÙˆÙ„ axios Ø§ÛŒÙ…Ù¾ÙˆØ±Øª Ù…ÛŒØ´Ù‡ . 

```javascript 
import axios from "axios";

```

### Credentials in client with axios
Ø¨Ù‡ Ø¯Ù„ÛŒÙ„ Ø§ÛŒÙ†Ú©Ù‡ Ø¯Ø± Ø³Ù…Øª Ø³Ø±ÙˆØ± coockie Ø±Ùˆ Ø³Øª Ù…ÛŒØ´Ù‡ Ùˆ Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒØ´Ù‡ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ ÛŒÚ© api Ú©Ù‡ Ù†ÙˆØ´ØªÙ‡ Ø´Ø¯Ù‡ . 

Ø¯Ø± Ø³Ù…Øª client Ù†ÛŒØ§Ø² Ù‡Ø³Øª Ø§Ø² `Credentials` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… . 

Ù†Ø­ÙˆÙ‡ Ø³Ø³Øª Ú©Ø±Ø¯Ù† `Credentials` : 
```javascript
axios.defaults.withCredentials = true;
```

Ø¯Ø± axios Ø§Ù¾Ø´Ù† credentials Ø¨Ù‡ ØµÙˆØ±Øª Ù¾ÛŒØ´ ÙØ±Ø¶ false Ù‡Ø³Øª Ø¨Ù†Ø§Ø¨Ø±Ø§ÛŒÙ† Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ø¨Ù‡ true ØªØºÛŒÛŒØ±Ø´ Ø¨Ø¯ÛŒÙ… .

### Base url axios option

Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… Ø§Ø² Ø§Ù¾Ø´Ù† baseUrl axios Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ø³Øª Ú©Ø±Ø¯Ù† Ø§Ø¯Ø±Ø³ api Ù…Ø¯ Ù†Ø¸Ø±Ù…ÙˆÙ† . 

```javascript
const baseUrl = axios.defaults.baseURL = "http://localhost:2023"
```
Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ú©Ø¯ Ø¨Ø§Ù„Ø§ Ø´Ø¨ÛŒÙ‡ Ú©Ø¯ Ù¾Ø§ÛŒÛŒÙ† Ù‡Ø³Øª : 

```javascript
const url = "http://localhost:2023"
```

### Function register user 
ÙØ§Ù†Ø´Ù† `registerUser` Ú©Ø§Ø± Ø«Ø¨Øª Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø± Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯Ù‡ . 

Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø± Ø±Ùˆ Ù…ÛŒÚ¯ÛŒØ±Ù‡ Ùˆ Ø¨Ù‡ Ø³Ù…Øª server Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒ Ú©Ù†Ù‡ . 

```javascript
export const registerUser = async (

};
```
**Ù†Ú©ØªÙ‡** : ØªÙ…Ø§Ù…ÛŒ ÙØ§Ù†Ú©Ø´Ù† Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ api Ø§Ø² Ù†ÙˆØ¹ async Ù‡Ø³ØªÙ†Ø¯ Ùˆ Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± export Ø´Ø¯Ù† 



### register user function parameters

- UserRegisterData


```javascript
export const registerUser = async (
  UserRegisterData: registeruserType,
) => {
};
``` 
#### Parameter UserRegisterData

Ø®Ø¨ parameter userRegisterData Ø¯Ø± ÙˆØ§Ù‚Ø¹ ÛŒÚ© state Ù‡Ø³Øª . 

Ú©Ù‡ Ø§ÛŒÙ† state ØªÙ…Ø§Ù…ÛŒ value Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ input Ù‡Ø§ÛŒ Ø«Ø¨Øª Ù†Ø§Ù… Ø±Ùˆ Ø¯ÙˆØ±Ù† Ø®ÙˆØ¯Ø´ Ø°Ø®ÛŒØ±Ù‡ Ú©Ø±Ø¯Ù‡ . 

Ø¨Ù‡ Ø·ÙˆØ± Ø®Ù„Ø§ØµÙ‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ø«Ø¨Øª Ù†Ø§Ù… Ú©Ø±Ø¯Ù‡ Ø±Ùˆ Ø¯Ø±ÙˆÙ† Ø®ÙˆØ¯Ø´ Ø¯Ø§Ø±Ù‡ . 


#### Type UserRegisterData

Ø§Ø² Ø§ÙˆÙ†Ø¬Ø§ÛŒ Ú©Ù‡ Ø§Ø² ØªØ§ÛŒÙ¾ Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ù†ÙˆØ¹ ØªØ§ÛŒÙ¾ parameter Ù…Ø´Ø®Øµ Ø´Ø¯Ù‡ . 

```javascript
export const registerUser = async (
  UserRegisterData: registeruserType,

) => {
};
```

Ù†ÙˆØ¹ ØªØ§ÛŒÙ¾ parameter UserRegisterData Ø¨Ø±Ø§Ø¨Ø± Ø´Ø¯Ù‡ Ø¨Ø§ registeruserType . 

```typescript
interface registeruserType {
  username?: string;
  password: string;
  confirmPassword: string;
  pic: {};
}

```

Ú©Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ ÛŒÚ© `interface` ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ Ù‡Ø³Øª . 


**Ù†Ú©ØªÙ‡**: Ø¨Ø±Ø§ÛŒ ØªØ¹Ø±ÛŒÙ Ú©Ø±Ø¯Ù† Ù†ÙˆØ¹ ØªØ§ÛŒÙ¾ Ù‡Ø§ Ø§Ø² Ù‚Ø§Ø¨Ù„ÛŒØª interface ØªØ§ÛŒÙ¾ Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡ .   

Ú©Ù‡ Ù‡Ù…ÙˆÙ†Ø·ÙˆØ± Ú©Ù‡ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…ÛŒØ´Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø± Ù‡Ø³Øª Ú©Ù‡ Ø¨Ø±Ø§Ø± Ø¨Ø§ `string` . 




ÙØ§Ù†Ú©Ø´Ù†  registerUser Ù…ÛŒØ´Ù‡ Ú©Ø¯ Ø²ÛŒØ± : 
```javascript
export const registerUser = async (
  UserRegisterData: registeruserType,
  
) => {
};
```

**Ù†Ú©ØªÙ‡**: Ø¹Ù„Ø§Ù…Øª ØŸ Ø¯Ø± Ú©Ø¯ interface Ø¨Ø§Ù„Ø§ Ø¨Ù‡ Ø§ÛŒÙ† Ù…Ø¹Ù†ÛŒ optional Ø¨ÙˆØ¯Ù† Ù‡Ø³Øª . 


Ø¯Ø± ÙˆØ§Ù‚Ø¹ ØŸ Ú†Ú© Ù…ÛŒ Ú©Ù†Ù‡ Ø§Ú¯Ø± Ù…Ù‚Ø§Ø¯ÛŒØ± Ù…Ø§ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´ØªÙ†Ø¯  `undefinde` Ù†Ø¨ÙˆØ¯Ù†Ø¯ .

Ù†ÙˆØ¹ ØªØ§ÛŒÙ¾ Ø´ÙˆÙ† `string` Ù‡Ø³Øª . 

Ø¯Ù‚ÛŒÙ‚Ø§ Ù‡Ù…ÙˆÙ† Ú©Ø§Ø± Ú©Ù‡ Ø¯Ø± javascript Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯ÛŒÙ… . 

Ù…Ø«Ù„Ø§ : 
```javascript
data?.users.map((user)=> return <p>{user}</p>)
```
Ø¯Ø± Ú©Ø¯ Ø¨Ø§Ù„Ø§ Ø§Ø² ØŸ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯ÛŒÙ… Ùˆ Ú¯ÙØªÛŒÙ… Ø§Ú¯Ø± Ú©Ù‡ data ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´Øª . 

Ø¨ÛŒØ§Ø¯ users Ù‡Ø§ Ø±Ùˆ map Ú©Ù†Ù‡ . 

# countinue register user function

Ø®Ø¨ Ù¾Ø§Ø±Ø§Ù…ØªØ± Ù‡Ø§ÛŒ ÙØ§Ù†Ú©Ø´Ù† registerUser Ø±Ùˆ ØªÙˆØ¶ÛŒØ­ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯ . 

Ø¯Ø±ÙˆÙ† ÙØ§Ù†Ú©Ø´Ù† Ø¨Ù‡ value input Ù‡Ø§ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¯Ø§Ø±ÛŒÙ…  . 

```javascript
export const registerUser = async (
  UserRegisterData: registeruserType,
) => {
try {}
  catch(err) {}
};
```

Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¨ØªÙˆÙ†ÛŒÙ… error Ù‡Ø§Ø±Ùˆ Ù‡Ù… Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… Ø¨Ù„Ø§Ú© catch Ø±Ùˆ ØªØ¹Ø±ÛŒÙ Ú©Ø±Ø¯ÛŒÙ… . 

Ø¯Ø± Ú©Ù„ error Ù‡Ø§Ø±Ùˆ handle Ú©Ù†ÛŒÙ… Ø§Ø² block try / catch Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 
```javascript
export const registerUser = async (
  UserRegisterData: registeruserType,

) => {

  try {
  } catch (err: any & { response?: unknown }) {
  }
};
```
Ø¯Ø±ÙˆÙ† Ø¨Ù„Ø§Ú© try Ù…ÛŒØ§ÛŒÙ… Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø®ÙˆØ¯Ù…ÙˆÙ† Ø±Ùˆ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ axios Ù…ÛŒ ÙØ±Ø³ØªÛŒÙ… .

Ú†ÙˆÙ† Ø¨Ù‡ Ø§Ø¯Ø±Ø³ api Ø®ÙˆØ¯Ù…ÙˆÙ† rigster/ Ù…ÛŒØ§ÛŒÙ… Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø± Ø±Ùˆ Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ù‚Ø¨Ù„Ø§ Ù‡Ù… Ú©Ù‡ [baseUrl](#base-url-axios-option) Ø¨Ø§Ù„Ø§ ØªØ± ØªÙˆØ¶ÛŒØ­ Ø¯Ø§Ø¯ÛŒÙ… 


```javascript
export const registerUser = async (
  UserRegisterData: registeruserType,

) => {

  try {
    const register = await axios.post(`${baseUrl}/register`, UserRegisterData, {

    });
    );

  } catch (err: any & { response?: unknown }) {
  }
};
```
Ø¯Ø± ÙˆØ§Ù‚Ø¹ userRegisterData Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±ÛŒ Ù‡Ø³Øª Ú©Ù‡ Ø«ÛŒØª Ù†Ø§Ù… Ú©Ø±Ø¯Ù‡ Ø±Ùˆ Ù…ÛŒ ÙØ±Ø³ØªÛŒÙ… . 

Ú©Ù‡  userRegisterData ÛŒÚ© state Ù‡Ø³Øª Ø¯Ø±ÙˆÙ† Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Register.tsx Ú©Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª input Ù‡Ø§Ø±Ùˆ Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒ Ú©Ù†Ù‡ .

 



Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ `headers` Ø³Øª Ø´Ø¯Ù‡ . 


```javascript
    const register = await axios.post(`${baseUrl}/register`, UserRegisterData, {
      headers: { "Content-Type": "application/json" },
    });
```
Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ù…ØªØºÛŒØ±ÛŒ Ú©Ù‡ Ø¨Ø±Ø§ÛŒ Ø§Ø±Ø³Ø§Ù„ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ù‡ Ø§Ø³Ù… `register` ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ . 

Ø¯Ø±ÙˆÙ† Ø¨Ù„Ø§Ú© try Ù…ÛŒØ§ÛŒÙ… return Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ø¨Ù‡ Ø§ÛŒÙ† Ø¯Ù„ÛŒÙ„ Ú©Ù‡ Ù…ÛŒ Ø®ÙˆØ§ÛŒÙ… Ø§Ø·Ù„Ø§Ø¹Ø§ØªÛŒ Ú©Ù‡ api Ø¨Ù‡ Ù…Ø§ response Ù…ÛŒØ¯Ù‡ Ø±Ùˆ Ø¯Ø±ÙˆÙ† Ú©Ø§Ù…Ù¾ÙˆÙ†Øª [Register.tsx](#function-register-user)

Ø¯Ø³ØªØ±Ø³ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… . response Ú©Ù‡ api /register Ø¨Ù‡ Ù…Ø§ Ù…ÛŒØ¯Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±ÛŒ Ù‡Ø³Øª Ú©Ù‡ Ø«Ø¨Øª Ù†Ø§Ù… Ú©Ø±Ø¯Ù‡ . 

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ø¯Ø±ÙˆÙ† Ø¨Ù„Ø§Ú© try Ú©Ø¯ Ø²ÛŒØ± Ø±Ùˆ Ø®ÙˆØ§Ù‡ÛŒÙ… Ø¯Ø§Ø´Øª : 
```javascript
export const registerUser = async (UserRegisterData: registeruserType) => {
  // console.log(UserRegisterData);
  try {
    const register = await axios.post(`${baseUrl}/register`, UserRegisterData, {
      headers: { "Content-Type": "application/json" },
    });
    // console.log(register, "response user is register");
    return register;
  } catch (err: any & { response?: unknown }) {

  }
};
```
**Ù†Ú©ØªÙ‡**: Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¨ÛŒØ´ØªØ± Ú©Ù‡ `data` Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… ÛŒØ§ Ø®ÛŒØ± ÛŒÚ© `console.log` Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ…

Ù‚Ø¨Ù„ Ø§Ø² `return` 

```javascript
 console.log(register, "response user is register");
```

### catch block register user function

Ø¯Ø±ÙˆÙ† Ø¨Ù„Ø§Ú© `catch` Ù…ÛŒØ§ÛŒÙ… Ø§Ø±ÙˆØ± Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ register error Ú©Ù†ØªØ±Ù„ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ø§Ú¯Ø± ÛŒØ§Ø¯ØªÙˆÙ† Ø¨Ø§Ø´Ù‡ ÛŒÚ© [setErrorRegister](#parameter-seterrorregister) Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† parameter Ø¯Ø§Ø´ØªÛŒÙ… . 

Ú©Ù‡ ÙˆØ¸ÛŒÙÙ‡ Ø§ÛŒÙ† set state Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø°Ø®ÛŒØ±Ù‡ Ú©Ø±Ø¯Ù† Ø§Ø±ÙˆØ± Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ø«Ø¨Øª Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø± Ù‡Ø³Øª  . 

Ø¯Ø± Ù†ØªÛŒØ¬Ù‡ Ø§ÛŒÙ† Ø§Ø±ÙˆØ± Ù‡Ø§Ø±Ùˆ Ø¯Ø±ÙˆÙ† ÛŒÚ© state Ø¨Ù‡ Ø§Ø³Ù… errorRegister Ø®ÙˆØ§Ù‡ÛŒÙ… Ø¯Ø§Ø´Øª . 

Ú©Ù‡ Ø§ÛŒÙ† state Ø¯Ø± Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Register.tsx Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯Ù‡ . 

Ø§Ø² Ø§ÙˆÙ†Ø¬Ø§ÛŒ Ú©Ù‡ Ø§Ø±ÙˆØ± Ù‡Ø§ÛŒ Ù…Ø§ Ø§Ø² Ø³Ù…Øª Ø³Ø±ÙˆØ± Ø¨Ù‡ ØµÙˆØ±Øª Ø§Ø¨Ø¬Ú©Øª Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒØ´Ù‡ . 

Ø¯Ø± Ù†ØªÛŒØ¬Ù‡ state errorRegister Ø¨Ù‡ ØµÙˆØ±Øª Ø§Ø¨Ø¬Ú©Øª Ø§Ø³Øª . 

Ø¨Ù„Ø§Ú© catch : 

```javascript
catch (err: any & { response?: unknown }) {
    const errors = err?.response?.data;
    return errors;
  }
```

Ù†ÙˆØ¹ ØªØ§ÛŒÙ¾ err Ø±Ùˆ Ø±ÙˆÛŒ any Ú¯Ø°Ø§Ø´ØªÛŒÙ… Ùˆ Ù†ÙˆØ¹ response Ø±Ùˆ Ú¯ÙØªÛŒÙ… Ø§Ú¯Ø± `undefinde` Ù†Ø¨ÙˆØ¯ Ø¨ÛŒØ§Ø¯ `unknown` Ø¨Ø§Ø´Ù‡

Ø¨Ù‡ Ø§ÛŒÙ† Ø¯Ù„ÛŒÙ„ Ú©Ù‡ Ù†Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… ØªØ´Ø®ÛŒØµ Ø¨Ø¯ÛŒÙ… Ú©Ù‡ Ù†ÙˆØ¹ ØªØ§ÛŒÙ¾ err Ø¯Ù‚ÛŒÙ‚Ø§ Ú†ÛŒ Ù…ÛŒ ØªÙˆÙ†Ù‡ Ø¨Ø§Ø´Ù‡ . 

Ø®Ø¨ Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ú©Ø¯ Ú©Ø§Ù…Ù„ register function Ø¨Ù‡ ØµÙˆØ±Øª Ø²ÛŒØ± Ù‡Ø³Øª : 

```javascript
export const registerUser = async (UserRegisterData: registeruserType) => {
  // console.log(UserRegisterData);
  try {
    const register = await axios.post(`${baseUrl}/register`, UserRegisterData, {
      headers: { "Content-Type": "application/json" },
    });
    // console.log(register, "response user is register");
    return register;
  } catch (err: any & { response?: unknown }) {
    const errors = err?.response?.data;
    return errors;
  }
};
```
Ú©Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø± Ø±Ùˆ Ù…ÛŒÚ¯ÛŒØ±Ù‡ Ùˆ Ø¨Ù‡ Ø³Ù…Øª `server` Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒ Ú©Ù†Ù‡ . 

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª `server` Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø± Ø±Ùˆ Ø¯Ø± Ø¯ÛŒØªØ§ Ø¨ÛŒØ³ Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒ Ú©Ù†Ù‡ . 

# Function LoginUser 

Ø¯Ø±ÙˆÙ† ÙÙˆÙ„Ø¯Ø± [api](#base-url-axios-option) Ø¯Ø± ÙØ§ÛŒÙ„ user.tsx ÛŒÚ© ÙØ§Ù†Ú©Ø´Ù† Ø¨Ø±Ø§ÛŒ login Ø´Ø¯Ù† Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¯Ø§Ø±ÛŒÙ… . 

Ú©Ø§Ø± Ø§ÛŒÙ† ÙØ§Ù†Ú©Ø´Ù† Ø§Ø±Ø³Ø§Ù„ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†ÛŒ Ú©Ù‡ Ù‚ØµØ¯ Ù„Ø§Ú¯ÛŒÙ† Ú©Ø±Ø¯Ù† Ø±Ùˆ Ø¯Ø§Ø±Ù†Ø¯ Ø¨Ù‡ Ø³Ù…Øª `server` . 

Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ù…ÙˆØ±Ø¯ server ÛŒÚ© api Ø¯Ø± Ù†Ø¸Ø± Ø¯Ø§Ø±Ù‡ . 

Ù…ØªØ¯ api Ø§Ø² Ù†ÙˆØ¹ `post`  . 

Ø§Ø¯Ø±Ø³ api Ù…Ø¯ Ù†Ø¸Ø± Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ù„Ø§Ú¯ÛŒÙ† login/ . 

**Ù†Ú©ØªÙ‡** : Ù‚Ø¨Ù„ ØªØ± Ø§Ø´Ø§Ø±Ù‡ Ú©Ø±Ø¯Ù‡ Ø¨ÙˆØ¯ÛŒÙ… Ú©Ù‡ ØªÙ…Ø§Ù…ÛŒ ÙØ§Ù†Ú©Ø´Ù† Ù‡Ø§ Ø§Ø² Ù†ÙˆØ¹ `async` Ù‡Ø³ØªÙ†Ø¯ Ùˆ Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± `export` Ø´Ø¯Ù†Ø¯ .

```javascript
export const loginUser = async (userLoginData: loginValue) => {

};
```
ÛŒÙ‡ Ù†Ú¯Ø§Ù‡ÛŒ Ø¨Ù‡ import Ù‡Ø§ÛŒ Ø¯Ø±ÙˆÙ† login.tsx Ø¨Ù†Ø¯Ø§Ø²ÛŒÙ… . 


```javascript
   const { setUserInforOnline, userInfoOnline } = useGlobalContext();
  const navigate = useNavigate();
  const [toast, setToast] = useState<Boolean>(false);
```

ÛŒÚ© state Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ø§Ø² useGlobalContext Ø¯Ø§Ø±Ù‡ Ú¯Ø±ÙØªÙ‡ Ù…ÛŒØ´Ù‡ . 

Ú©Ù‡ Ø¯Ø± Ø¨Ø®Ø´ [Header.tsx](#headertsx-componet) Ø³Ø§Ø®Øª  [context](#create-context) Ú¯ÙØªÙ‡ Ø´Ø¯Ù‡ . 

### loginUser parameter 

ÙØ§Ù†Ú©Ø´Ù† loginUser ÛŒÚ© parameter Ø¯Ø§Ø±Ù‡ Ø¨Ù‡ Ø§Ø³Ù… userLoginData Ú©Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ ÛŒÚ© state .

Ø¯Ø±ÙˆÙ† Ø§ÛŒÙ† state ÛŒÚ© Ø§Ø¨Ø¬Ú©Øª Ù‚Ø±Ø§Ø± Ú¯Ø±ÙØªÙ‡ Ø¨Ù‡ ØµÙˆØ±Øª default . 

Ø§ÛŒÙ† state Ø¯Ø±Ùˆ Ú©Ø§Ù…Ù…Ù¾ÙˆÙ†Øª Login.tsx ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ Ùˆ Ù‡Ù…ÙˆÙ†Ø¬Ø§ Ù‡Ù… Ø¨Ù‡ ÙØ§Ù†Ú©Ø´Ù† loginUser Ù¾Ø§Ø³ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡ . 

### loginUser parameter type 

ØªØ§ÛŒÙ¾ Ø§ÛŒÙ† Ù¾Ø§Ø±Ø§Ù…ØªØ± Ú©Ù‡ Ú¯ÙØªÛŒÙ… ÛŒÚ© Ø§Ø¨Ø¬Ú©ØªÙ‡ Ùˆ Ø­Ø§ÙˆÛŒ Ø¯Ùˆ ØªØ§ key Ø¨Ù‡ Ø§Ø³Ù… `username` Ùˆ `password` . 

Ø§ÛŒÙ† Ø¯ÙˆØªØ§ Ø¯Ø±ÙˆØ§Ù‚Ø¹ value Ø§ÛŒÙ†Ù¾ÙˆØª Ù‡Ø³Øª Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø¨Ø±Ø§ÛŒ login Ø´Ø¯Ù† ÙˆØ§Ø±Ø¯ Ù…ÛŒ Ú©Ù†Ù‡ . 

Ù‡Ø± Ø¯Ùˆ `string` Ù‡Ø³ØªÙ†Ø¯   , `interface` Ù¾Ø§Ø±Ø§Ù…ØªØ±  : 

```typescript
interface loginValue {
  username: string;
  password: string;
}
```

**Ù†Ú©ØªÙ‡** : Ù‡Ø± ÙØ§Ù†Ú©Ø´Ù† Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ú©Ø§Ø± Ø¨Ø§ api ÛŒÚ© Ø¨Ù„Ø§Ú© try / catch Ø¯Ø§Ø±Ù‡ . 

Ú©Ù‡ Ø¯Ø±ÙˆÙ† Ø¨Ù„Ø§Ú© try Ø³Ø¹ÛŒ Ø¨Ø± Ú¯Ø±ÙØªÙ† response Ù…ÛŒØ´Ù‡ . 

Ùˆ Ø¯Ø± ØµÙˆØ±Øª Ù‡Ø± Ú¯ÙˆÙ†Ù‡ error Ø¨Ù„Ø§Ú© catch Ø§Ø¬Ø±Ø§ Ù…ÛŒØ´Ù‡ . 

Ø¯Ø±ÙˆÙ† Ø¨Ù„Ø§Ú© catch Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… Ø§Ø±ÙˆØ± Ù‡Ø§Ù…ÙˆÙ† Ø±Ùˆ Ú©Ù†ØªØ±Ù„ Ú©Ù†ÛŒÙ… . 


Ú©Ø¯ ÙØ§Ù†Ú©Ø´Ù† loginUser : 
```javascript
export const loginUser = async (userLoginData: loginValue) => {
  try {
    const user = await axios.post(`${baseUrl}/login`, userLoginData);
    console.log("User Data in api LoginUser Function", user);
    return user;
  } catch (err) {
    console.log(" login api err ", err);
     return err;
  }
};
```
Ø¯Ø± Ø¨Ù„Ø§Ú© try Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ axios Ø¯ÛŒØªØ§ Ù…Ø¯ Ù†Ø¸Ø±Ù…ÙˆÙ† 

Ú©Ù‡  Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø± Ú©Ù‡ Ù‚ØµØ¯ Ù„Ø§Ú¯ÛŒÙ† Ù‡Ø³Øª Ø±Ùˆ ÙØ±Ø³ØªØ§Ø¯ÛŒÙ… . 

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ `user` Ú©Ù‡ Ù„Ø§Ú¯ÛŒÙ† Ø´Ø¯Ù‡ Ø±Ùˆ return Ø´Ø¯Ù‡ .
```javascript
return user;
```

Ø¨Ù‡ Ø§ÛŒÙ† Ø¯Ù„ÛŒÙ„ Ú©Ù‡ Ù…ÛŒ Ø®ÙˆØ§ÛŒÙ… Ø¨Ø¹Ø¯Ø§ Ø¯Ø± Ø¬Ø§ÛŒ Ø¯ÛŒÚ¯Ù‡ Ø§Ø² Ø§ÛŒÙ† data Ú©Ù‡ Ø¯Ø§Ø±ÛŒÙ… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… . 


# Function profileUser 

ÙØ§Ù†Ú©Ø´Ù† profileUser Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø¨Ø±Ø§ÛŒ Ù†Ø´ÙˆÙ† Ø¯Ø§Ø¯Ù† Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒØ´Ù‡ . 

Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ù„Ø§Ú¯ÛŒÙ† Ú©Ø±Ø¯Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø± Ù„Ø§Ú¯ÛŒÙ† Ø´Ø¯Ù‡ Ø¯Ø± ÙØ§Ù†Ú©Ø´Ù† profileUser Ø¨Ø±Ú¯Ø´Øª Ø¯Ø§Ø¯Ù‡ Ù…ÛŒØ´Ù‡ . 

Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø± Ø±Ùˆ Ù…ÛŒÚ¯ÛŒØ±ÛŒÙ… Ùˆ Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ú©Ù‡ Ø¬Ù„Ùˆ ØªØ± Ø¨Ø±Ø±Ø³ÛŒ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ù‡Ø± Ø¬Ø§ Ø®ÙˆØ§Ø³ØªÛŒÙ… Ù†Ø´ÙˆÙ† Ù…ÛŒØ¯ÛŒÙ… . 

```javascript
export const profileUser = async () => {
  try {
    const user = await axios.get(`${baseUrl}/profile`);
    return user.data;
  } catch (err) {
    console.log(" profile api err", err);
        return err;
  }
};
```

# Function logoutUser 

Ø§ÛŒÙ† ÙØ§Ù†Ú©Ø´Ù† Ø¯Ø± ÙØ±Ø§Ù†Øª Ø§Ù†Ø¯ Ø¯Ø± ÙÙˆÙ„Ø¯Ø± api Ú©Ø§Ø± logout Ø´Ø¯Ù† Ú©Ø§Ø±Ø¨Ø± Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯Ù‡ . 

ÛŒÚ© api Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ø§Ø± Ù†ÙˆØ´ØªÙ‡ Ø´Ø¯Ù‡ Ú©Ù‡ Ø¨Ù‡ Ù…Ø­Ø¶ Ø±Ø§Ù† Ø´Ø¯Ù† Ø§ÛŒÙ† ÙØ§Ù†Ú©Ø´Ù† Ú©Ø§Ø±Ø¨Ø± Ù…Ø¯ Ù†Ø¸Ø± logout Ù…ÛŒØ´Ù‡ . 

```javascript 
export const logoutUser = async () => {
  try {
    const user = axios.post(`${baseUrl}/logout`);
    return user;
  } catch (err) {
    console.log(" logoutUser api err", err);
    return err;
  }
};
```
# Function uploadRegisterImage 

Ø§Ø®Ø±ÛŒÙ† ÙØ§Ù†Ú©Ø´Ù†ÛŒ Ú©Ù‡ Ø¯Ø± Ø¨Ø®Ø´ api Ø¯Ø§Ø±ÛŒÙ… Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ø§Ù¾Ù„ÙˆØ¯ Ø´Ø¯Ù† Ø¹Ú©Ø³ Ù¾Ø±ÙØ§ÛŒÙ„ Ú©Ø§Ø±Ø¨Ø± Ù‡Ø³Øª . 

Ú©Ø§Ø±Ø¨Ø± Ø¯Ø± Ø²Ù…Ø§Ù† Ø«Ø¨Øª Ù†Ø§Ù… Ù…ÛŒ ØªÙˆÙ†Ù‡ ÛŒÚ© Ø¹Ú©Ø³ Ø±Ùˆ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ù¾Ø±ÙØ§ÛŒÙ„ Ø®ÙˆØ¯Ø´ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†Ù‡ . 

Ø§ÛŒØªØ¬Ø§ Ø§Ø² ÛŒÚ© Ø³Ø§ÛŒØª Ø®Ø§Ø±Ø¬ÛŒ Ú©Ù‡ ÙØ¶Ø§ÛŒ Ø§Ø¨Ø±ÛŒ Ø¯Ø± Ø§Ø®ØªÛŒØ§Ø± Ù…Ø§ Ù‚Ø±Ø§Ø± Ù…ÛŒØ¯Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯ÛŒÙ… . 

Ø§Ø³Ù… Ø³Ø§ÛŒØª `coludinary` Ù‡Ø³Øª Ú©Ù‡ Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… ÙØ§ÛŒÙ„ Ø¯Ø±ÙˆÙ†Ø´ Ø§Ù¾Ù„ÙˆØ¯ Ú©Ù†ÛŒÙ… . 

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ø±ÛŒØ³Ù¾Ø§Ù†Ø³ ÛŒÚ© Ù„ÛŒÙ†Ú© Ø§Ù†Ù„Ø§ÛŒÙ† Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ù†Ù„ÙˆØ¯ ÙØ§ÛŒÙ„ Ù…Ø¯ Ù†Ø¸Ø± Ù…ÙˆÙ† Ù…ÛŒØ¯Ù‡ . 

``` javascript
const cloudinaryApi = `https://api.cloudinary.com/v1_1/cloud_name/image/upload`;

export const uploadRegisterImage = async (pic: {} | any) => {
  try {
    const data = new FormData();
    data.append("file", pic);
    data.append("upload_preset", "****");
    data.append("cloud_name", "****");
    const res = await axios.post(cloudinaryApi, data, {
      withCredentials: false,
    });
    console.log(res, "response");
    return res;
  } catch (err:any) {
    console.log(err);
    return err;
  }
};
```

### Paremeter uploadRegisterImage

ÛŒÚ© parameter Ø¨Ù‡ Ø§Ø³Ù… pic Ù‡Ø³Øª .

 Ø¹Ú©Ø³ÛŒ Ù‡Ø³Øª Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ø¹Ú©Ø³ Ù¾Ø±ÙØ§ÛŒÙ„ Ø§Ù†ØªØ®Ø§Ø¨ Ù…ÛŒ Ú©Ù†Ù‡ . 

 Ø§ÛŒÙ† Ø¹Ú©Ø³ Ø§Ø² Ø±ÙˆÛŒ Ø³ÛŒØ³ØªÙ… Ú©Ø§Ø±Ø¨Ø± Ú¯Ø±ÙØªÙ‡ Ù…ÛŒØ´Ù‡ . 

 Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¨ØªÙˆÙ†ÛŒÙ… Ø§ÛŒÙ† Ø¹Ú©Ø³ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒÙ… Ø¨Ù‡ api Ø³Ø§ÛŒØª `cloudinary`  . 

 Ù†ÛŒØ§Ø² Ù‡Ø³Øª Ú©Ù‡ Ø§Ø² `FormData` Ø¯Ø±ÙˆÙ† `javascript` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… . 

 3 Ù…ÙˆØ±Ø¯ Ø±Ùˆ append Ù…ÛŒ Ú©Ù†ÛŒÙ… Ø¯Ø±ÙˆÙ† FormData Ú©Ù‡ Ù…ÙˆØ±Ø¯ Ø§ÙˆÙ„ file Ù‡Ø³Øª . 

 Ù…Ù‚Ø¯Ø§Ø± file Ø±Ùˆ Ø¨Ø±Ø§Ø¨Ø± Ø¨Ø§ pic Ù‚Ø±Ø§Ø± Ù…ÛŒØ¯ÛŒÙ… Ø¹Ú©Ø³ÛŒ Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ú¯Ø°Ø§Ø´ØªÙ‡ . 

 2 Ù…Ù‚Ø¯Ø§Ø± Ø¨Ø¹Ø¯ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ api Ø³Ø§ÛŒØª `cloudinary` Ù‡Ø³Øª . 

Ø§ÛŒÙ† 2 Ù…Ù‚Ø¯Ø§Ø± Ù†ÛŒØ§Ø² Ù‡Ø³Øª Ú©Ù‡ Ø³Øª Ø´Ù† ÛŒÚ©ÛŒ `upload_preset` Ù‡Ø³Øª Ú©Ù‡ Ø§Ø² Ø®ÙˆØ¯Ù‡ Ø³Ø§ÛŒØª Ø¨Ø§ÛŒØ¯ Ø¨Ú¯ÛŒØ±ÛŒÙ… 

ÛŒÚ©ÛŒ `cloud_name` Ù‡Ø³Øª Ú©Ù‡ Ø§ÛŒÙ†Ùˆ Ù‡Ù… Ø§Ø² Ø¯Ø§Ø®Ù„ dashboard Ø³Ø§ÛŒØª `cloudinary` Ø¨Ø± Ù…ÛŒØ¯Ø§Ø±ÛŒÙ… . 

**Ù†Ú©ØªÙ‡** : cloud_name Ù‡Ù… Ù†ÛŒØ§Ø²Ù‡ Ú©Ù‡ append Ø´Ù‡ Ù‡Ù… Ø§ÛŒÙ†Ú©Ù‡ Ø¯Ø± Ø§Ø¯Ø±Ø³ api Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ù‡ 

```javascript 
const cloudinaryApi = `https://api.cloudinary.com/v1_1/cloud_name/image/upload`;
```
```javascript 
  data.append("cloud_name", "*****");
  ```

Ø§Ø² Ù…ÙˆØ§Ø±Ø¯ cloud_name Ùˆ upload_preset Ù†ÛŒØ§Ø² Ù‡Ø³Øª Ú©Ù‡ Ø¨Ù‡ ØµÙˆØ±Øª secret Ø¨Ø§Ø´Ù†Ø¯ .

Ø§Ø² Ø¯Ø³ØªØ±Ø³ Ø¯ÛŒÚ¯Ø±Ø§Ù† Ø®Ø§Ø±Ø¬ Ø¨Ø§Ø´Ù† ØªØ§ Ø´Ø®ØµÛŒ Ø§Ø² Ø§ÛŒÙ† Ø¯Ùˆ Ù…ÙˆØ±Ø¯ Ùˆ Ø§Ú©Ø§Ù†Øª Ø´Ù…Ø§ Ù†ØªÙˆÙ†Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†Ù‡ .

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ ÙØ§Ù†Ú©Ø´Ù† Ø¯Ø§Ø±ÛŒÙ… Ø¯ÛŒØªØ§ÛŒ Ø®ÙˆØ¯Ù…ÙˆÙ† Ø±Ùˆ Ú©Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø¹Ú©Ø³ Ú©Ø§Ø±Ø¨Ø± Ù‡Ø³Øª Ø±Ùˆ Ù¾Ø³Øª Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ø¨Ù‡ Ø³Ø§ÛŒØª `cloudinary` Ú©Ù‡ ÛŒÚ© api Ø¯Ø± Ø§Ø®ØªÛŒØ§Ø± Ù…Ø§ Ù‚Ø±Ø§Ø± Ø¯Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ø§Ù¾Ù„ÙˆØ¯ ÙØ§ÛŒÙ„ . 

Ø§ÛŒÙ†Ø¬Ø§ Ø¹Ú©Ø³ Ú©Ù‡ Ø¯Ø±ÙˆÙ† ÙØ±Ù… Ø¯ÛŒØªØ§ Ù‚Ø±Ø§Ø± Ø¯Ø§Ø¯ÛŒÙ… Ùˆ Ù…ÙˆØ§Ø±Ø¯ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ api Ø±Ùˆ Ø³Øª Ú©Ø±Ø¯ÛŒÙ… 

Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ø¨Ù‡ api cloudinary 

```javascript
  const res = await axios.post(cloudinaryApi, data, {
    withCredentials: false,
  });
```
**Ù†Ú©ØªÙ‡** :
Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ options [withCredentials](#credentials-in-client-with-axios) Ø±ÙˆÛŒ false Ú¯Ø°Ø§Ø´ØªÛŒÙ… . 

Ø§Ø² Ù„ÛŒÙ†Ú© Ø¨Ø§Ù„Ø§ Ù…ÛŒ ØªÙˆÙ†ÛŒØ¯ section Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ withCredentials Ø±Ùˆ Ø¨Ø®ÙˆÙ†ÛŒØ¯ . 

Ø¨Ù‡ Ø§ÛŒÙ† Ø¯Ù„ÛŒÙ„ Ú©Ù‡ Ù‚Ø¨Ù„Ø§ Ø¨Ø±Ø§ÛŒ ØªÙ…Ø§Ù…ÛŒ api Ù‡Ø§ Ú¯ÙØªÛŒÙ… withCrednetials":true Ø¨Ø§Ø´Ù‡ . 

Ø§Ù…Ø§ ÙˆÙ‚ØªÛŒ Ú©Ù‡ Ù…ÛŒ Ø®ÙˆØ§ÛŒÙ… Ø¨Ø§ ÛŒÚ© api Ø¯ÛŒÚ¯Ù‡ Ú©Ø§Ø± Ú©Ù†ÛŒÙ… Ù…Ù…Ú©Ù†Ù‡ Ø¨Ù‡ Ù…Ø§ Ø§Ø±ÙˆØ± `cors policy` Ø¨Ø¯Ù‡ . 

Ùˆ api Ù…Ø§ Ø¨Ù‡ Ø¯Ø±Ø³ØªÛŒ Ú©Ø§Ø± Ù†Ú©Ù†Ù‡ . 

Ø¨Ù‡ Ù‡Ù…ÛŒÙ† Ø¯Ù„ÛŒÙ„ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø± Ø¨Ø§ api cloudnariy Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ…

Ú©Ù‡ `withCredentials` Ø±Ùˆ Ø±ÙˆÛŒ false Ø¨Ø²Ø§Ø±ÛŒÙ… 

ØªØ§ Ø¨Ø§ Ø§Ø±ÙˆØ± cors policy Ù…ÙˆØ§Ø¬Ù‡ Ù†Ø´ÛŒÙ… . 

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ `response` Ú©Ù‡ Ø¯Ø± ÛŒØ§ÙØª Ù…ÛŒ Ú©Ù†ÛŒÙ… return Ø´Ø¯Ù‡ . 

ÛŒÚ© Ø¨Ø§Ø± Ø¯ÛŒÚ¯Ù‡ Ø¨Ù‡ Ú©Ù„ ÙØ§Ù†Ú©Ø´Ù† Ù†Ú¯Ø§Ù‡ Ú©Ù†ÛŒÙ… : 

```javascript 
 const cloudinaryApi = `https://api.cloudinary.com/v1_1/cloud_name/image/upload`;
export const uploadRegisterImage = async (pic: {} | any) => {
  const data = new FormData();
  data.append("file", pic);
  data.append("upload_preset", "*****");
  data.append("cloud_name", "*****");
  const res = await axios.post(cloudinaryApi, data, {
    withCredentials: false,
  });
  return res;
};
  ```
Ø±ÛŒØ³Ù¾Ø§Ù†Ø³ÛŒ Ú©Ù‡ api Ø³Ø§ÛŒØª `cloudinary` Ø¨Ù‡ Ù…Ø§ Ø¨Ø±Ú¯Ø´Øª Ù…ÛŒØ¯Ù‡ . 

Ù„ÛŒÙ†Ú© Ø§Ù†Ù„Ø§ÛŒÙ† Ø¹Ú©Ø³ Ø§Ù¾Ù„ÙˆØ¯ Ø´Ø¯Ù‡ Ù‡Ø³Øª . 

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ù„ÛŒÙ†Ú© Ø§Ù†Ù„Ø§ÛŒÙ† Ø¹Ú©Ø³ Ø±Ùˆ Ø¨Ù‡ Ø³Ù…Øª `server` Ø¯Ø±ÙˆÙ† Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Register.tsx Ù¾Ø§Ø³ Ù…ÛŒØ¯ÛŒÙ… . 

Ùˆ Ø§Ø² Ø¹Ú©Ø³ÛŒ Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø§Ù¾Ù„ÙˆØ¯ Ú©Ø±Ø¯Ù‡ Ùˆ Ù…Ø§ Ø¨Ù‡ Ù„ÛŒÙ†Ú© Ø§Ø´ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¯Ø§Ø±ÛŒÙ… . 

Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ø¹Ú©Ø³ Ù¾Ø±ÙØ§ÛŒÙ„ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 


ØªØ§ Ø¨Ù‡ Ø§ÛŒÙ†Ø¬Ø§ Ø¯Ø± Ù…ÙˆØ±Ø¯ ÙÙˆÙ„Ø¯Ø± [api](#api-folder) Ø¯Ø±ÙˆÙ† clinet ØµØ­Ø¨Øª Ú©Ø±Ø¯ÛŒÙ… . 

Ù…ÛŒ Ø®ÙˆØ§ÛŒÙ… Ø¨Ø±ÛŒÙ… Ø³Ø±Ø§Øº Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Ù‡Ø§ . 

# Components & pages

### Register.tsx page

Ø¯Ø±ÙˆÙ† Ø§ÛŒÙ† Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Ù…Ø±Ø§Ø­Ù„ Ø«Ø¨Øª Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø± Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ´Ù‡ . 

ÛŒÚ© ÙØ±Ù… Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ø¯Ø±ÙˆÙ†Ø´ input Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ø«Ø¨Øª Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø± Ù‡Ø³Øª . 

Ú©Ù‡ value Ù‡Ø§ÛŒ Ø§ÛŒÙ†Ù¾ÙˆØª Ù‡Ø§Ø±Ùˆ Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ùˆ Ø¨Ù‡ Ø³Ù…Øª Ø³Ø±ÙˆØ± Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ùˆ Ø§Ù„Ø¨ØªÙ‡ `validation` Ø³Ù…Øª server Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡  . 

Ø§Ú¯Ø± error Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ register Ø¨Ø§Ø´Ù‡ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† response Ù…ÛŒ Ú¯ÛŒØ±ÛŒÙ… . 

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ù‡Ù†Ú¯Ø§Ù… submit Ø´Ø¯Ù† form Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ù‚ØµØ¯ register Ø¯Ø§Ø±Ù‡ Ù†Ù…Ø§ÛŒØ´ Ù…ÛŒØ¯ÛŒÙ… . 


ØµØ­ÙØ§Øª Ø±Ùˆ Ø¯Ø±ÙˆÙ† `pages` Ù‚Ø±Ø§Ø± Ø¯Ø§Ø¯ÛŒÙ…  . 

Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Register.tsx Ø¯Ø±ÙˆÙ† pages Ù‡Ø³Øª . 


![image](https://github.com/mosenn/MERN/assets/91747908/a4d89f51-b53f-4612-8e73-2bae7c410898)


Ø¯Ø±ÙˆÙ† Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Register.tsx  ÛŒÚ© ÙØ±ÙˆÙ… return Ù…ÛŒØ´Ù‡ Ø¨Ù‡ Ù‡Ù…Ø±Ø§Ù‡ input Ù‡Ø§ Ùˆ ÛŒÚ© toast .

```javascript
  return (
    <div className="h-[90vh]  justify-center items-center flex">
      <img
        src="https://www.file.io/mF2X/download/PYCrjx1HYrkG.men-1.jpg"
        alt="test"
      />
      {toast && (
        <Toast text={"register is success redirect to login"} toast={toast} />
      )}

      <form
        onSubmit={handleSubmit}
        action=""
        className=" bg-gray-300 rounded-lg grid p-3 m-2 md:w-[60%]"
      >
        <label className="ml-2 font-semibold text-gray-900" htmlFor="username">
          username
        </label>

        {errorRegister?.username}
        <input
          onChange={handleOnchnage}
          className="p-1 m-2 border border-solid border-gray-300 rounded-sm"
          type="text"
          id="username"
          name="username"
        />

        <label className="ml-2 font-semibold text-gray-900" htmlFor="password">
          password
        </label>
        {errorRegister?.password}

        <input
          onChange={handleOnchnage}
          className="p-1 m-2 border border-solid border-gray-300 rounded-sm"
          type="text"
          id="password"
          name="password"
        />
        <label
          className="ml-2 font-semibold text-gray-900"
          htmlFor="confirmPassword"
        >
          confirm password
        </label>
        {errorRegister?.confirmPassword}
        <input
          onChange={handleOnchnage}
          className="p-1 m-2 border border-solid border-gray-300 rounded-sm"
          type="text"
          id="confirmPassword"
          name="confirmPassword"
        />
        <label className="ml-2 font-semibold text-gray-900" htmlFor="password">
          upload profile picture
        </label>
        <input
          onChange={handleOnchnage}
          className="p-1 m-2 border border-solid border-gray-300 rounded-sm"
          type="file"
          id="pic"
          name="pic"
          accept=".png, .jpg, .jpeg .webp"
        />
        <div className=" m-1 p-1 w-full flex justify-start md:justify-center items-start">
          <Button
            className="bg-blue-500 hover:bg-blue-300 w-[99%] rounded p-3 text-zinc-50 font-semibold"
            text="Register"
            type="submit"
          />

          <button
            className="bg-blue-500 hover:bg-blue-300 w-[99%] rounded p-3 text-zinc-50 font-semibold"
            type="button"
            onClick={Uploadimage}
          >
            upload image
          </button>
        </div>
      </form>
    </div>
  );
```

Ø¯Ø±ÙˆÙ† `form` ÛŒÚ© ÙØ§Ù†Ú©Ø´Ù† Ø¯Ø§Ø±ÛŒÙ… Ø¨Ø±Ø§ÛŒ `submit` Ø´Ø¯Ù† ÙØ±Ù… . 

Ø¨Ù‡ Ø§Ø³Ù… handleSubmit . 

```javascript
      <form
        onSubmit={handleSubmit}
        action=""
        className=" bg-gray-300 rounded-lg grid p-3 m-2 md:w-[60%]"
      >
```

Ø¯Ø± input Ù‡Ø§ ÙØ§Ù†Ú©Ø´Ù† `onChangehandle` Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… . 

Ø¯Ù‚Øª Ú©Ù†ÛŒØ¯ Ú©Ù‡ name Ù‡Ø± input Ù…Ù†Ø­ØµØ± Ø¨Ù‡ ÙØ±Ø¯ Ø®ÙˆØ¯Ø´ Ù‡Ø³Øª . 

Ùˆ Ù†ÛŒØ§Ø² Ù‡Ø³Øª Ø¨Ø§ state Ú©Ù‡ value Ù‡Ø§ÛŒ Ø§ÛŒÙ†Ù¾ÙˆØª Ø±Ùˆ Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒ Ú©Ù†Ù‡ ÛŒÚ©ÛŒ Ø¨Ø§Ø´Ù‡ . 

```javascript
    <label className="ml-2 font-semibold text-gray-900" htmlFor="username">
          username
        </label>

        {errorRegister?.username}
        <input
          onChange={handleOnChange}
          className="p-1 m-2 border border-solid border-gray-300 rounded-sm"
          type="text"
          id="username"
          name="username"
        /> 
```
Ù‡Ø± input Ø¯Ø±ÙˆÙ†Ø´ ÛŒÚ© ÙØ§Ù†Ø´Ú©Ù† Ø¨Ù‡ Ø§Ø³Ù… `handleOnChange` Ø§ØªÙØ§Ù‚ Ù…ÛŒ Ø§ÙØªÙ‡ . 

Ú©Ù‡ Ø§ÛŒÙ† ÙØ§Ù†Ú©Ø´Ù† ÙˆØ¸ÛŒÙÙ‡ Ú¯Ø±ÙØªÙ† value Ø§ÛŒÙ†Ù¾ÙˆØª Ù‡Ø§ Ø±Ùˆ Ø¯Ø§Ø±Ù‡ . 

Ùˆ value Ø§ÛŒÙ†Ù¾ÙˆØª Ù‡Ø§ Ø±Ùˆ Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒ Ú©Ù†Ù‡ Ø¯Ø±ÙˆÙ† ÛŒÚ© state . 

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ø§Ø±ÙˆØ± Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ù‡Ø± input Ø±Ùˆ Ø¯Ø± Ù¾Ø§ÛŒÛŒÙ† label ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ . 

```javascript
  {errorRegister?.username}
```

Ø®Ø¨ Ù†ÙˆØ¨Øª Ø¨Ù‡ Ú¯Ø±ÙØªÙ† ØªÙ…Ø§Ù…ÛŒ value Ù‡Ø§ÛŒ input Ù‡Ø§ Ù…ÛŒØ´Ù‡ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ø§Ø± Ù†ÛŒØ§Ø² Ø¨Ù‡ ÛŒÚ© state Ø¯Ø§Ø±ÛŒÙ… . 

```javascript
  const [register, setRegister] = useState({
    username: "",
    password: "",
    confirmPassword: "",
    pic: {},
    //* default image set
    // pic: "https://i.postimg.cc/PfvxsgPB/woman-2.png",
  });
```

Ù‡Ù…ÙˆÙ†Ø·ÙˆØ± Ú©Ù‡ Ø¯Ø± Ú©Ø¯ Ø¨Ø§Ù„Ø§ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…ÛŒØ´Ù‡ state ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ ÛŒÚ© object Ù‡Ø³Øª . 

Ù…Ù‚Ø§Ø¯ÛŒØ±ÛŒ Ú©Ù‡ Ù…ÛŒ Ø®ÙˆØ§ÛŒÙ… Ø°Ø®ÛŒØ±Ù‡ Ú©Ù†ÛŒÙ… `key` Ù‡Ø§ Ø±Ùˆ Ø¯Ø±ÙˆÙ† object ØªØ¹Ø±ÛŒÙ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

ÙÙ‚Ø· ÛŒÚ© Ù…ÙˆØ±Ø¯ Ø§Ø² Ø§ÛŒÙ† key Ù‡Ø§ Ù…ØªÙØ§ÙˆØª Ù‡Ø³Øª Ú©Ù‡ `pic` Ù‡Ø³Øª . 

Ù†ÙˆØ¹ `pic` ÛŒÚ© Ø§Ø¨Ø¬Ú©Øª Ú¯Ø°Ø§Ø´ØªÛŒÙ… Ø¬Ù„Ùˆ ØªØ± Ø¯Ù„ÛŒÙ„ Ø§ÛŒÙ†Ú©Ø§Ø± Ù…Ø´Ø®Øµ Ù…ÛŒØ´Ù‡ . 

Ø§Ú¯Ø± Ø®ÙˆØ§Ø³ØªÛŒÙ… Ø¨Ù‡ ØµÙˆØ±Øª default Ø¹Ú©Ø³ Ú©Ø§Ø±Ø¨Ø± Ø±Ùˆ Ø³Øª Ú©Ù†ÛŒÙ… Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… ÛŒÚ© Ø¹Ú©Ø³ upload Ú©Ù†ÛŒÙ… Ùˆ Ø§Ø¯Ø±Ø³ Ø´Ùˆ Ø¯Ø±ÙˆÙ† pic Ù‚Ø±Ø§Ø± Ø¨Ø¯ÛŒÙ… . 

Ø§Ù„Ø¨ØªÙ‡ Ø§ÛŒÙ† Ù…ÙˆØ¶ÙˆØ¹ Ø±Ùˆ Ø¯Ø± Ø³Ù…Øª `server` Ù‡Ù… Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… Ù‡Ù†Ø¯Ù„ Ú©Ù†ÛŒÙ… . Ø¨Ø§Ø²Ù… Ø¬Ù„Ùˆ ØªØ± Ø¨Ø±Ø±Ø³ÛŒ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ø®Ø¨ Ø­Ø§Ù„Ø§ Ù†ÙˆØ¨Øª Ø¨Ù‡ ØªØ¹Ø±ÛŒÙ ÙØ§Ù†Ú©Ø´Ù† `handleOnChange` Ù…ÛŒ Ø±Ø³Ù‡ Ú©Ù‡ Ø§ÛŒÙ† ÙØ§Ù†Ú©Ø´Ù† Ø±Ùˆ Ø¨Ø±Ø§ÛŒ ØªÙ…Ø§Ù…ÛŒ Ø§ÛŒÙ†Ù¾ÙˆØª Ù‡Ø§ ØªØ¹Ø±ÛŒÙ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

```javascript
 const handleOnChange = async (e: React.ChangeEvent<HTMLInputElement>) => {
    if (e.target.name === "pic") {
      const file = (e.target as HTMLInputElement).files?.[0];
      if (file) {
        setRegister({ ...register, pic: file });
      }
    } else {
      setRegister({ ...register, [e.target.name]: e.target.value });
    }
    console.log("Regiser State in onChange func", register);
  };
```
Ù¾Ø§Ø±Ø§Ù…ØªØ± `e` Ø¯Ø± ÙˆØ§Ù‚Ø¹ event Ù‡Ø³Øª Ú©Ù‡ Ø¨Ù‡ input Ù‡Ø§ Ø§Ø´Ø§Ø±Ù‡ Ø¯Ø§Ø±Ù‡ . 

Ø¨Ù‡ Ø¯Ù„ÛŒÙ„ Ø§ÛŒÙ†Ú©Ù‡ Ø§Ø² `type script` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ù†ÙˆØ¹ type Ù‡Ø± event Ùˆ Ù‡Ø± parameter Ø±Ùˆ Ù…Ø´Ø®Øµ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù†ÙˆØ¹ Ø§ÛŒÙ† event Ø¯Ø± ÙˆØ§Ù‚Ø¹ `<React.ChangeEvent<HTMLInputElement` Ù‡Ø³Øª . 

Ù†ÙˆØ¹ Ù‡Ø± event Ù†Ø³Ø¨Øª Ø¨Ù‡ Ú©Ø§Ø±ÛŒ Ú©Ù‡ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯Ù† Ù†ÙˆØ¹ type Ø´ÙˆÙ† Ù…ØªÙØ§ÙˆØª Ù‡Ø³Øª . 

Ø¯Ø± Ù‚Ø¯Ù… Ø§ÙˆÙ„  ÛŒÚ© `if` Ø¯Ø§Ø±ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ú†Ú© Ú©Ø±Ø¯Ù† `name` Ú©Ù‡ Ø§Ú¯Ø± pic Ø¨ÙˆØ¯ . 

Ø¨ÛŒØ§Ø¯ Ù…Ù‚Ø¯Ø§Ø± `[0].?files` Ø±Ùˆ Ø¨Ú¯ÛŒØ±Ù‡ Ùˆ Ø¯Ø±ÙˆÙ† state Ú©Ù‡ register Ú©Ù‡ ØªØ¹Ø±ÛŒÙ Ú©Ø±Ø¯ÛŒÙ… Ø°Ø®ÛŒØ±Ù‡ Ú©Ù†Ù‡ . 

Ø§ÛŒÙ†Ú©Ø§Ø± Ø¨Ù‡ Ø§ÛŒÙ† Ø¯Ù„ÛŒÙ„ Ù‡Ø³Øª Ú©Ù‡ value pic Ø¨Ø§ Ø¨Ù‚ÛŒÙ‡ input Ù‡Ø§ Ù…ØªÙØ§ÙˆØª Ù‡Ø³Øª . 

Ùˆ `[0].?files` Ø¨Ù‡ Ø§ÙˆÙ„ÛŒÙ† Ø¹Ú©Ø³ÛŒ Ú©Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ ØªÙˆØ³Ø· Ú©Ø§Ø±Ø¨Ø± Ø§Ø´Ø§Ø±Ù‡ Ø¯Ø§Ø±Ù‡ . 

```javascript 
    if (e.target.name === "pic") {
      const file = (e.target as HTMLInputElement).files?.[0];
      if (file) {
        setRegister({ ...register, pic: file });
      }
```

ÛŒÚ© if Ø¯Ø±ÙˆÙ†Ø´ Ú¯ÙØªÙ… Ø§Ú¯Ø± name === pic Ø¨ÙˆØ¯  . 

ÛŒÚ© Ù…ØªÙÛŒÛŒØ± Ø¨Ù‡ Ø§Ø³Ù… file Ø§ÛŒØ¬Ø§Ø¯ Ø´Ù‡ `[0].?files` Ø±Ùˆ Ø¯Ø±ÙˆÙ†Ø´ Ø®ÙˆØ¯Ø´ Ù†Ú¯Ù‡ Ø¯Ø§Ø±Ù‡ . 

Ù‡Ù…Ú†Ù†ÛŒÙ† Ø¨Ø§Ø² Ù†ÛŒØ§Ø² Ù‡Ø³Øª Ú©Ù‡ Ù†ÙˆØ¹ typesh Ù…Ø´Ø®Øµ Ø´Ù‡ Ú©Ù‡ Ø§ÛŒÙ†Ø¬Ø§ ÛŒÚ© `as HTMLInputElement` ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ type

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ø¨Ø§Ø² ÛŒÚ© if Ú¯ÙØªÛŒÙ… Ø§Ú¯Ø± Ú©Ù‡ file Ø¨ÙˆØ¯ . 

Ùˆ state ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ register Ø¨ÛŒØ§Ø¯ set Ø´Ù‡ ØªÙ…Ø§Ù…ÛŒ Ù…Ù‚Ø§Ø¯ÛŒØ± Ù‚Ø¨Ù„ÛŒ Ø®ÙˆØ¯Ø´ Ø±Ùˆ Ø­ÙØ¸ Ú©Ù†Ù‡ . 

Ø§Ù…Ø§ Ù…Ù‚Ø¯Ø§Ø± `pic` Ú©Ù‡ Ø§Ø¨Ø¬Ú©Øª Ø¨ÙˆØ¯Ù‡ Ø¨Ø±Ø§Ø¨Ø± Ø´Ù‡ Ø¨Ø§ Ù…Ù‚Ø¯Ø§Ø± file . 

Ú©Ù‡ Ù‚Ø¨Ù„ ØªØ± Ø¯Ø±ÙˆÙ† ÛŒÚ© Ù…ØªØºÛŒÛŒØ± Ø°Ø®ÛŒØ±Ù‡ Ú©Ø±Ø¯ÛŒÙ… . 

ÛŒÚ© Ø¨Ø§Ø± Ø¯ÛŒÚ¯Ù‡ Ø¨Ù‡ Ú©Ø¯ Ù†Ú¯Ø§Ù‡ Ú©Ù†ÛŒÙ… : 


```javascript 
    if (e.target.name === "pic") {
      const file = (e.target as HTMLInputElement).files?.[0];
      if (file) {
        setRegister({ ...register, pic: file });
      }
```

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ ÛŒÚ© else Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ù…ÛŒØ§ÛŒÙ… Ù…Ù‚Ø§Ø¯ÛŒØ± Ø¯ÛŒÚ¯Ù‡ Ø±Ùˆ Ù‡Ù… Ú©Ù‡ `string` Ù‡Ø³ØªÙ†Ø¯ Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

```javascript
 else {
      setRegister({ ...register, [e.target.name]: e.target.value });
    }
```
ØªÙ…Ø§Ù…ÛŒ Ù…Ù‚Ø§Ø¯ÛŒØ± Ù‚Ø¨Ù„ÛŒ state register Ø±Ùˆ Ø°Ø®ÛŒØ±Ù‡ Ú©Ø±Ø¯ÛŒÙ… Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `spread operator`  . 

**Ù†Ú©ØªÙ‡** : Ú©Ù„ state Ú©Ù‡ ØªØ¹Ø±ÛŒÙ Ú©Ø±Ø¯Ù‡ Ø¨ÙˆØ¯ÛŒÙ… ÛŒÚ© Ø§Ø¨Ø¬Ú©Øª Ù‡Ø³Øª . Ø¯Ø± Ù†ØªÛŒØ¬Ù‡ Ø²Ù…Ø§Ù† set Ø´Ø¯Ù† . 

Ú©Ù„ Ø´Ùˆ Ø¯Ø±ÙˆÙ† ÛŒÚ© Ø§Ø¨Ø¬Ú©Øª  {}  Ù‚Ø±Ø§Ø± Ù…ÛŒØ¯ÛŒÙ… . 

Ùˆ Ø¯Ø±ÙˆÙ† ÛŒÚ© Ø§Ø±Ø§ÛŒÙ‡ `key` Ø±Ùˆ Ù…ÛŒ Ø²Ø§Ø±ÛŒÙ… name Ú©Ù‡ Ø¨Ø±Ø§ÛŒ input Ù‡Ø§ ØªØ¹Ø±ÛŒÙ Ú©Ø±Ø¯ÛŒÙ… . 

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª value Ù‡Ø± input Ø±Ùˆ Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

**Ù†Ú©ØªÙ‡** : Ù†ÛŒØ§Ø²Ù‡ Ù‡Ø³Øª name Ú©Ù‡ Ø¨Ø±Ø§ÛŒ input Ù‡Ø§ ØªØ¹Ø±ÛŒÙ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ø¨Ø§ key Ú©Ù‡ Ø¨Ø±Ø§ÛŒ state Ø§Ø¨Ø¬Ú©Øª ØªØ¹Ø±ÛŒÙ Ú©Ø±Ø¯ÛŒÙ… Ø¯Ø± Ø§Ø¨ØªØ¯Ø§ 

ÛŒÚ©ÛŒ Ø¨Ø§Ø´Ù†Ø¯ . 
```javascript
        <input
          onChange={handleOnChange}
          className="p-1 m-2 border border-solid border-gray-300 rounded-sm"
          type="text"
          id="username"
          name="username"
      /> 
```
```javascript
  const [register, setRegister] = useState({
    username: "",
    password: "",
    confirmPassword: "",
    pic: {},
  });
```

Ù…Ù‚Ø¯Ø§Ø± name Ú©Ù‡ Ø¨Ø±Ø§ÛŒ input ØªØ¹Ø±ÛŒÙ Ú©Ø±Ø¯ÛŒÙ… `username` Ù‡Ø³Øª . 

Ù…Ù‚Ø¯Ø§Ø± key Ø§Ø¨ØªØ¯Ø§ÛŒÛŒ Ø¨Ø±Ø§ÛŒ `state` Ù‡Ù… username Ù‡Ø³Øª . 

ÙØ§Ù†Ú©Ø´Ù† `handleOnchange` Ø±Ùˆ Ù†ÙˆØ´ØªÛŒÙ… Ùˆ ØªÙ…ÙˆÙ… Ø´Ø¯ . 

Ú©Ù„ Ú©Ø§Ø±ÛŒ Ú©Ù‡ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯Ù‡ Ú¯Ø±ÙØªÙ† Ù…Ù‚Ø¯Ø§Ø± value Ø§ÛŒÙ†Ù¾ÙˆØª Ù‡Ø§ Ùˆ Ø°Ø®ÛŒØ±Ù‡ Ø§ÙˆÙ†Ù‡Ø§ Ø¯Ø±ÙˆÙ† state Ù‡Ø³Øª . 

Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ , ÙØ§Ù†Ú©Ø´Ù† `handleOnchange` Ø±Ùˆ Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ Ø¨Ø±Ø§ÛŒ input Ù‡Ø§ event Onchange Ø§ØªÙØ§Ù‚ Ù…ÛŒ Ø§ÙØªÙ‡ Ø§Ø¹Ù…Ø§Ù„ Ù…ÛŒØ´Ù‡ .


```javascript
        <input
          onChange={handleOnChange}
          type="text"
          id="username"
          name="username"
      /> 
```

# Submit Function Register.tsx 

ÛŒÚ© ÙØ§Ù†Ú©Ø´Ù† Ø¨Ù‡ Ø§Ø³Ù… `handleSubmit` Ø¯Ø§Ø±ÛŒÙ… Ø¯Ø± Ú©Ø§Ù…Ù¾ÙˆÙ†Øª `Register.tsx` . 

Ø§ÛŒÙ† ÙØ§Ù†Ú©Ø´Ù† Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ from Ø«Ø¨Øª Ù†Ø§Ù… Ù…Ø§ submit Ù…ÛŒØ´Ù‡ Ø§ØªÙØ§Ù‚ Ù…ÛŒ Ø§ÙØªÙ‡ . 

```javascript
     <form
        onSubmit={handleSubmit}
        action=""
      >
```

Ø¯Ø±ÙˆÙ† Ø§ÛŒÙ† ÙØ§Ù†Ú©Ø´Ù† Ø§ÙˆÙ„ Ù†ÙˆØ¹ type Ø§ÛŒÙˆÙ†ØªÛŒ Ú©Ù‡ Ø¯Ø§Ø±Ù‡ Ø±Ø® Ù…ÛŒØ¯Ù‡ Ø±Ùˆ Ù…Ø´Ø®Øµ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ø¯Ø±ÙˆÙ† ÙØ§Ù†Ú©Ø´Ù† e.preventDefault Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… . 

```javascript
  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault();
  };
```

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… ÛŒÚ© Ù„Ø§Ú¯ Ø¨Ú¯ÛŒØ±ÛŒÙ… Ø§Ø² state Ú©Ù‡ ÙˆØ¸ÛŒÙÙ‡ Ø°Ø®ÛŒØ±Ù‡ Ú©Ø±Ø¯Ù† value Ù‡Ø§ÛŒ input Ø±Ùˆ Ø¯Ø§Ø´Øª . 

Ú©Ù‡ Ø¨Ø¨ÛŒÙ†Ù… Ø¨Ù‡ Ø¯Ø±Ø³ØªÛŒ Ø§ÛŒÙ†Ú©Ø§Ø± Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ´Ù‡ ÛŒØ§ Ù†Ù‡ . 

```javascript
  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault();
    console.log("register state in submit form", register);
  };
```
Ø¨Ø¹Ø¯ Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ input Ù‡Ø§ Ø±Ùˆ Ø¯Ø±ÙˆÙ† ØµØ­ÙÙ‡ Ù¾Ø± Ú©Ø±Ø¯ÛŒÙ… Ùˆ ÙØ±ÙˆÙ… Ø®ÙˆØ¯Ù…ÙˆÙ† Ø±Ùˆ submit Ú©Ø±Ø¯ÛŒÙ… . 

**Ù†Ú©ØªÙ‡** : Ù†ÛŒØ§Ø² Ù‡Ø³Øª ÛŒÚ© button Ø¯Ø±ÙˆÙ† ÙØ±ÙˆÙ… Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… Ú©Ù‡ Ù†ÙˆØ¹ type button Ù…Ø§ Ø§Ø² Ù†ÙˆØ¹ submit Ø¨Ø§Ø´Ù‡ . 

Ú©Ù‡ button ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ ÛŒÚ© `component` Ù‡Ø³Øª . 

```javascript
   <Button
            text="Register"
            type="submit"
          />
```

### Button Component 

![image](https://github.com/mosenn/MERN/assets/91747908/001b61a0-c9a8-4fad-ab80-70163e092092)

ÛŒÚ© Ú©Ø§Ù…Ù¾ÙˆÙ†Øª `Button` Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ù‡Ø± Ø¬Ø§ Ù†ÛŒØ§Ø² Ø´Ø¯ Ø§Ø² button Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… Ø§Ø² Ø§ÛŒÙ† Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… . 

ÛŒÚ© Ø³Ø±ÛŒ props Ú©Ù‡ Ù†ÛŒØ§Ø² Ù‡Ø³Øª Ø¨Ø±Ø§ÛŒ button Ù¾Ø§Ø³ Ø¯Ø§Ø¯ÛŒÙ… Ø¨Ù‡ Ú©Ø§Ù…Ù¾ÙˆÙ†Øª `Button` : 

```javascript
export default function Button({
  text,
  type,
  className,
  disabled,
  onClick,
}: buttonProps) {
```
Ù†ÙˆØ¹ type props Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ú©Ø§Ù…Ù¾ÙˆÙ†Øª `Button` Ø±Ùˆ Ù…Ø´Ø®Øµ Ù…ÛŒ Ú©Ù†ÛŒÙ…  : 


```javascript
interface buttonProps {
  text?: string | any;
  type?: "button" | "submit" | "reset";
  className?: string;
  disabled?: boolean;
  onClick?: () => Promise<void>;
}
```

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Ù…Ø§ ÛŒÚ© button Ù…ÛŒØ§Ø¯ return Ù…ÛŒ Ú©Ù†Ù‡ Ùˆ Ø§Ø² Ø§ÛŒÙ† button Ù‡Ø± Ø¬Ø§ Ú©Ù‡ Ø®ÙˆØ§Ø³ØªÛŒÙ… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ùˆ props Ù‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø²Ø´ Ø±Ùˆ Ø¨Ù‡Ø´ Ù¾Ø§Ø³ Ù…ÛŒØ¯ÛŒÙ… . 


```javascript

export default function Button({
  text,
  type,
  className,
  disabled,
  onClick,
}: buttonProps) {
  return (
    <button
      disabled={disabled}
      type={type}
      className={className}
      onClick={onClick}
    >
      <span className="p-2"> {text}</span>
    </button>
  );
}
```
Ù‡Ø± Ø¬Ø§ Ú©Ù‡ Ø®ÙˆØ§Ø³ØªÛŒÙ… Ù…ÛŒ ØªÙˆÙ†ÛŒØ¯ ØµØ¯Ø§ Ø¨Ø²Ù†ÛŒÙ… `Componen Button` Ø±Ùˆ Ùˆ Ø§Ø²Ø´ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… .

Ùˆ Ø­ØªÛŒ function Ù‡Ø§ÛŒ Ù…ØªÙØ§ÙˆØªÛŒ Ø¨Ù‡Ø´ Ù¾Ø§Ø³ Ø¨Ø¯ÛŒÙ… . 

### continue Register.tsx page

Ø¨Ø¹Ø¯ Ø§Ø² Ù„Ø§Ú¯ Ú¯Ø±ÙØªÙ† Ùˆ Ù…Ø¸Ù…Ø¦Ù† Ø´Ø¯Ù† Ø§Ø² value Ù‡Ø§ÛŒ input Ù‡Ø§ÛŒ Ø®ÙˆØ¯Ù…ÙˆÙ† Ù†ÙˆØ¨Øª Ø¨Ù‡ Ø§Ø±Ø³Ø§Ù„ Ø§ÙˆÙ†Ù‡Ø§ Ø¨Ù‡ Ø³Ù…Øª Ø³Ø±ÙˆØ± Ù…ÛŒØ´Ù‡ . 

ÛŒØ§Ø¯ Ø§ÙˆØ±ÛŒ : ÛŒÚ© ÙÙˆÙ„Ø¯Ø± api Ø¯Ø§Ø´ØªÛŒÙ… Ú©Ù‡ ØªÙ…Ø§Ù…ÛŒ Ú©Ø§Ø± Ø¨Ø§ [api](#api-folder) Ø±Ùˆ Ø¯Ø±ÙˆÙ†Ø´ Ù‚Ø±Ø§Ø± Ø¯Ø§Ø¯ÛŒÙ… . 

```javascript
 const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault();
    console.log("register state in submit form", register);
    const user = await registerUser(register);

  };
  ```

ÙØ§Ù†Ú©Ø´Ù† registerUser Ø±Ùˆ Ø§Ø² api ÙÙˆÙ„Ø¯Ø± Ùˆ ÙØ§ÛŒÙ„ user.tsx Ø§Ù…Ø¯ÛŒÙ… import Ú©Ø±Ø¯ÛŒÙ… 

Ùˆ Ø¯Ø±ÙˆÙ† ÙØ§Ù†Ú©Ø´Ù† handleSubmit Ø¯Ø§Ø±ÛŒÙ… ØµØ¯Ø§Ø´ Ù…ÛŒ Ø²Ù†ÛŒÙ… . 

Ù…Ù‚Ø¯Ø§Ø± Ù‡Ø§ÛŒ input Ù‡Ø§ Ø±Ùˆ Ú©Ù‡ Ø¯Ø±ÙˆÙ† state register Ø°Ø®ÛŒØ±Ù‡ Ú©Ø±Ø¯Ù‡ Ø¨ÙˆØ¯ÛŒÙ… Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… Ø¨Ù‡Ø´ Ù¾Ø§Ø³ Ù…ÛŒØ¯ÛŒÙ… 

ÙØ§Ù†Ú©Ø´Ù† `registerUser` Ø±Ùˆ Ø¯Ø± Ø§ÛŒÙ† [Ø¨Ø®Ø´](#function-register-user) Ø¨Ø±Ø±Ø³ÛŒ Ú©Ø±Ø¯ÛŒÙ… 

Ø¯Ø±ÙˆÙ† api ÙÙˆÙ„Ø¯Ø± ÛŒÚ© ÙØ§ÛŒÙ„ Ø¨Ù‡ Ø§Ø³Ù… [user.tsx](#userstsx) Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ api Ù‡Ø§ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ user Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯Ù‡ . 

Ù…Ø«Ù„ register / login Ùˆ ... 


Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ reponse Ú©Ù‡ ÙØ§Ù†Ú©Ø´Ù† `registerUser` Ø¨Ù‡ Ù…Ø§ Ù…ÛŒØ¯Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±ÛŒ Ù‡Ø³Øª Ú©Ù‡ Ø«Ø¨Øª Ù†Ø§Ù… Ú©Ø±Ø¯Ù‡ . 

Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… ÛŒÚ© Ù„Ø§Ú¯ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… . 

```javascript
 const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault();
    console.log("register state in submit form", register);
    const user = await registerUser(register);
 console.log(user, "user");
  };
  ```

Ø¨Ø¹Ø¯ Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ Ø¯ÛŒØªØ§ Ù‡Ø§ Ø±Ùˆ Ø¯Ø§Ø´ØªÛŒÙ… ÛŒÚ© ÙØ§Ù†Ú©Ø´Ù† Ø¨Ù‡ Ø§Ø³Ù… handleError Ø¯Ø§Ø±ÛŒÙ… . 

Ú©Ù‡ ÙˆØ¸ÛŒÙÙ‡ Ø§Ø´ Ù‡Ù†Ø¯Ù„ Ú©Ø±Ø¯Ù† Ø§Ø±ÙˆØ± Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ø«Ø¨Øª Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø± Ù‡Ø³Øª 


```javascript 
 const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault();
    console.log("register state in submit form", register);
    const user = await registerUser(register);
    console.log(user, "user");
    handleError(user);
  };
```

Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø§Ú¯Ø± Ù…ÙˆÙ‚Ø¹ Ø«Ø¨Øª Ù†Ø§Ù… error Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… Ø¨Ø§Ø² Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ø¯ÛŒØªØ§ Ø®ÙˆØ§Ù‡ÛŒÙ… Ø¯Ø§Ø´Øª . 

Ø¨Ù‡ Ø§ÛŒÙ† Ø¯Ù„ÛŒÙ„ Ú©Ù‡ Ø§Ø±ÙˆØ± Ù‡Ø§ Ø§Ø² Ø³Ù…Øª Ø³Ø±ÙˆØ± Ø¯Ø§Ø±Ù†Ø¯ Ù…ÛŒØ§Ù† . 

Ù¾Ø³ Ú©Ø§Ø± ÙØ§Ù†Ú©Ø´Ù† handleError Ú©Ù†ØªØ±Ù„ Ú©Ø±Ø¯Ù† Ø§Ø±ÙˆØ± Ù‡Ø§ÛŒ Ø«Ø¨Øª Ù†Ø§Ù… Ù‡Ø³Øª . 

```javascript
  const handleError = (err: {}) => {
    setErrorRegister(err);
  };
```
Ù…Ù‚Ø¯Ø§Ø± err Ú©Ù‡ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† parameter Ú¯Ø±ÙØªÙ‡ ÙØ§Ù†Ú©Ø´Ù† handleError Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø§Ø±ÙˆØ± Ù‡Ø§ÛŒ Ø«Ø¨Øª Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø± Ù‡Ø³ØªÙ†Ø¯ . 

Ú©Ù‡ Ø§Ø² Ø¨Ù„Ø§Ú© catch ÙØ§Ù†Ú©Ø´Ù† `registerUser` Ø¯Ø§Ø±Ù‡ Ú¯Ø±ÙØªÙ‡ Ù…ÛŒØ´Ù‡ Ú©Ù‡ Ø§ÛŒÙ† ÙØ§Ù†Ú©Ø´Ù†  Ø¯Ø± ÙÙˆÙ„Ø¯Ø± api Ø¯Ø± ÙØ§ÛŒÙ„ user.tsx Ù‚Ø±Ø§Ø± Ø¯Ø§Ø±Ù‡ . 

Ú©Ù‡ Ø¯Ø±ÙˆÙ† ÙØ§Ù†Ú©Ø´Ù† ÛŒÚ© state Ø¨Ø±Ø§ÛŒ error Ù‡Ø§ set Ù…ÛŒØ´Ù‡ Ú©Ù‡ Ø§ÛŒÙ† state Ù‡Ù… ÛŒÚ© Ø§Ø¨Ø¬Ú©Øª Ù‡Ø³Øª 

Ø¨Ù‡ Ø§ÛŒÙ† Ø¯Ù„ÛŒÙ„ Ø§Ø±ÙˆØ± Ù‡Ø§ÛŒ Ú©Ù‡ Ø§Ø² Ø³Ù…Øª Ø³Ø±ÙˆØ± Ù…ÛŒØ§Ø¯ Ø¨Ù‡ ØµÙˆØ±Øª Ø§Ø¨Ø¬Ú©Øª Ù‡Ø³ØªÙ†Ø¯ . 

```javascript 
  const [errorRegister, setErrorRegister] = useState<ErrorRegister>({});
```

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ø§Ú¯Ø± Ø§Ø±ÙˆØ± Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… Ø¯Ø±ÙˆÙ† Ø§ÛŒÙ† state Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒØ´Ù‡ Ùˆ Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… Ù†Ø´ÙˆÙ† Ø¨Ø¯ÛŒÙ… Ø¯Ø±ÙˆÙ† ØµØ­ÙÙ‡ 

Ú¯ÙØªÛŒÙ… Ú©Ù‡ Ø¯Ø± Ø²ÛŒØ± Ù‡Ø± label Ù…Ø±Ø¨Ø·Ùˆ Ø¨Ù‡ Ù‡Ø± input Ø§Ø±ÙˆØ± Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ù‡Ù…ÙˆÙ† input Ø±Ùˆ Ù†Ù…Ø§ÛŒØ´ Ù…ÛŒØ¯ÛŒÙ… . 


```javascript 
 <label  htmlFor="username">
          username
        </label>
        {errorRegister?.username}
        <input
          onChange={handleOnChange}
          type="text"
          id="username"
          name="username"
        />
```

Ø­Ø§Ù„Ø§ Ù…ÛŒ Ø®ÙˆØ§ÛŒÙ… Ø¨Ø¹Ø¯ Ø§Ø² Ø¯Ø§Ø´ØªÙ† Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§Ú¯Ø± Ú©Ù‡ Ø¨ÙˆØ¯ ÛŒÚ© `toast` Ù†Ù…Ø§ÛŒØ´ Ø¨Ø¯ÛŒÙ… . 

Ú©Ù‡ Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø¨Ú¯ÛŒÙ… Ø«Ø¨Øª Ù†Ø§Ù… Ú©Ù‡ Ø§Ù†Ø¬Ø§Ù… Ø¯Ø§Ø¯Ù‡ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù…ÛŒØ² Ø¨ÙˆØ¯Ù‡ . 

Ùˆ Ø¨Ø¹Ø¯ Ø§Ø² Ú†Ù†Ø¯ Ø«Ø§Ù†ÛŒÙ‡ Ú©Ø§Ø±Ø¨Ø± Ø±Ùˆ Ø¨Ù‡ ØµØ­ÙÙ‡ login Ø±ÛŒØ¯Ø§Ø±ÛŒÚ©Øª Ú©Ù†ÛŒÙ… . 

Ù†ÛŒØ§Ø² Ø¨Ù‡ ÛŒÚ© if Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ú†Ú© Ú©Ù†Ù‡ Ø¨Ø¨ÛŒÙ†ÛŒÙ… Ø§ÛŒØ§ Ø¯ÛŒØªØ§ Ùˆ user Ù‡Ø³Øª . 

Ú©Ù‡ Ø§ÛŒÙ†Ú©Ø§Ø±Ùˆ Ø¨Ø§ status Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡ . 

```javascript 
 const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault();
    console.log("register state in submit form", register);
    const user = await registerUser(register);
    console.log(user, "user");
    handleError(user);
    if (user?.status === 201) {
      setToast(true);
      setTimeout(() => {
        navigate("/login");
      }, 3000);
    }
  };
```

Ú†Ú© Ú©Ø±Ø¯ÛŒÙ… Ø§Ú¯Ø± status Ù…Ø§ Ø¨Ø±Ø§Ø¨Ø± Ø¨Ø§ `201` Ø¨ÙˆØ¯ Ø¨ÛŒØ§Ø¯ ÛŒÚ© state Ø±Ùˆ true Ú©Ù†Ù‡ Ú©Ù‡ Ø§ÛŒÙ† state ÙˆØ¸ÛŒÙÙ‡ Ù†Ø´ÙˆÙ† Ø¯Ø§Ø¯Ù† toast Ø±Ùˆ Ø¨Ø± Ø¹Ù‡Ø¯Ù‡ Ø¯Ø§Ø±Ù‡ . 

Ø¯Ø± ØµÙˆØ±Øª Ø§ÛŒÙ†Ú©Ù‡ state toast true Ø¨Ø§Ø´Ù‡ ÛŒÚ© Ù¾ÛŒØ§Ù… Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒØ´Ù‡ Ø¯Ø±ÙˆÙ† ØµØ­ÙÙ‡ . 

Ùˆ Ø¨Ø¹Ø¯ Ø§Ø² Ø§ÙˆÙ† ÛŒÚ© `setTimeout` Ø§ØªÙØ§Ù‚ Ø¨ÛŒÙˆÙØªÙ‡ Ú©Ù‡ Ø¯Ø±ÙˆÙ†Ø´ `navigate` Ú©Ù†Ù‡ Ø¨Ù‡ login/ Ú©Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø§Ø¯Ø±Ø³ ØµØ­ÙÙ‡ login Ù‡Ø³Øª . 

Ø¯Ø± Ù…Ø¯Øª Ø²Ù…Ø§Ù† 3000 Ú©Ù‡ Ù…ÛŒØ´Ù‡ 3 Ø«Ø§Ù†ÛŒÙ‡ . 

Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ navigate Ø¯Ø± ÙˆØ§Ù‚Ø¹ hook Ø¯Ø±ÙˆÙ†ÛŒ react-router-dom Ù‡Ø³Øª . 

```javascript
import { useNavigate } from "react-router-dom";
const Register = () => { 
  const navigate = useNavigate();
} 
  ```


Ø¨Ø±Ø§ÛŒ Ø³Øª Ú©Ø±Ø¯Ù† `toast` Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… Ø¨Ù‡ ØµÙˆØ±Øª Ø¯Ø³ØªÛŒ Ø¨Ø§ animation css ÛŒÚ© Ø¨Ø§Ú©Ø³ Ø·Ø±Ø§Ø­ÛŒ Ø´Ù‡ . 

Ùˆ Ø¨Ø¹Ø¯ Ø§Ø² true Ø´Ø¯Ù† ÛŒÚ© state Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø´Ù‡ .

```javascript
const Register = () => { 
  const [toast, setToast] = useState<Boolean>(false);
       {toast && (
        <Toast text={"register is success redirect to login"} toast={toast} />
      )}
} 
```

# Toast Componet
Ú©Ù‡ toast Ø¯Ø±ÙˆØ§Ù‚Ø¹ ÛŒÚ© Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Ù…Ø¬Ø²Ø§ Ù‡Ø³Øª . Ø§Ø² Ø§ÛŒÙ† Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Ø¨Ø±Ø§ÛŒ login Ù‡Ù… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø´Ù‡ ÛŒØ§ Ù†Ù‡ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ ÛŒÚ© state boolean ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ . 

Ú©Ù‡ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `props` Ù…Ø´Ø®Øµ Ø´Ø¯Ù‡ . 

Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± `text` Ú©Ù‡ Ù†Ù…Ø§ÛŒØ´ Ù…ÛŒØ¯Ù‡ Ù‡Ù… Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ props Ù…Ø´Ø®Øµ Ù…ÛŒØ´Ù‡ . 

Ú©Ù‡ type props Ù‡Ø§ÛŒ Ù¾Ø§Ø³ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡ Ø¯Ø±ÙˆÙ† ÛŒÚ© interface Ù…Ø´Ø®Øµ Ø´Ø¯Ù‡ . 
```javascript
interface propsToast {
  text: string;
  toast: Boolean;
}
const Toast = ({ text, toast }: propsToast) => {
  return (
    <div
      className={` bg-green-300 w-[250px] fixed text-center  p-[10px] rounded font-semibold text-[#6f6f6f]  ${
        toast && "showToast"
      } `}
    >
      <p>
        <span>ğŸ‰</span> {text}
      </p>
      <div
        className={`absolute bg-blue-300 w- h-[3px] bottom-[-3px] left-0 rounded-sm ${
          toast && "loadingRedirect"
        }`}
      ></div>
    </div>
  );
};
export default Toast;
```

# Login.tsx Page . 

Ø¨Ø¹Ø¯ Ø§Ø² Ø«Ø¨Øª Ù†Ø§Ù… Ú©Ø±Ø¯Ù† Ú©Ø§Ø±Ø¨Ø± Ù„Ø§Ú¯ÛŒÙ† Ø´Ø¯Ù† Ú©Ø§Ø±Ø¨Ø± Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… . 

Ú©Ù‡ Ø¨ØªÙˆÙ†Ù‡ Ø¨Ø§ Ø§Ú©Ø§Ù†ØªÛŒ Ú©Ù‡ Ø³Ø§Ø®ØªÙ‡ Ù„Ø§Ú¯ÛŒÙ† Ú©Ù†Ù‡ . 

Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ø§Ø± Ù…Ø«Ù„ Register.tsx ÛŒÚ© ÙØ±ÙˆÙ… Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ø­Ø§ÙˆÛŒ 2 input Ù‡Ø³Øª . 

Ú©Ù‡ Ù…Ø´Ø®ØµØ§Øª Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ù‚ØµØ¯ Ù„Ø§Ú¯ÛŒÙ† Ø±Ùˆ Ø¯Ø§Ø±Ù‡ Ù…ÛŒÚ¯ÛŒØ±Ù‡ Ùˆ Ø¨Ù‡ Ø³Ù…Øª `server` Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒ Ú©Ù†Ù‡ . 



```javascript
  return (
    <div className="h-[90vh]  justify-center items-center flex ">
      {toast && <Toast toast={toast} text={"you are login"} />}
      <form
        onSubmit={handleSubmit}
        action=""
        className=" w-[90%] bg-gray-300 rounded-lg grid p-3 m-2 md:w-[60%]"
      >
        <label className="ml-2 font-semibold text-gray-900" htmlFor="username">
          username
        </label>
        <input
          onChange={onchangeHandle}
          value={loginValue.username}
          className="p-1 m-2 border border-solid border-gray-300 rounded-sm"
          type="text"
          id="username"
          name="username"
        />

        <label className="ml-2 font-semibold text-gray-900" htmlFor="password">
          password
        </label>
        <input
          onChange={onchangeHandle}
          value={loginValue.password}
          className="p-1 m-2 border border-solid border-gray-300 rounded-sm"
          type="text"
          id="password"
          name="password"
        />
        <div className=" m-1 p-1 w-full flex justify-start md:justify-center items-start">
          <Button
            className="bg-blue-500 w-[99%] rounded p-3 text-zinc-50 font-semibold"
            text="Login"
            type="submit"
          />
        </div>
      </form>
    </div>
  ); 
```

Ø¯Ø±ÙˆÙ† ÙØ±Ù…  login.tsx ÙØ§Ù†Ú©Ø´Ù† handleSubmit  Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… . 
```javascript
      <form
        onSubmit={handleSubmit}
        action=""
        className=" w-[90%] bg-gray-300 rounded-lg grid p-3 m-2 md:w-[60%]"
      >
```

Ø¯Ø±ÙˆÙ† Ù‡Ø± Ø¯Ùˆ input ÙØ§Ù†Ú©Ø´Ù† handleOnchange Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… . 
```javascript
     <input
          onChange={onChangeHandle}
          value={loginValue.password}
          type="text"
          id="password"
          name="password"
        />
```



Ú©Ù‡ Ø¨Ø±Ø§ÛŒ state Ù…Ø¯ Ù†Ø¸Ø± ÛŒÚ© interface type script ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ 


```typescript
interface loginValue {
  username: string;
  password: string;
}
```

Ø§ÛŒÙ† state ÙˆØ¸ÛŒÙÙ‡ Ø°Ø®ÛŒØ±Ù‡ Ø³Ø§Ø²ÛŒ value Ø¯Ùˆ input ÙØ±Ù… login Ø±Ùˆ Ø¨Ø± Ø¹Ù‡Ø¯Ù‡ Ø¯Ø§Ø±Ù‡ . 
```javascript
  const [loginValue, setLoginValue] = useState<loginValue>({
    username: "",
    password: "",
  });
```
Ú©Ù‡ ÙØ§Ù†Ú©Ø´Ù† onChangeHandle Ú©Ø§Ø± Ø°Ø®ÛŒØ±Ù‡ Ú©Ø±Ø¯Ù† value Ù‡Ø§ÛŒ input Ù‡Ø§Ø±Ùˆ Ø¯Ø±ÙˆÙ† ÛŒÚ© state Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯Ù‡ . 

```javascript 
 const onChangeHandle = (e: React.ChangeEvent<HTMLInputElement>) => {
    setLoginValue({ ...loginValue, [e.target.name]: e.target.value });
  };
```


ÙØ§Ù†Ú©Ø´ handleSubmit Ú©Ø§Ø± Ø§Ø±Ø³Ø§Ù„ value Ù‡Ø§ÛŒ Ú¯Ø±ÙØªÙ‡ Ø´Ø¯Ù‡ input Ù‡Ø§Ø±Ùˆ Ø¨Ù‡ Ø³Ù…Øª Ø³Ø±ÙˆØ± Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯Ù‡ . 

```javascript 
  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault();
    const user = await loginUser(loginValue);
  }
```
ÙØ§Ù†Ú©Ø´Ù† [loignUser](#function-loginuser) Ø¯Ø±ÙˆÙ† ÙÙˆÙ„Ø¯Ø± api Ø¯Ø± ÙØ§ÛŒÙ„ user.tsx ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ . 

Ú©Ù‡ Ø§ÛŒÙ†Ø¬Ø§ state Ù…Ø±Ø¨ÙˆØ· Ú©Ù‡ ÙˆØ¸ÛŒÙÙ‡ Ø°Ø®ÛŒØ±Ù‡ Ø³Ø§Ø²ÛŒ value input Ù‡Ø§ ÙØ±Ù… Ù„Ø§Ú¯ÛŒÙ† Ø±Ùˆ Ø¯Ø§Ø±Ù‡ Ø¨Ù‡ loginUser Ù¾Ø§Ø³ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡ . 

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª response Ú©Ù‡ Ù…ÛŒØ¯Ù‡ Ù…Ø´Ø®ØµØ§Øª Ú©Ø§Ø±Ø¨Ø± Ù‡Ø³Øª Ú©Ù‡ Ù„Ø§Ú¯ÛŒÙ† Ø´Ø¯Ù‡ . 

ÛŒÚ© if Ø¯Ø§Ø±ÛŒÙ… Ø¯Ø±ÙˆÙ† ÙØ§Ù†Ú©Ø´Ù† Ú©Ù‡ status Ú©Ø¯ Ø±Ùˆ Ú†Ú© Ù…ÛŒ Ú©Ù†Ù‡ . 

Ú¯ÙØªÙ‡ Ø´Ø¯Ù‡ Ø§Ú¯Ø± `user.status === 200`  Ø¨ÛŒØ§Ø¯ state Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ toast Ø±Ùˆ true Ú©Ù†Ù‡ . 

ÛŒÚ© state Ú¯Ù„ÙˆØ¨Ø§Ù„ Ø¨Ù‡ Ø§Ø³Ù… `setUserInforOnline(user.data)`

ÙˆØ³ÛŒÙ„Ù‡ `context` ØªØ¹Ø±ÛŒÙ Ú©Ø±Ø¯ÛŒÙ… Ú©Ù‡ Ù…Ø´Ø®ØµØ§Øª Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ù„Ø§Ú¯ÛŒÙ† Ú©Ø±Ø¯Ù‡ Ø±Ùˆ Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒ Ú©Ù†Ù‡ . 

Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± `navigate` Ú©Ù†Ù‡ Ø¨Ù‡ ØµØ­ÙÙ‡ home/ . Ø¯Ø±ÙˆÙ† ÛŒÚ© `()setTimeout`

```javascript 
  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault();
    const user = await loginUser(loginValue);
        if (user?.status === 200) {
      console.log("User Info In If Login.tsx componet", user);
      setToast(true);
      console.log(user, "user is login.jsx");
      setUserInforOnline(user.data);
      setTimeout(() => {
        navigate("/");
      }, 3000);
    }
  }
```

**ÛŒØ§Ø¯ Ø§ÙˆØ±ÛŒ**:  route Ø¨Ù†Ø¯ÛŒ Ù‡Ø§ Ø¯Ø±ÙˆÙ† App.tsx Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ react-router-dom Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡ . 

```javascript 
function App() {
  return (
    <BrowserRouter>
      <Header />
      <Routes>
        <Route path="/" element={<Home />} />
        <Route path="/register" element={<Register />} />
        <Route path="/login" element={<Login />} />
      </Routes>
    </BrowserRouter>
  );
}
```


# Header.tsx Componet 

ÛŒÚ© Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Ø¯Ø§Ø±ÛŒÙ… Ø¨Ù‡ Ø§Ø³Ù… `Header.tsx` Ú©Ù‡ Ø§ÛŒÙ† Ú©Ø§Ù…Ù¾ÙˆÙ†Øª header ÙˆØ¨ Ø³Ø§ÛŒØª Ù…Ø§ Ù‡Ø³Øª Ùˆ Ù‚Ø±Ø§Ø± Ø¯Ø± ØªÙ…Ø§Ù…ÛŒ ØµØ­ÙØ§Øª Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø´Ù‡ . 

Ùˆ Ù…Ø´Ø®ØµØ§Øª Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ù„Ø§Ú¯ÛŒÙ† Ú©Ø±Ø¯Ù‡ Ø±Ùˆ Ù†Ø´ÙˆÙ† Ø¨Ø¯Ù‡ Ù…Ø«Ù„ Ø¹Ú©Ø³ Ù¾Ø±ÙØ§ÛŒÙ„ Ùˆ Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± `username` . 

Ø¯Ø±ÙˆÙ† `Header.tsx` Ø§ÛŒÙ…Ù¾ÙˆØ±Øª Ù‡Ø§ÛŒ Ø²ÛŒØ± Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… . 

```javascript 
import { Link } from "react-router-dom";
import { logoutUser, profileUser } from "../../api/users";
import { useGlobalContext } from "../../context/context";
import { useEffect } from "react";
```

Ø¯Ùˆ ØªØ§ ÙØ§Ù†Ú©Ø´Ù† Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ api Ø¨Ù‡ Ø§Ø³Ù… profileUser Ùˆ Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± logoutUser Ø¯Ø§Ø±ÛŒÙ… . 

Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ù„Ø§Ú¯ÛŒÙ† Ù…ÛŒ Ú©Ù†Ù‡ Ø³Ù…Øª `server` ÛŒÚ© token Ø¯Ø±ÙˆÙ† cookie Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒØ´Ù‡ . 

Ù…Ø´Ø®ØµØ§Øª Ø¯Ø±ÙˆÙ† Ø§ÛŒÙ† token ÙˆØ±ÛŒÙØ§ÛŒ Ø´Ø¯Ù‡ Ùˆ Ø¯Ø±ÙˆÙ† api Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ profileUser Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒØ´Ù‡ . 

Ú©Ù‡ Ø¯Ø± Ø¨Ø®Ø´ Ø³Ø±ÙˆØ± Ø¨ÛŒØ´ØªØ± Ø¨Ù‡Ø´ Ù…ÛŒ Ù¾Ø±Ø¯Ø§Ø²ÛŒÙ… . 

Ø¯Ø± Ø­Ø§Ù„ Ø­Ø§Ø¶Ø± ÙØ§Ù†Ú©Ø´Ù† profileUser Ø­Ø§ÙˆÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±ÛŒ Ù‡Ø³Øª Ú©Ù‡ Ù„Ø§Ú¯ÛŒÙ† Ø´Ø¯Ù‡ ØªÙˆØ³Ø· token . 


**Ù†Ú©ØªÙ‡** : Ø§ÛŒÙ† ØªÙˆÚ©Ù† Ø³Ù…Øª server Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒØ´Ù‡ 

### create context

<img src='https://github.com/mosenn/MERN/assets/91747908/a0f88736-0fdc-4834-a2eb-1cff7f5ccc99' alt='context in react'/>

ÛŒÚ© ÙÙˆÙ„Ø¯Ø± Ø¨Ù‡ Ø§Ø³Ù… context Ø¯Ø§Ø±ÛŒÙ… Ùˆ ÛŒÚ© ÙØ§ÛŒÙ„ Ø¨Ù‡ Ø§Ø³Ù… context.tsx Ø¯Ø§Ø±ÛŒÙ… . 

Ú©Ù‡ Ù…ÛŒØ§ÛŒÙ… Ø¯Ø±ÙˆÙ†Ø´ context Ø±Ùˆ Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ø¨Ù‡ createContext , useContext , Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… Ø§Ø² Ø¯Ø±ÙˆÙ† `react` Ù…ÛŒØ§ÛŒÙ… import Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯ÛŒÙ… . 

```javascript
import { createContext, useContext, useState } from "react";
```

ÛŒÚ© Ù…ØªØºÛŒÛŒØ± Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ø¨Ù‡ Ø¯Ù„ÛŒÙ„ Ø§ÛŒÙ†Ú©Ù‡ Ø§Ø² type script Ø¯Ø§Ø±ÛŒÙ… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… .

Ù†ÛŒØ§Ø² Ù‡Ø³Øª  `default value`  Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ `createContext` Ø±Ùˆ ØªØ¹Ø±ÛŒÙ Ú©Ù†ÛŒÙ… . 

```javascript
const AppContext = createContext<MyContextValue>({
  name: "",
  setUserInforOnline: () => {},
  userInfoOnline: {},
});
```


ÛŒÚ© interface Ø¨Ù‡ Ø§Ø³Ù… `MyContextValue` Ø¯Ø§Ø±ÛŒÙ… . 

Ú©Ù‡ Ø¯Ø± ÙˆØ§ÙØ¹ Ù†ÙˆØ¹ ØªØ§ÛŒÙ¾ Ù‡Ø§ÛŒ `default value` Ø±Ùˆ Ù…Ø´Ø®Øµ Ù…ÛŒ Ú©Ù†Ù‡ . 

```typescript 
interface MyContextValue {
  name: string;
  setUserInforOnline: React.Dispatch<React.SetStateAction<{}>>;
  userInfoOnline: {} | any;
}
```

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ `appProvider` Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ ÛŒÚ© ÙØ§Ù†Ú©Ø´Ù† Ù‡Ø³Øª . 

ÛŒÚ© parameter Ø¨Ù‡ Ø§Ø³Ù… `children` Ù…ÛŒ Ú¯ÛŒØ±Ù‡ . 

**Ù†Ú©ØªÙ‡** : Ø§ÛŒÙ†  children Ø­ØªÙ…Ø§ Ø¨Ø§ÛŒØ¯ Ø¨Ù‡ Ù‡Ù…ÛŒÙ† Ø§Ø³Ù… Ø¨Ø§Ø´Ù‡ . Ø¨Ø§ Ù‡Ù…ÛŒÙ† Ø­Ø±ÙˆÙ Ú©ÙˆÚ†ÛŒÚ© Ø¯Ø± ØºÛŒØ± Ø§ÛŒÙ†ØµÙˆØ±Øª context Ø¨Ù‡ Ù…Ø´Ú©Ù„ Ù…ÛŒ Ø®ÙˆØ±Ù‡ . 

```javascript 
const AppProvider: React.FC<AppProviderProps> = ({ children }) => {
  let [userInfoOnline, setUserInforOnline] = useState<{}>({});
  return (
    <AppContext.Provider
    >
    </AppContext.Provider>
  );
};
```

Ø¯Ø±ÙˆÙ†Ø´ ÛŒÚ© state ØªØ¹Ø±ÛŒÙ Ú©Ø±Ø¯ÛŒÙ… Ø§Ø² Ø§ÛŒÙ† state Ø¨Ø±Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ø³Ø§Ø²ÛŒ Ø¯ÛŒØªØ§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø± Ù„Ø§Ú¯ÛŒÙ† Ø´Ø¯Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ø®Ø¨ Ø§Ø² `AppContext` Ú©Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ createContext Ø±Ùˆ Ø¯Ø±ÙˆÙ† Ø®ÙˆØ¯Ø´ Ø¯Ø§Ø±Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

ÛŒØ¯ÙˆÙ†Ù‡ `Provider` Ø¨Ù‡Ø´ Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ù…ÛŒØ§Ù… children  Ø±Ùˆ Ù‚Ø±Ø§Ø± Ù…ÛŒØ¯ÛŒÙ… Ø¨ÛŒÙ† 2 provider Ú©Ù‡ ØªØ¹Ø±ÛŒÙ Ú©Ø±Ø¯ÛŒÙ…  . 



```javascript 
const AppProvider: React.FC<AppProviderProps> = ({ children }) => {
  let [userInfoOnline, setUserInforOnline] = useState<{}>({});
  return (
    <AppContext.Provider
    >
    {children}
    </AppContext.Provider>
  );
};
```

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ ÛŒÚ© value ØªØ¹Ø±ÛŒÙ Ù…ÛŒ Ú©Ù†ÛŒÙ… .

Ù…Ù‚Ø§Ø¯ÛŒØ±ÛŒ Ú©Ù‡ Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ø¨Ù‡ ØµÙˆØ±Øª Ú¯Ù„ÙˆØ¨Ø§Ù„ Ø¯Ø± Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Ù‡Ø§ÛŒ Ø¯ÛŒÚ¯Ù‡ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… . 

ØªØ¹Ø±ÛŒÙ Ù…ÛŒ Ú©Ù†ÛŒÙ… 
```javascript 
const AppProvider: React.FC<AppProviderProps> = ({ children }) => {
  let [userInfoOnline, setUserInforOnline] = useState<{}>({});
  return (
    <AppContext.Provider
      value={{
        name: "mohsen",
        setUserInforOnline,
        userInfoOnline,
      }}
    >
      {children}
    </AppContext.Provider>
  );
};
```

Ø­Ø§Ù„Ø§ appProvider Ú©Ù‡ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯ÛŒÙ… Ø±Ùˆ export Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

```javascript 
export { AppProvider }; 
```

Ø§ÛŒÙ† appPorvider Ø±Ùˆ Ø¯Ø±ÙˆÙ† main.tsx Ù…ÛŒØ§ÛŒÙ… import Ù…ÛŒ Ú©Ù†ÛŒÙ… Ùˆ Ú©Ù„ Ú©Ø§Ù…Ù¾ÙˆÙ†Øª <App> Ø±Ùˆ Ø¯Ø±ÙˆÙ†Ø´ Ù‚Ø±Ø§Ø± Ù…ÛŒØ¯ÛŒÙ… . 


<img src='https://github.com/mosenn/MERN/assets/91747908/ee7abd4d-1fb3-4b22-80e3-6678b147c2f3' alt='context in react'>


```javascript
import { AppProvider } from "./context/context.tsx";
ReactDOM.createRoot(document.getElementById("root") as HTMLElement).render(
  <AppProvider>
    <App />
  </AppProvider>
);
```

Ø¨Ø± Ù…ÛŒ Ú¯Ø±Ø¯ÛŒÙ… Ø¯ÙˆØ±Ù† ÙØ§ÛŒÙ„ context 


<img src='https://github.com/mosenn/MERN/assets/91747908/a0f88736-0fdc-4834-a2eb-1cff7f5ccc99' alt='context in react'/>


ÛŒÚ© arrow function Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ùˆ Ø§Ø² `useContext` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 


```javascript
export const useGlobalContext = () => {
  return useContext(AppContext);
};
```

Ø­Ø§Ù„Ø§ Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… Ø§Ø² useGlobalContext Ù‡Ø± Ø¬Ø§ Ú©Ù‡ Ø®ÙˆØ§Ø³ØªÛŒÙ… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… . 

Ùˆ Ù…Ù‚Ø§Ø¯ÛŒØ± Ú©Ù‡ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† value Ø¨Ù‡ `AppContext.Provider` Ù¾Ø§Ø³ Ø¯Ø§Ø¯ÛŒÙ… . 

Ø¯Ø± Ù‡Ø± Ú©Ø§Ù…Ù¾ÙˆÙ†ØªÛŒ Ú©Ù‡ Ù†ÛŒØ§Ø² Ø¯Ø§Ø´ØªÛŒÙ… Ø¨Ù‡ Ù…Ù‚Ø§Ø¯ÛŒØ±ÛŒ Ú©Ù‡ set Ú©Ø±Ø¯ÛŒÙ… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

# back to Header.tsx 

Ø¨Ø¹Ø¯ Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ context Ø®ÙˆØ¯Ù…ÙˆÙ† Ø±Ùˆ ØªØ¹Ø±ÛŒÙ Ú©Ø±Ø¯ÛŒÙ… . 

Ø¨Ø± Ù…ÛŒ Ú¯Ø±Ø¯ÛŒÙ… Ø¨Ù‡ Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Header.tsx . 

ÛŒÚ© Ø¨Ø§Ø± Ø¯ÛŒÚ¯Ù‡  import Ù‡Ø§ÛŒ Ø§ÛŒÙ† Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Ø±Ùˆ Ø¨Ø¨ÛŒÙ†ÛŒÙ… .
```javascript

import { Link } from "react-router-dom";
import { logoutUser, profileUser } from "../../api/users";
import { useGlobalContext } from "../../context/context";
import { useEffect } from "react";
```

Ø®Ø¨ useGlobalContext Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… Ù…ÛŒ Ø¨ÛŒÙ†ÛŒÙ… Ø§Ø² Ø¯Ø±ÙˆÙ† context . 

Ù…ÛŒØ§ÛŒÙ… state Ú©Ù‡ ØªØ¹Ø±ÛŒÙ Ú©Ø±Ø¯ÛŒÙ…   Ø±Ùˆ Ø§Ø² Ø¯Ø±ÙˆÙ† useGlobalContext Ù…ÛŒ Ú¯ÛŒØ±ÛŒÙ… . 

```javascript
const Header = () => {
  let { userInfoOnline, setUserInforOnline } = useGlobalContext();
  }
```

**ÛŒØ§Ø¯Ø§ÙˆØ±ÛŒ** : Ø§Ø² Ø§ÛŒÙ† state userInfoOnline Ø¯Ø±ÙˆÙ† Ú©Ø§Ù…Ù¾ÙˆÙ†Øª[Login.tsx](#function-loginuser) Ù‡Ù… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯ÛŒÙ… . 

### logout function 

ÙØ§Ù†Ú©Ø´Ù† `logout` Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… .

Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ù…ÛŒ ØªÙˆÙ†Ù‡ logout Ú©Ù†Ù‡ Ø¯Ø± ØµÙˆØ±Øª Ù„Ø§Ú¯ÛŒÙ† Ø¨ÙˆØ¯Ù† . 

Ø§ÛŒÙ† ÙØ§Ù†Ú©Ø´Ù† Ø¯Ø± Ø§ØµÙ„ ÛŒÚ© api Ø±Ùˆ Ú©Ø§Ù„ Ù…ÛŒ Ú©Ù†Ù‡ Ø³Ù…Øª `server` . 

Ú©Ù‡ Ø§ÛŒÙ† api Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ù‡Ù…ÙˆÙ† ØªÙˆÚ©Ù†ÛŒ Ú©Ù‡ Ø¨Ø±Ø§ÛŒ Ù„Ø§Ú¯ÛŒÙ† Ø´Ø¯Ù† Ú©Ø§Ø±Ø¨Ø± Ø³Øª Ù…ÛŒØ´Ù‡ . 

Ø§Ø² cookie Ø¯Ø±ÙˆÙ† server Ù¾Ø§Ú© Ù…ÛŒ Ú©Ù†Ù‡ Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ú©Ø§Ø±Ø¨Ø± logout Ù…ÛŒØ´Ù‡ . 

ÛŒÚ© window.reload Ø¨Ø±Ø§ÛŒ Ø±ÙØ±Ø´ Ø´Ø¯Ù† ØµØ­ÙÙ‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡ . 

Ú©Ù‡ Ù…ÛŒØ´Ù‡ ÛŒÚ© Ù„ÙˆØ¯ÛŒÙ†Ú¯ ÛŒØ§ ÛŒÚ© Ù¾ÛŒØ§Ù… Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø¨Ø±Ø§ÛŒ logout Ø´Ø¯Ù† Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯ . 

```javascript
  const logOut = async () => {
    await logoutUser();
    //* can set loading for logout take effect
    window.location.reload();
  };
```

ÙØ§Ù†Ú©Ø´Ù† Ø¨Ø¹Ø¯ÛŒ `takeUser` Ù‡Ø³Øª Ú©Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ù„Ø§Ú¯ÛŒÙ† Ù…ÛŒ Ú©Ù†Ù‡ Ø±Ùˆ Ø¯Ø±ÙˆÙ† state Ú¯Ù„ÙˆØ¨Ø§Ù„ Ø®ÙˆØ¯Ù…ÙˆÙ† Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

```javascript
  const takeUser = async () => {
    const user = await profileUser();
    setUserInforOnline(user);
  };
```

**Ù†Ú©ØªÙ‡** : Ø§Ú¯Ø± Ú©Ù‡ Ø¨Ø±Ø§ØªÙˆÙ† Ø³ÙˆØ§Ù„Ù‡ Ú©Ù‡ Ú†Ø±Ø§ Ø¯Ø± Ù‡Ø± Ø¯Ùˆ Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Ù‡Ù… Header.tsx Ùˆ Ù‡Ù… Login.tsx 

Ø§Ù…Ø¯ÛŒÙ… Ø§Ø² state Ú¯Ù„ÙˆØ¨Ø§Ù„ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯ÛŒÙ… Ùˆ Ø¯ÛŒØªØ§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ user Ø±Ùˆ Ø¯Ø±ÙˆÙ† state userInforOnline Ø°Ø®ÛŒØ±Ù‡ Ú©Ø±Ø¯ÛŒÙ… ! 

Ø¨Ù‡ Ø§ÛŒÙ† Ø¯Ù„ÛŒÙ„ Ù‡Ø³Øª Ú©Ù‡ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ ØµØ­ÙÙ‡ Ø±Ùˆ Ù†Ø®ÙˆØ§ÛŒÙ… Ø±ÙØ±Ø´ Ú©Ù†ÛŒÙ… ØªØ§ Ø¯ÛŒØªØ§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø±Ùˆ Ø¨Ù‡ Ù…Ø§ Ù†Ø´ÙˆÙ† Ø¨Ø¯Ù‡ . 

Ø§Ù…Ø¯ÛŒÙ… Ø¨Ù‡ Ø§ÛŒÙ†ØµÙˆØ±Øª Ú©Ø§Ø± Ú©Ø±Ø¯ÛŒÙ… . Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø¨Ù‡ Ù…Ø­Ø¶ Ø§ÛŒÙ†Ú©Ù‡ Ù„Ø§Ú¯ÛŒÙ† Ú©Ø±Ø¯ Ø§Ø·Ù„Ø§Ø¹Ø§ØªØ´ Ø¯Ø±ÙˆÙ† hedaer Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø´Ù‡ . 

Ø§Ú¯Ø± ÛŒÚ©ÛŒ Ø§Ø² setState Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ userInforOnline Ø±Ùˆ Ø¨Ø±Ø¯Ø§Ø±ÛŒÙ… . 

Ø¨Ù‡ Ù…Ø­Ø¶ Ø§ÛŒÙ†Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ù„Ø§Ú¯ÛŒÙ† Ø´Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù†Ù…ÛŒØ´Ù‡ Ùˆ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø±ÙØ±Ø´ Ø¨Ù‡ ØµÙˆØ±Øª Ø¯Ø³ØªÛŒ Ù‡Ø³Øª ØªØ§ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø´Ù‡ . 


Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ø¨Ø¹Ø¯ Ø§Ø² ØªØ¹Ø±ÛŒÙ ÙØ§Ù†Ú©Ø´Ù† `takeUser` Ø¯Ø±ÙˆÙ† ()useEffect Ù…ÛŒØ§ÛŒÙ… Ø§ÛŒÙ† ÙØ§Ù†Ú©Ø´Ù† Ø±Ùˆ Ø±Ø§Ù† Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ø§ÛŒÙ†Ú©Ø§Ø± Ø¨Ø§Ø¹Ø« Ù…ÛŒØ´Ù‡ Ø¨Ø§ Ù‡Ø± Ø¨Ø§Ø± Ø±Ø§Ù† Ø´Ø¯Ù† Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Header.tsx Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø± Ø§Ø² state Ú¯Ù„ÙˆØ¨Ø§Ù„ Ø®ÙˆÙ†Ø¯Ù‡ Ù…ÛŒØ´Ù‡ Ùˆ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒØ´Ù‡ .

```javascript 
  useEffect(() => {
    takeUser();
  }, []);
```

Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Header.tsx Ù…ÛŒØ§Ø¯ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø± Ø±Ùˆ Ù†Ù…Ø§ÛŒØ´ Ù…ÛŒØ¯Ù‡ Ø§Ú¯Ø± Ú©Ù‡ Ù„Ø§Ú¯ÛŒÙ† Ø¨Ø§Ø´Ù‡ . 

Ø¯Ø± ØºÛŒØ± Ø§ÛŒÙ†Ø¶ÙˆØ±Øª ÛŒÚ© ul Ø¯ÛŒÚ¯Ù‡ Ø±Ùˆ Ù†Ù…Ø§ÛŒØ´ Ù…ÛŒØ¯Ù‡ Ú©Ù‡ link Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ login Ø´Ø¯Ù† Ùˆ Ø«Ø¨Øª Ù†Ø§Ù… Ø¯Ø±ÙˆÙ†Ø´ Ù‚Ø±Ø§Ø± Ø¯Ø§Ø±Ù†Ø¯ . 

Ùˆ Ø§Ú¯Ø± Ú©Ø§Ø±Ø¨Ø± Ù„Ø§Ú¯ÛŒÙ† Ø¨ÙˆØ¯ Ø§Ø³Ù… Ú©Ø§Ø±Ø¨Ø± Ùˆ Ø¹Ú©Ø³ Ù¾Ø±ÙØ§ÛŒÙ„ Ø±Ùˆ Ø¯Ø± header Ù†Ù…Ø§ÛŒØ´ Ù…ÛŒØ¯Ù‡ Ø¨Ù‡ Ù‡Ù…Ø±Ø§Ù‡ ÛŒÚ© button Ú©Ù‡ Ù…Ø³Ø¦ÙˆÙ„ logout Ø´Ø¯Ù† Ú©Ø§Ø±Ø¨Ø± Ù‡Ø³Øª . 

Ø¯Ø± ÙˆØ§Ù‚Ø¹ button ÙØ§Ù†Ú©Ø´Ù† [logout](#logout-function) Ø±Ùˆ Ø§Ø¬Ø±Ø§ Ù…ÛŒ Ú©Ù†Ù‡ . 

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Header.tsx Ù…ÛŒØ§Ø¯ jsx Ø²ÛŒØ± Ø±Ùˆ return Ù…ÛŒ Ú©Ù†Ù‡ : 


```javascript 
  return (
    <header className="bg-zinc-200 flex justify-between p-4 text-lg font-bold">
      <div className="flex items-center justify-center">logo</div>
      <nav>
        {userInfoOnline?.username ? (
          <ul className="flex items-center justify-end">
            <li className="mr-4">
              <img
                className="rounded-full w-[50px] h-[50px] border-2 border-blue-950"
                src={userInfoOnline.pic}
                alt={`profile image ${userInfoOnline?.username}`}
              />
            </li>
            <li className="mr-4">{userInfoOnline?.username}</li>

            <li className="mr-4">
              <button onClick={logOut}>logout</button>
            </li>
          </ul>
        ) : (
          <ul className="flex justify-end items-center">
            <li className="mr-4">
              <Link to="/login">login</Link>
            </li>
            <li className="mr-4">
              <Link to="/register">register</Link>
            </li>
          </ul>
        )}
      </nav>
    </header>
  );
```

# Posts in clinet 

Ø¯Ø± Ø§ÛŒÙ† Ù‚Ø³Ù…Øª Ø§Ø² Ú©Ù„Ø§ÛŒÙ†Øª Ù…ÛŒ Ø®ÙˆØ§ÛŒÙ… Ø¨Ø®Ø´ Ø³Ø§Ø®Øª Ù¾Ø³Øª Ø±Ùˆ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÛŒÙ… . 

Ø¨Ø®Ø´ Ù¾Ù†Ù„ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø±Ùˆ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÛŒÙ… Ú©Ù‡ Ù‡Ø± Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ù„Ø§Ú¯ÛŒÙ† Ù‡Ø³Øª Ø¨ØªÙˆÙ†Ù‡ Ø¯Ø± Ø¨Ø®Ø´ Ù¾Ù†Ù„ Ø®ÙˆØ¯Ø´ Ù¾Ø³Øª Ù‡Ø§ÛŒ Ú©Ù‡ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯Ù‡ Ø¨Ø¨ÛŒÙ†Ù‡ . 


Ø¨Ø®Ø´ Ø§Ù¾Ø¯ÛŒØª Ø´Ø¯Ù† Ù¾Ø³Øª Ø±Ùˆ Ø¯Ø± Ù¾Ù†Ù„ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ Ù†ÙˆÛŒØ³Ù†Ø¯Ù‡ Ø®ÙˆØ¯Ù‡ Ù¾Ø³Øª 

Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± Ø¨Ø®Ø´ Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù¾Ø³Øª Ø±Ùˆ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… . 

Ùˆ Ø¯Ø± Ù†Ù‡Ø§ÛŒØª ØªÙ…Ø§Ù…ÛŒ Ù¾Ø³Øª Ù‡Ø§Ø±Ùˆ Ù†Ù…Ø§ÛŒØ´ Ø¨Ø¯ÛŒÙ… Ø¯Ø± ØµØ­ÙÙ‡ Ø§ØµÙ„ÛŒ  Ú©Ù‡ Ø¯Ø± Ù‡Ø± Ù¾Ø³Øª Ù†Ø´ÙˆÙ† Ø¯Ù‡Ù†Ø¯Ù‡ Ø§ÛŒÙ† Ø¨Ø§Ø´Ù‡ Ú©Ù‡ Ú†Ù‡ ØªØ§Ø±ÛŒØ®ÛŒ Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ . 

Ùˆ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ Ú†Ù‡ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯Ù‡ . 

**Ù†Ú©ØªÙ‡** : ØªÙ…Ø§Ù…ÛŒ Ø§ÛŒÙ† Ù…ÙˆØ§Ø±Ø¯ Ú¯ÙØªÙ‡ Ø¯Ø± Ø¨Ø§Ù„Ø§ Ø¯Ø± Ø³Ù…Øª Ø³Ø±ÙˆØ± Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡ Ùˆ `api` Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ ØªÙ…Ø§Ù…ÛŒ Ú©Ø§Ø± Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ù†ÙˆØ´ØªÙ‡ Ø´Ø¯Ù‡ . 

**Ù†Ú©ØªÙ‡** : Ø¨Ø±Ø§ÛŒ `update` Ú©Ø±Ø¯Ù†  Ùˆ `delete` Ú©Ø±Ø¯Ù† Ù‡Ù…ÛŒØ´Ù‡ Ù†ÛŒØ§Ø² Ø¨Ù‡ `objectId` Ø§Ø² Ø³Ù…Øª Ø¯ÛŒØªØ§ Ø¨ÛŒØ³ Ù‡Ø³Øª . 


# Post api 

Ù‚Ø¯Ù… Ø§ÙˆÙ„ Ø¯Ø±ÙˆÙ† ÙÙˆÙ„Ø¯Ø± `api` Ø¯Ø± Ú©Ù„Ø§ÛŒÙ†Øª Ø§Ù…Ø¯ÛŒÙ… ÛŒÚ© ÙØ§ÛŒÙ„ Ø¨Ù‡ Ø§Ø³Ù… `post` Ø³Ø§Ø®ØªÛŒÙ… . 

Ø¯Ø± ÙØ§ÛŒÙ„ `post.tsx` Ø§Ù…Ø¯ÛŒÙ… Ú©Ø§Ø±Ù‡Ø§ÛŒ `api` Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ø³Ø§Ø®Øª Ù¾Ø³Øª Ùˆ Ø§Ù¾Ø¯ÛŒØª Ùˆ

Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± Ù¾Ø§Ú©Ø¯ Ú©Ø±Ø¯Ù† Ùˆ Ú¯Ø±ÙØªÙ† ØªÙ…Ø§Ù…ÛŒ Ù¾Ø³Øª Ù‡Ø§ Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ø¯Ø§Ø¯ÛŒÙ… . 

<img src='https://github.com/mosenn/MERN/assets/91747908/c1f8b7e4-284f-41d0-8894-2c24849e2be6' alt='axios in react'/>


Ù‚Ø¯Ù… Ø§ÙˆÙ„ `import` Ú©Ø±Ø¯Ù† `axios` Ùˆ ØªØ¹Ø±ÛŒÙ Ú©Ø±Ø¯Ù† `baseUrl` Ù‡Ø³Øª . 

```javascript 
import axios from "axios";
const baseUrl = (axios.defaults.baseURL = "http://localhost:2023");

```

Ù‚Ø¯Ù… Ø¯ÙˆÙ… Ù†ÙˆØ´ØªÙ† ÙØ§Ù†Ú©Ø´Ù† Ù‡Ø§ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø± Ø¨Ø§ `api` Ú©Ù‡ Ø³Ù…Øª Ø³Ø±ÙˆØ± Ù†ÙˆØ´ØªÙ‡ Ø´Ø¯Ù‡ . 

### api post functions 



#### createPost function in api

Ø§ÙˆÙ„ÛŒÙ† ÙØ§Ù†Ø´Ú©Ù† `createpost` Ù‡Ø³Øª 

```javscript 
export const createPost = async (data: {}) => {
  try {
  } catch (err: any) {
  }
};
```
**ÛŒØ§Ø¯Ø§ÙˆØ±ÛŒ** : Ø¯Ø±ÙˆÙ† Ù‡Ø± ÙØ§Ù†Ú©Ø´Ù† Ù…Ø±ÙˆØ¨Ø· Ø¨Ù‡ Ú©Ø§Ø± Ø¨Ø§ `api` ÛŒÚ© `try` Ø¯Ø§Ø±ÛŒÙ… Ùˆ ÛŒÚ© Ø¨Ù„Ø§Ú© `catch` . 

**ÛŒØ§Ø¯Ø§ÙˆØ±ÛŒ** : ØªÙ…Ø§Ù…ÛŒ ÙØ§Ù†Ú©Ø´Ù† Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ `api` Ù†ÛŒØ§Ø² Ù‡Ø³Øª Ú©Ù‡ Ø§Ø² Ù†ÙˆØ¹ `async` Ùˆ `await` Ø¨Ø§Ø´Ù† . 

Ø®Ø¨ ÛŒÚ© Ù¾Ø§Ø±Ø§Ù…ØªØ± Ø¯Ø§Ø±ÛŒÙ… Ø¨Ù‡ Ø§Ø³Ù… `data` Ú©Ù‡ Ù†ÙˆØ¹ Ø§Ø´ Ø§Ø¨Ø¬Ú©Øª Ù‡Ø³Øª . 

Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ù…Ù‚Ø§Ø¯ÛŒØ± ÛŒÚ© `state` Ù‡Ø³Øª Ú©Ù‡ Ø¨Ù‡ Ø§ÛŒÙ† ÙØ§Ù†Ú©Ø´Ù† Ù¾Ø§Ø³ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡ . 

Ú©Ù‡ Ø¯Ø± `state` Ù…Ø´ØµØ®Ø§Øª Ù¾Ø³Øª Ú©Ù‡ Ù‚Ø±Ø§Ø± Ù‡Ø³Øª Ø³Ø§Ø®ØªÙ‡ Ø¨Ø´Ù‡ Ù‚Ø±Ø§Ø± Ù…ÛŒÚ¯ÛŒØ±Ù‡ Ù…Ø«Ù„ `    content , title , cover , summery`  . 

Ú©Ù‡ Ø§ÛŒÙ† Ù…ÙˆØ§Ø±Ø¯ Ø¯Ø± ÛŒÚ© `state` Ù‚Ø±Ø§Ø± Ù…ÛŒÚ¯ÛŒØ±Ù†Ø¯ Ø¯Ø± Ù†ØªÛŒØ¬Ù‡ Ø¨Ù‡ Ø¨Ù‡ ÙØ§Ù†Ú©Ø´Ù† `createPost` Ù¾Ø§Ø³ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒØ´Ù† ØªØ§ Ø¯Ø±ÙˆÙ† `api` Ù‚Ø±Ø§Ø± Ø¨ÛŒÚ¯Ø±Ù† . 

Ùˆ Ø§Ø·Ù„Ø§Ø¹Ø§Øª ÙˆØ§Ø±Ø¯ Ø´Ø¯Ù‡ Ø¯Ø±ÙˆÙ† Ø¯ÛŒØªØ§ Ø¨ÛŒØ³ Ù‚Ø±Ø§Ø± Ø¨Ú¯ÛŒØ±Ù‡ Ùˆ Ù¾Ø³Øª Ø§ÛŒØ¬Ø§Ø¯ Ø´Ù‡ . 

**Ù†Ú©ØªÙ‡** : Ú©Ø§Ø±Ø¨Ø± Ø­ØªÙ…Ø§ Ø¨Ø§ÛŒØ¯ `login` Ø¨Ø§Ø´Ù‡ ØªØ§ Ø¨ØªÙˆÙ†Ù‡ Ø³Ø§Ø®Øª Ù¾Ø³Øª Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ø¨Ø¯Ù‡ .

ÙØ§Ù†Ú©Ø´Ù† Ú©Ø§Ù…Ù„ `careatePost` Ø±Ùˆ Ø¨Ø¨ÛŒÙ†ÛŒÙ… . 

```javascript 
export const createPost = async (data: {}) => {
  console.log(data, "data in create post");
  try {
    const post = await axios.post(`${baseUrl}/createpost`, data, {
      // withCredentials: true,
    });
    // console.log(response, "response");
    return post;
  } catch (err: any) {
    // console.log("Create Post Errr", err);
    return err;
  }
};
```
Ø¯Ø±ÙˆÙ† Ø¨Ù„Ø§Ú¯ Ø§Ù…ÛŒØ¯ÛŒÙ… Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `axios.post` Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù…Ø¯ Ù†Ø¸Ø± Ø±Ùˆ Ø¨Ù‡ `end point /createpost` Ø§Ø±Ø³Ø§Ù„ Ú©Ø±Ø¯ÛŒÙ… . 

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø±Ùˆ `return` Ú©Ø±Ø¯ÛŒÙ… Ø±ÛŒØ³Ù¾Ø§Ù†Ø³ÛŒ Ú©Ù‡ Ø¨Ø±Ø´Ú¯Øª Ø¯Ø§Ø¯Ù‡ Ù…ÛŒØ´Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø³ØªÛŒ Ù‡Ø³Øª Ú©Ù‡ Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ . 

Ø§Ú¯Ø± Ù‡Ù… `err` Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… Ø¯Ø± Ù†Ù‡Ø§ÛŒØª `err` Ø±Ùˆ Ø®ÙˆØ§Ù‡ÛŒÙ… Ø¯Ø§Ø´Øª Ø¯Ø± Ø¨Ù„Ø§Ú© `catch` . 

Ø¨Ù‡ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `api`  Ú©Ù‡ Ø§Ø¯Ø±Ø³ `createpost` Ø±Ùˆ Ø¯Ø§Ø±Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ù‡Ù…ÙˆÙ† `createpost  end poin` 

Ø§Ù…Ø¯ÛŒÙ… ÛŒÚ© `post` Ø±Ùˆ Ø¨Ù‡ Ø³Ø±ÙˆØ± ÙØ±Ø³ØªØ§Ø¯ÛŒÙ… Ùˆ Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ø¯Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒØ´Ù‡ . 

#### get all posts function in api

Ø®Ø¨ Ø­Ø§Ù„Ø§ Ú©Ù‡ `post` Ø±Ùˆ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯ÛŒÙ… Ø¨Ø±ÛŒÙ… Ø³Ø±Ø§Øº Ø§ÛŒÙ†Ú©Ù‡ Ú†Ø·ÙˆØ±ÛŒ ØªÙ…Ø§Ù…ÛŒ Ù¾Ø³Øª Ù‡Ø§ Ø±Ùˆ Ø¨Ú¯ÛŒØ±ÛŒÙ… . 

Ø§ÛŒÙ†Ú©Ø§Ø±Ùˆ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ ÙØ§Ù†Ú©Ø´Ù† `posts` Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯ÛŒÙ… 

```javascript
export const posts = async () => {
  try {
    const response = await axios.get(`${baseUrl}/posts`);
    // console.log(response, "RESPONSE");
    return response;
  } catch (err: unknown) {
    console.log("All Posts Error", err);
    return err;
  }
};

```

ØµØ±ÙØ§ ØªÙ…Ø§Ù…ÛŒ Ù¾Ø³Øª Ù‡Ø§Ø±Ùˆ Ù…ÛŒ Ú¯ÛŒØ±ÛŒÙ…  .

Ø§Ù„Ø¨ØªÙ‡ Ø³Ù…Øª Ø³Ø±ÙˆØ± Ø·ÙˆØ±ÛŒ Ø§ÛŒÙ† `api` Ù†ÙˆØ´ØªÙ‡ Ø´Ø¯Ù‡ Ú©Ù‡ `response` Ú©Ù‡ Ø§ÛŒÙ† `api` Ø¨Ø±Ú¯Ø´Øª Ù…ÛŒØ¯Ù‡ ÛŒÚ© `author` Ù‡Ù… Ø¯Ø±ÙˆÙ†Ø´ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ù‡ . 

<img src='https://github.com/mosenn/MERN/assets/91747908/850ee6f6-4ae1-442d-8d17-06af894fcadc'
 alt='data in reactjs' />


 Ø§Ú¯Ø± Ø¨Ù‡ Ø¹Ú©Ø³ Ø¨Ø§Ù„Ø§ Ú©Ù‡ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ `response` Ù‡Ø³Øª Ú©Ù‡ Ø§ÛŒÙ† `api` Ø¨Ø±Ú¯Ø´Øª Ù…ÛŒØ¯Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ ØªÙ…Ø§Ù…ÛŒ `post` Ù‡Ø§ÛŒ Ù‡Ø³ØªÙ†Ø¯ Ú©Ù‡ Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ . 

 Ùˆ Ø¨Ù‡ Ù‡Ù…Ø±Ø§Ù‡ Ø®ÙˆØ¯Ø´ÙˆÙ† ÛŒÚ© `author` Ø¯Ø§Ø±Ù†Ø¯ Ú©Ù‡ Ø§Ø´Ø§Ø±Ù‡ Ù…ÛŒ Ú©Ù†Ù‡ Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ø§ÛŒÙ† Ù¾Ø³Øª Ø±Ùˆ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯Ù‡ . 

 Ú©Ù‡ Ø§ÛŒÙ† Ù…ÙˆØ¶ÙˆØ¹ Ø³Ù…Øª `server` Ù‡Ù†Ø¯Ù„ Ø´Ø¯Ù‡ . 

 #### Get post with user 

 Ø¯Ø± Ø³Ù…Øª Ú©Ù„Ø§ÛŒÙ†Øª ÛŒÚ© `panel` Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø¯Ø§Ø±ÛŒÙ… . 

 Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ù„Ø§Ú¯ÛŒÙ† Ø´Ø¯Ù‡ Ù…ÛŒ ØªÙˆÙ†Ù‡ ÙˆØ§Ø±Ø¯ Ø§ÛŒÙ† `panel`  Ø´Ø¯Ù‡ Ùˆ ØªÙ…Ø§Ù…ÛŒ `post` Ù‡Ø§ÛŒ Ú©Ù‡ Ø®ÙˆØ¯Ø´ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯Ù‡ Ø±Ùˆ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú©Ù†Ù‡ . 

 Ø§Ø² Ø§ÛŒÙ† Ø±Ùˆ Ù†ÛŒØ§Ø² Ø¨Ù‡ ÛŒÚ© `api` Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ø§Ø± Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ `api` Ø³Ù…Øª Ø³Ø±ÙˆØ± Ù†ÙˆØ´ØªÙ‡ Ø´Ø¯Ù‡ Ú©Ù‡ Ø§ÛŒÙ†Ú©Ø§Ø±Ùˆ Ø¨Ø±Ø§ÛŒ Ù…Ø§ Ø§Ù†Ø¬Ø§Ù… Ø¨Ø¯Ù‡ . 

 Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ Ø§ÛŒÙ† `api` ÛŒÚ© Ú©Ø§Ø±Ø¨Ø± Ù…ÛŒ ØªÙˆÙ†Ù‡ Ø¯Ø± Ù¾Ù†Ù„ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø®ÙˆØ¯Ø´ ØªÙ…Ø§Ù… Ù¾Ø³Øª Ù‡Ø§ÛŒ Ú©Ù‡ ØªÙˆØ³Ø· Ø®ÙˆØ¯Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø§ÛŒØ¬Ø§ Ø¯ Ø´Ø¯Ù‡ Ù…ÛŒ ØªÙˆÙ†Ù‡ Ø¨Ø¨ÛŒÙ†Ù‡ . 

 Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ù…Ø«Ø§Ù„ Ú©Ø§Ø±Ø¨Ø± Ù…Ø­Ø³Ù† Ø§Ù…Ø¯Ù‡ 3 ØªØ§ Ù¾Ø³Øª Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯Ù‡ . Ø¯Ø± Ø³Ø§ÛŒØª . Ù…ÛŒ ØªÙˆÙ†Ù‡ Ù‡Ø± 3 Ù¾Ø³Øª Ú©Ù‡ Ø®ÙˆØ¯Ø´ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯Ù‡ Ø¯Ø± Ù¾Ù†Ù„ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø®ÙˆØ¯Ø´ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú©Ù†Ù‡ . 

 **ÛŒØ§Ø¯Ø§ÙˆØ±ÛŒ** : Ø¯Ø± Ø³Ù…Øª `clinet` ØµØ±ÙØ§ Ù…Ø§ Ø§Ø² `api` Ù†ÙˆØ´ØªÙ‡ Ø´Ø¯Ù‡ Ø¯Ø§Ø±ÛŒÙ… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†Ù… ØªÙ…Ø§Ù…ÛŒ Ù…Ù†Ø·Ù‚ Ø§ÛŒÙ† Ù‚Ø¶ÛŒÙ‡ Ø³Ù…Øª `server` Ù‡Ù†Ø¯Ù„ Ø´Ø¯Ù‡ .


 Ø¨Ø±ÛŒÙ… ÙØ§Ù†Ø´Ú©Ù† `userPost` Ø±Ùˆ Ø¨Ø¨ÛŒÙ†ÛŒÙ… : 

 ```javascript 
export const userPost = async () => {
  try {
    const response = await axios.get(`${baseUrl}/userposts`);
    console.log(response, "RESPONSE");
    return response;
  } catch (err: unknown) {
    console.log("User Post Error", err);
    return err;
  }
};
```
Ø¨Ù‡ `api` Ù…Ø¯ Ù†Ø¸Ø± Ø¯Ø± Ø®ÙˆØ§Ø³Øª Ø²Ø¯Ù‡ Ø´Ø¯Ù‡ Ú©Ù‡ `end point` Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ `userposts` Ù‡Ø³Øª . 

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª `response` Ø±Ùˆ Ø¨Ø± Ú¯Ø´Øª Ù…ÛŒØ¯Ù‡ Ú©Ù‡ Ø­Ø§ÙˆÛŒ ØªÙ…Ø§Ù…ÛŒ `post` Ù‡Ø§ÛŒ Ù‡Ø³Øª Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø­Ø§Ù„ Ø­Ø§Ø¶Ø± Ù„Ø§Ú¯ÛŒÙ† Ø´Ø¯Ù‡ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯Ù‡ . 

Ø¯Ø± Ø¨Ù„Ø§Ú© `catch` Ù‡Ù… Ø§Ø±ÙˆØ± Ø±Ùˆ Ú©Ù†ØªØ±Ù„ Ú©Ø±Ø¯ÛŒÙ… Ùˆ Ø§Ú¯Ø± Ø§Ø±ÙˆØ±ÛŒ Ø¨Ø§Ø´Ù‡ Ø¨Ù‡ Ù…Ø§ Ø¨Ø±Ú¯Ø´Øª Ø¯Ø§Ø¯Ù‡ Ù…ÛŒØ´Ù‡ 

**Ù†Ú©ØªÙ‡** : ØªØ§ÛŒÙ¾ ØªÙ…Ø§Ù…ÛŒ `err` Ù‡Ø§ Ø¯Ø±ÙˆÙ† Ø¨Ù„Ø§Ú© `catch` Ù…ÛŒ ØªÙˆÙ†Ù‡ `any` ÛŒØ§ `unknown` Ø¨Ø§Ø´Ù‡ Ú©Ù‡ ØªØ±Ø¬ÛŒØ¬Ø§ Ø§Ø² `unknown` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡ . 

Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ Ø§ÛŒÙ† ÙØ§Ù†Ú©Ø´Ù† Ø¯Ø± Ø³Ù…Øª `clinet` Ø§Ù…Ø¯ÛŒÙ… Ù¾Ø³Øª Ù‡Ø§ÛŒ Ù…Ø±ÙˆØ¨Ø· Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ `login` Ù‡Ø³Øª Ø±Ùˆ Ú¯Ø±ÙØªÛŒÙ… . 

Ú©Ù‡ Ø§Ø² Ø§ÛŒÙ† ÙØ§Ù†Ú©Ø´Ù† Ø¯Ø± ÙÙˆÙ„Ø¯Ø± `page` Ø¯Ø± ÙØ§ÛŒÙ„ `Panel.tsx` Ø§Ø²Ø´ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . Ø¨Ø±Ø§ÛŒ Ú¯Ø±ÙØªÙ† Ù¾Ø³Øª Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø± . 


#### Put edit post

ÙØ§Ù†Ú©Ø´Ù† Ø¨Ø¹Ø¯ÛŒ Ú©Ø§Ø± `update` Ø´Ø¯Ù† ÛŒÚ© Ù¾Ø³Øª Ø±Ùˆ Ø¨Ø±Ø§ÛŒ Ù…Ø§ ÙØ±Ø§Ù‡Ù… Ù…ÛŒ Ú©Ù†Ù‡ . 

Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ Ø§ÛŒÙ† ÙØ§Ù†Ú©Ø´Ù† Ùˆ `api` Ú©Ù‡ Ù‡Ø³Øª Ù…Ù‚Ø§Ø¯ÛŒØ± ÛŒÚ© Ù¾Ø³Øª Ø±Ùˆ `edit` Ú©Ù†ÛŒÙ… . 

Ù…Ù†ØªÙ‡Ø§ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ú©Ø§Ø± Ù‡Ù…ÙˆÙ†Ø·ÙˆØ± Ú©Ù‡ Ù‚Ø¨Ù„Ø§ Ø§Ø´Ø§Ø±Ù‡ Ø´Ø¯ Ø¨Ù‡ `id` Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… . 

Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø¨Ù‡ `post ObjectId` Ú©Ù‡ Ø¯Ø±ÙˆÙ† Ø¯ÛŒØªØ§ Ù‡Ø³Øª Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… .

```javascript 
export const editPost = async (id: string, data: any) => {
};
```

Ø®Ø¨  Ø¯Ùˆ ØªØ§ `parameter` Ø¯Ø§Ø±Ù‡ Ø§ÛŒÙ† ÙØ§Ù†Ú©Ø´Ù† . 

Ù¾Ø§Ø±Ø§Ù…ØªØ± Ø§ÙˆÙ„ Ú©Ù‡ Ù‡Ù…ÙˆÙ† `objectId` Ù…Ø±ÙˆØ¨Ø· Ø¨Ù‡ `post` Ù‡Ø³Øª Ú©Ù‡ Ù†ÙˆØ¹ ØªØ§ÛŒÙ¾ Ø§Ø´ Ù‡Ù… `string` Ù‡Ø³Øª . 

Ù¾Ø§Ø±Ø§Ù…ØªØ± Ø¯ÙˆÙ… Ø¯Ø± ÙˆØ§Ù‚Ø¹ ÛŒÚ© `state` Ù‡Ø³Øª Ú©Ù‡ Ø­Ø§ÙˆÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¬Ø¯ÛŒØ¯ Ù‡Ø³Øª . 

Ù‚Ø±Ø§Ø± Ú©Ù‡ Ù¾Ø³Øª Ø±Ùˆ Ø§Ù¾Ø¯ÛŒØª Ú©Ù†ÛŒÙ… Ù¾Ø³ Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… Ø§Ø·Ù„Ø§Ø¹Ø§ØªÛŒ Ø±Ùˆ Ú©Ù‡ Ù…ÛŒ Ø®ÙˆØ§ÛŒÙ… Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… . 

ØªØ§ Ø¨ØªÙˆÙ†ÛŒÙ… Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù‚Ø¨Ù„ÛŒ Ú©Ù†ÛŒÙ… . 

ÙØ§Ù†Ú©Ø´Ù† `editPost` Ø±Ùˆ Ø¨Ø§ Ù‡Ù… Ø¯ÛŒÚ¯Ù‡ Ú©Ø§Ù…Ù„ Ø¨Ø¨ÛŒÙ†ÛŒÙ… : 

```javascritp 
export const editPost = async (id: string, data: any) => {
  console.log(id, "ID IN EDITPOST");
  console.log(data, "DATA in editpost");
  const { summery, title, content, cover } = data;
  try {
    const res = await axios.put(
      `${baseUrl}/editpost/${id}`,
      { title, content, summery, cover },
    
    );
    console.log(res, "response edit post in api");
    return res;
  } catch (err:unknown) {
    console.log("edit post err", err);
    return err;
  }
};
```

Ù†Ú©ØªÙ‡ Ø§ÛŒ Ú©Ù‡ Ø¯Ø§Ø±Ù‡ Ø§ÛŒÙ†Ø¬Ø§ Ø§Ù…Ø¯ÛŒÙ… `id` Ú©Ù‡ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ `post` Ù‡Ø§ Ù‡Ù… Ù‡Ø³Øª Ø¨Ù‡Ø´ Ù¾Ø§Ø³ Ø¯Ø§Ø¯ÛŒÙ… Ø¨Ù‡ Ø§Ø¯Ø±Ø³ `api` . 

Ú©Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ `params` Ø§Ø¯Ø±Ø³ `api` Ù…Ø§ Ù…ÛŒØ´Ù‡ Ùˆ Ø¯Ø± Ø³Ù…Øª Ø³Ø±ÙˆØ± Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… Ø§ÛŒÙ† `params` Ø±Ùˆ Ø¨Ú¯ÛŒØ±ÛŒÙ… Ú©Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ `id` Ù¾Ø³Øª Ù‡Ø³Øª . 

Ù¾Ø³ØªÛŒ Ú©Ù‡ Ø¯Ø³Øª Ø®ÙˆØ´ ØªØºÛŒØ±Ø± Ø´Ø¯Ù‡ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ Ù‡Ù…ÛŒÙ† Ø§ÛŒØ¯ÛŒ Ù¾ÛŒØ¯Ø§ Ú©Ù†ÛŒÙ… . 

Ø§Ù„Ø¨ØªÙ‡ `api` Ú©Ù‡ Ù†ÙˆØ´ØªÙ‡ Ø¯Ø± Ø³Ù…Øª Ø³Ø±ÙˆØ± ÛŒÚ© `id` Ø¯Ø±ÙˆÙ† Ø®ÙˆØ¯Ø´ Ø¯Ø§Ø±Ù‡ . 

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ø¯Ø± Ø¨Ù„Ø§Ú© `try` Ø§Ù…Ø¯ÛŒÙ… Ù…Ù‚Ø§Ø¯ÛŒØ± Ø¬Ø¯ÛŒØ¯ Ú©Ù‡ Ø¯Ø±ÙˆÙ† `state` Ø°Ø®ÛŒØ±Ù‡ Ú©Ø±Ø¯Ù‡ Ø¨ÙˆØ¯ÛŒÙ… Ø¨Ù‡ `api` Ù¾Ø§Ø³ Ù…ÛŒØ¯ÛŒÙ… . 

```javasript 
  try {
    const res = await axios.put(
      `${baseUrl}/editpost/${id}`,
      { title, content, summery, cover },
    
    );
    console.log(res, "response edit post in api");
    return res;
  }
```

Ùˆ `return res` Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ `response` Ø¨Ù‡ Ù…Ø§ `post` Ø§Ù¾Ø¯ÛŒØª Ø´Ø¯Ù‡ Ø±Ùˆ Ø¨Ø±Ú¯Ø´Øª Ù…ÛŒØ¯Ù‡ . 

#### Delete post function 

ÙØ§Ù†Ú©Ø´Ù† Ø¨Ø¹Ø¯ÛŒ Ú©Ù‡ Ø§Ø² Ø§Ø³Ù…Ø´ Ù‡Ù… Ù…Ø´Ø®Øµ Ù‡Ø³Øª Ú©Ø§Ø± Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù¾Ø³Øª Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯Ù‡ .

Ùˆ Ù‡Ø± Ú©Ø§Ø±Ø¨Ø± Ù…ÛŒ ØªÙˆÙ†Ù‡ Ù¾Ø³ØªÛŒ Ø±Ùˆ Ú©Ù‡ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯Ù‡ Ø¨ÛŒØ§Ø¯ Ù¾Ø§Ú© Ú©Ù†Ù‡ . 

**ÛŒØ§Ø¯Ø§ÙˆØ±ÛŒ** : Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ùˆ Ø§Ù¾Ø¯ÛŒØª Ú©Ø±Ø¯Ù† Ù‡Ù…ÛŒØ´Ù‡ Ù†ÛŒØ§Ø² Ø¨Ù‡ `ObjectId` Ø¯Ø§Ø±Ù‡ . 

``` javascript 
export const deleteUserPost = async (id: string) => {
  try {
    const response = await axios.delete(`${baseUrl}/deletepostuser/${id}`, {
      method: "delete",
    });
    console.log(response, "response");
    return response;
  } catch (err) {
    console.log("Delete Post Error", err);
    return err;
  }
};

```
Ø§Ú¯Ø± Ù†Ú¯Ø§Ù‡ Ú©Ù†ÛŒØ¯ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† `parameter` Ø¯Ø±ÙˆÙ† Ø§Ø¯Ø±Ø³ `api` Ø§ÛŒØ¯ÛŒ Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ù‡Ù…ÙˆÙ† `ObjectId` Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ `post` Ù‡Ø³Øª . 

Ø±ÛŒØ³Ù¾Ø§Ù†Ø³ÛŒ Ú©Ù‡ Ø¨Ø±Ú¯Ø´Øª Ù…ÛŒØ¯Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ù…Ø´Ø®ØµØ§Øª Ù¾Ø³ØªÛŒ Ù‡Ø³Øª Ú©Ù‡ Ù¾Ø§Ú© Ø´Ø¯Ù‡ . 

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ø§Ú¯Ø± `err` Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù¾Ø³Øª Ø¯Ø± Ø¨Ù„Ø§Ú© `catch` Ø§Ø±ÙˆØ± Ù…Ø±Ø¨ÙˆØ· Ø±Ùˆ Ø®ÙˆØ§Ù‡ÛŒÙ… Ø¯Ø§Ø´Øª . 

# here 

# comment.tsx in api folder 

<img src='https://github.com/mosenn/MERN/assets/91747908/1a44c107-11bc-4f86-9664-0eaf4e95010f' alt='api in reactjs'/>

Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¨ØªÙˆÙ†ÛŒÙ… Ú©Ø§Ù…Ù†Øª Ù‡Ø± Ù¾Ø³Øª Ø±Ùˆ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… ÛŒÚ© ÙØ§ÛŒÙ„ Ø¨Ù‡ Ø§Ø³Ù… `comment.tsx` Ø¯Ø§Ø±ÛŒÙ… . 

Ú©Ù‡ Ø¯Ø±ÙˆÙ† Ø§ÛŒÙ† ÙØ§ÛŒÙ„ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡  `api` Ú©Ø§Ù…Ù†Øª  Ù‡Ø§ Ø³Ø§Ø®Øª Ú©Ø§Ù…Ù†Øª Ù‡Ø§ Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… Ùˆ Ú¯Ø±ÙØªÙ† Ú©Ø§Ù…Ù†Øª Ù‡Ø§ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `id` Ù¾Ø³Øª Ù‡Ø§ .

Ø§Ø² Ø§ÛŒÙ† ÙØ§Ù†Ø´Ù† Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ `api` Ù…ÛŒØ§ÛŒÙ… Ø¯Ø± Ø¨Ø®Ø´ `detail.tsx` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ø¬Ø§ÛŒ Ú©Ù‡ Ù…Ø­ØªÙˆØ§ÛŒ Ù‡Ø± Ù¾Ø³Øª Ø±Ùˆ Ø¨Ù‡ ØµÙˆØ±Øª Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡ Ù†Ù…Ø§ÛŒØ´ Ù…ÛŒØ¯ÛŒÙ… Ùˆ Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± Ú©Ø§Ù…Ù†Øª Ù‡Ø§ÛŒ Ù‡Ø± Ù¾Ø³Øª Ø±Ùˆ . 




Ø¯Ø± ÙØ§ÛŒÙ„ `comment.tsx` Ø§ÙˆÙ„ Ù…ÛŒØ§ÛŒÙ… `baseUrl` Ø±Ùˆ Ù…Ø´Ø®Øµ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ø§Ø¯Ø±Ø³ `api` Ø±Ùˆ . 

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ `axios` Ø±Ùˆ Ù…ÛŒØ§ÛŒÙ… `import` Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

```javascript 
import axios from "axios";
const baseUrl = (axios.defaults.baseURL = "http://localhost:2023");
```



### postUserComments
Ø®Ø¨ Ø¨Ø±ÛŒÙ… Ø³Ø±Ø§Øº ÙØ§Ù†Ú©Ø´Ù† `postUserComments` Ú©Ù‡ ÙˆØ¸ÛŒÙÙ‡ Ø³Ø§Ø®Øª Ú©Ø§Ù…Ù†Øª Ø±Ùˆ Ø¨Ø± Ø¹Ù‡Ø¯Ù‡ Ø¯Ø§Ø±Ù‡ . 

```javascript
export const postUserComments = async (
) => { }
```
Ø¯Ø± Ú©Ø¯ Ù¾Ø§ÛŒÛŒÙ† Ù…Ù‚Ø§Ø¯ÛŒØ±ÛŒ Ú©Ù‡ Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ø¨Ù‡ `body` Ù¾Ø§Ø³ Ø¯Ø§Ø¯Ù‡ Ø´Ù‡ Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ù¾Ø§Ø±Ø§Ù…ØªØ± . 

```javascript
export const postUserComments = async (
  data: { comment: string },
  id: string,
  postId: string
) => { } 
```

Ø®Ø¨ Ù†ÙˆØ¨Øª Ù…ÛŒØ±Ø³Ù‡ Ø¨Ù‡ Ø§ÛŒÙ†Ú©Ù‡ Ø¨ÛŒØ§ÛŒÙ… `api` Ù…Ø¯ Ù†Ø¸Ø± Ø±Ùˆ Ú©Ø§Ù„ Ú©Ù†ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ø§Ø±Ø³Ø§Ù„ Ù…ÙˆØ§Ø±Ø¯ÛŒ Ú©Ù‡ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ù¾Ø§Ø±Ø§Ù…ØªØ± Ú¯Ø±ÙØªÛŒÙ… . 

Ú©Ù‡ Ø¯Ø±ÙˆÙ† Ø¨Ù„Ø§Ú© `try` Ù…ÛŒØ§ÛŒÙ… Ø§ÛŒÙ†Ú©Ø§Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ø¯Ø§Ø¯ÛŒÙ… . 

```javascript
 try {
    console.log(data);
    const response = await axios.post(
      `${baseUrl}/comments`,
      {
        comment: comment,
        author: id,
        postId: postId,
      },
      {
        headers: { "Content-Type": "application/json" },
      }
    );
    // console.log("response", response);
    return response;
}
```

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ù…ÛŒØ§ÛŒÙ… Ù…ØªØºÛŒÛŒØ± `response` Ø±Ùˆ Ú©Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ `response api` Ù…Ø§ Ø±Ùˆ Ø¯Ø±ÙˆÙ† Ø®ÙˆØ¯Ø´ Ù‚Ø±Ø§Ø± Ø¯Ø§Ø¯Ù‡ Ø±Ùˆ `return` Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ ÛŒÚ© Ø¨Ù„Ø§Ú© `catch` Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… Ø§Ø±ÙˆØ± Ù‡Ø§Ø±Ùˆ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… . 


```javascript
catch (err: unknown) {
    console.log("post user comment Err", err);
    return err;
  }
```
ÛŒÚ© Ø¨Ø§Ø± Ø¨Ù‡ Ø·ÙˆØ± Ú©Ù„ÛŒ Ø¨Ø§ Ù‡Ù… Ø¯ÛŒÚ¯Ù‡ Ø¨Ù‡ ÙØ§Ù†Ú©Ø´Ù† `postUserComments` Ù†Ú¯Ø§Ù‡ Ú©Ù†ÛŒÙ… Ú©Ù‡ ÙˆØ¸ÛŒÙÙ‡ Ø³Ø§Ø®Øª Ú©Ø§Ù…Ù†Øª Ù‡Ø§ Ø±Ùˆ Ø¨Ø± Ø¹Ù‡Ø¯Ù‡ Ø¯Ø§Ø±Ù‡ . 

```javascript 
export const postUserComments = async (
  data: { comment: string },
  id: string,
  postId: string
) => {
  const { comment } = data;

  try {
    console.log(data);
    const response = await axios.post(
      `${baseUrl}/comments`,
      {
        comment: comment,
        author: id,
        postId: postId,
      },
      {
        headers: { "Content-Type": "application/json" },
      }
    );
    // console.log("response", response);
    return response;
  } catch (err: unknown) {
    console.log("post user comment Err", err);
    return err;
  }
};
```

### getAllPostComments

ÛŒÚ© ÙØ§Ù†Ú©Ø´Ù† Ø¯ÛŒÚ¯Ù‡ Ø¨Ù‡ Ø§Ø³Ù… `getAllPostComments` Ø¯Ø± ÙØ§ÛŒÙ„ `comment.tsx` Ø¯Ø§Ø±ÛŒÙ… . 

Ú©Ù‡ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `postId` Ù…ÛŒØ§Ø¯ Ù…Ø´Ø®ØµØ§Øª Ù¾Ø³Øª Ø±Ùˆ Ù…ÛŒÚ¯ÛŒØ±Ù‡ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `id`  . 


```javascript
export const getAllPostComments = async (postId: string) => {};
```

Ù‡Ù…ÙˆÙ†Ø·ÙˆØ± Ú©Ù‡ Ù…ÛŒ Ø¨Ù†ÛŒØ¯ ÛŒÚ© `postId` Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ù¾Ø§Ø±Ø§Ù…Ø² Ø¯Ø§Ø±Ù‡ Ù…ÛŒ Ú¯ÛŒØ±Ù‡ . 

Ú©Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ `objectId` Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ù¾Ø³Øª Ù‡Ø³Øª . 

Ø¨Ù„Ø§Ú© `try / catch` Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… . 

Ú©Ù‡ Ø¯Ø±ÙˆÙ† Ø¨Ù„Ø§Ú© `try` ØµØ±ÙØ§ Ù…ÛŒØ§ÛŒÙ… `api` Ø®ÙˆØ¯Ù…ÙˆÙ† Ø±Ùˆ Ú©Ø§Ù„ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

```javascript
 try {
    const comments = await axios.get(`${baseUrl}/comment/${postId}`);
    // console.log("COMMENTS FROM API", comments);
    return comments;
  } catch (err: any) {
    // console.log("get Comments Err", err);
    return err;
  }
```
Ù…Ù†ØªÙ‡Ø§ `postId` Ø±Ùˆ Ø¨Ù‡ Ø§Ø¯Ø±Ø³ `api` Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† `params` Ù¾Ø§Ø³ Ø¯Ø§Ø¯ÛŒÙ… . 

Ø¨Ø±Ø§ÛŒ Ú¯Ø±ÙØªÙ† Ú©Ø§Ù…Ù†Øª Ù‡Ø§ÛŒ ÛŒÚ© Ù¾Ø³Øª Ù…Ø´Ø®Øµ Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ `objectId` Ø±Ùˆ Ù¾Ø§Ø³ Ø¨Ø¯ÛŒÙ… . 

Ø¯Ø± Ø¨Ù„Ø§Ú© `catch` Ú©Ù‡ Ø§Ø±ÙˆØ± Ù‡Ø§ Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… .

Ú©Ù„ ÙØ§Ù†Ú©Ø´Ù† `getAllPostComments` Ø¨Ù‡ ØµÙˆØ±Øª Ø²ÛŒØ± Ù‡Ø³Øª : 


```javascript
export const getAllPostComments = async (postId: string) => {
  // console.log("Id", postId);
  try {
    const comments = await axios.get(`${baseUrl}/comment/${postId}`);
    // console.log("COMMENTS FROM API", comments);
    return comments;
  } catch (err: any) {
    // console.log("get Comments Err", err);
    return err;
  }
};
```



# userIntraction.tsx in api folder 

ÛŒÚ© ÙÙˆÙ„Ø¯Ø± Ø¯Ø§Ø±ÛŒÙ… Ø¨Ù‡ Ø§Ø³Ù… `userIntraction.tsx` Ú©Ù‡ ÙˆØ¸ÛŒÙÙ‡ Ù„Ø§ÛŒÚ© Ø´Ø¯Ù† Ùˆ Ø³ÛŒÙˆ Ø´Ø¯Ù† Ø±Ùˆ Ø¯Ø§Ø±Ù‡ . 

Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± ÙˆØ¸ÛŒÙÙ‡ Ú¯Ø±ÙØªÙ† Ù„Ø§ÛŒÚ© Ùˆ Ø³ÛŒÙˆ Ù‡Ø§ Ø±Ùˆ Ø¯Ø± Ø§ÛŒÙ† ÙØ§ÛŒÙ„ Ø¯Ø§Ø±ÛŒÙ… . 

<img src='https://github.com/mosenn/MERN/assets/91747908/0ea8a42a-4b4e-45fa-abcd-99d892d8d0ba' alt='api in reactjs'/>


### postLike

Ø§ÛŒÙ† ÙØ§Ù†Ø´Ú©Ù† ÙˆØ¸ÛŒÙÙ‡ Ø§Ø±Ø³Ø§Ù„ `like` Ø±Ùˆ Ø¨Ø± Ø¹Ù‡Ø¯Ù‡ Ø¯Ø§Ø±Ù‡ .

```javascript
export const postLike = async (postId: string) => { }
```

Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† `parameter` Ø§Ù…Ø¯Ù‡ `postId` Ø±Ùˆ Ú¯Ø±ÙØªÙ‡ Ú†ÙˆÙ† Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¨Ø¯ÙˆÙ†ÛŒÙ… Ú©Ø¯ÙˆÙ… `post` Ù„Ø§ÛŒÚ© Ø´Ø¯Ù‡ Ù†ÛŒØ§Ø² Ø¨Ù‡ `id` Ù¾Ø³Øª Ù‡Ø§ Ø¯Ø§Ø±ÛŒÙ… . 

Ø®Ø¨ Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ ÛŒÚ© Ø¨Ù„Ø§Ú© `try` Ø¯Ø§Ø±ÛŒÙ… . 

```javascript
  try {
    const like = await axios.post(
      `${baseUrl}/likedPost/${postId}`);
    console.log(like, "like in api");
    return like;
  }
```

Ø®Ø¨ `api` Ø±Ùˆ Ú©Ø§Ù„ Ú©Ø±Ø¯ÛŒÙ… Ùˆ Ù¾Ø³Øª `id` Ø±Ùˆ Ø¯Ø±ÙˆÙ† `parmas` Ù¾Ø§Ø³ Ø¯Ø§Ø¯ÛŒÙ… . 

Ø§ÛŒÙ†Ø¬ÙˆØ±ÛŒ Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… Ù¾Ø³Øª Ù‡Ø§ÛŒ Ø±Ùˆ Ú©Ù‡ Ù„Ø§ÛŒÚ© Ø´Ø¯Ù‡ Ø±Ùˆ Ù…Ù‚Ø¯Ø§Ø± `like` Ø¯Ø± Ø³Ù…Øª Ø³Ø±ÙˆØ± `true` Ù…ÛŒØ´Ù‡ . 

Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø¨Ø§ Ø§ÛŒÙ† ÙØ§Ù†Ú©Ø´Ù† `api` Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ `toggel `  Ø´Ø¯Ù† Ù„Ø§ÛŒÚ© Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ´Ù‡ . 

ÛŒÚ© Ø¨Ø§Ø± Ø¨Ø§ Ù‡Ù… Ú©Ù„ ÙØ§Ù†Ú©Ø´Ù† Ø±Ùˆ Ø¨Ø¨Ù†ÛŒÙ… : 

```javascript
export const postLike = async (postId: string) => {
  console.log(postId, "postId");
  try {
    const like = await axios.post(`${baseUrl}/likedPost/${postId}`);
    console.log(like, "like in api");
    return like;
  } catch (err: any) {
    console.log(err);
    throw new Error(err.response?.data?.message || "Something went wrong");
  }
};
```


### getLikes

Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ Ø§ÛŒÙ† ÙØ§Ù†Ú©Ø´Ù† Ù…ÛŒØ§ÛŒÙ… `like` Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ù‡Ø± Ù¾Ø³Øª Ø±Ùˆ Ù…ÛŒ Ú¯ÛŒØ±ÛŒÙ… Ú©Ù‡ Ú†Ù‡ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú†Ù‡ Ù¾Ø³ØªÛŒ Ø±Ùˆ Ù„Ø§ÛŒÚ© Ú©Ø±Ø¯Ù‡ . 

Ùˆ ØªØ¹Ø¯Ø§Ø¯ Ù„Ø§ÛŒÚ© Ù‡Ø± Ù¾Ø³Øª Ú†Ù‡ Ù…Ù‚Ø¯Ø§Ø± Ù‡Ø³Øª . Ø§ÛŒÙ† ÙØ§Ù†Ú©Ø´Ù† ÛŒÚ© `response`  Ú©Ù‡ Ù…ÛŒØ¯Ù‡ ÛŒÚ© Ø§Ø±Ø§ÛŒÙ‡ Ù‡Ø³Øª . 

Ú©Ù‡ Ù…Ø¬Ù…ÙˆØ¹ Ù„Ø§ÛŒÚ© Ù‡Ø§ÛŒ `true` Ø§ÙˆÙ† Ù¾Ø³Øª Ù…Ø¯ Ù†Ø¸Ø± Ø¯Ø±ÙˆÙ†Ø´ Ù‚Ø±Ø§Ø± Ø¯Ø§Ø±Ù‡ . Ø§ÛŒÙ†Ø¬ÙˆØ±ÛŒ Ù…ØªÙˆØ¬Ù‡ Ù…ÛŒ Ø´ÛŒÙ… Ú©Ù‡ Ø§ÙˆÙ† Ù¾Ø³Øª Ú†Ù‡ ØªØ¹Ø¯Ø§Ø¯ Ù„Ø§ÛŒÚ© Ø¯Ø§Ø±Ù‡ . 

```javascript 
export const getLikes = async (postId: string) => {
  try {
    const likes = await axios.get(`${baseUrl}/likes/${postId}`);
    // console.log("All Likes in get Likes Api", likes);
    return likes;
  } catch (err: any) {
    console.log("Get Likes Error", err);
    return err;
  }
};
```

Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¨Ø¯ÙˆÙ†ÛŒÙ… Ú†Ù‡ Ù¾Ø³ØªÛŒ Ú†Ù‡ Ù…Ù‚Ø¯Ø§Ø± Ù„Ø§ÛŒÚ© Ø¯Ø§Ø±Ù‡ Ù†ÛŒØ§Ø² Ø¨Ù‡ `postId` Ø¯Ø§Ø±ÛŒÙ… . 

Ú©Ù‡ Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† `params` Ø¯Ø± Ø§Ø¯Ø±Ø³ `api` Ø¨Ù‡Ø´ Ù¾Ø§Ø³ Ø¯Ø§Ø¯ÛŒÙ…  . 

```javascript
    const likes = await axios.get(`${baseUrl}/likes/${postId}`);
```

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ù…ØªÙÛŒØ± `like` Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† `response` Ø¯Ø§Ø±ÛŒÙ… `return`  Ù…ÛŒ Ú©Ù†ÛŒÙ… . 
```javascript
 return likes;
```

ÛŒÚ© Ø¨Ø§Ø± Ø¯ÛŒÚ¯Ù‡ Ú©Ù„ ÙØ§Ù†Ú©Ø´Ù† `getLikes` Ø±Ùˆ Ø¨Ø§ Ù‡Ù… Ø¨Ø¨ÛŒÙ†ÛŒÙ… : 

```javascript
export const getLikes = async (postId: string) => {
  try {
    const likes = await axios.get(`${baseUrl}/likes/${postId}`);
    // console.log("All Likes in get Likes Api", likes);
    return likes;
  } catch (err: any) {
    console.log("Get Likes Error", err);
    return err;
  }
};
```

### postSave

ÙØ§Ù†Ú©Ø´Ù† Ø¯ÛŒÚ¯Ù‡ Ú©Ù‡ Ø¯Ø± ÙØ§ÛŒÙ„ `userIntraction.tsx` Ø¯Ø§Ø±ÛŒÙ… Ø¯Ø± ÙÙˆÙ„Ø¯Ø± `api` . 

ÙØ§Ù†Ú©Ø´Ù† `postSave` Ù‡Ø³Øª . Ú©Ù‡ Ø¯Ù‚ÛŒÙ‚Ø§ Ù…Ø«Ù„ `getLikes` Ù…ÛŒØ§Ø¯ Ø¹Ù…Ù„ Ù…ÛŒ Ú©Ù†Ù‡ . 

Ú©Ù‡ Ú©Ø§Ø±Ø´ `toggel` Ø´Ø¯Ù† `save` Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ù¾Ø³Øª Ù‡Ø§ Ù‡Ø³ØªØ´ . 

```javascript
export const postSave = async (postId: string) => {
  try {
    const save = await axios.post(`${baseUrl}/savedPost/${postId}`);
    return save;
  } catch (err: any) {
    console.log("save post Error", err);
    throw new Error(err.response?.data?.message || "Something went wrong");
  }
};
```
### getSave
Ø§ÛŒÙ† ÙØ§Ù†Ú©Ø´Ù† Ù‡Ù… Ø¯Ù‚ÛŒÙ‚Ø§ Ù…Ø«Ù„ `getLikes` Ù‡Ø³Øª . 

ÙØ§Ù†Ú©Ø´Ù† Ø¨Ø¹Ø¯ÛŒ `getSave` Ù‡Ø³Øª Ú©Ù‡ ÙˆØ¸ÛŒÙÙ‡ Ú¯Ø±ÙØªÙ† `save ` Ù‡Ø§ÛŒ Ú©Ù‡ `true` Ø´Ø¯Ù† Ø±Ùˆ Ø¯Ø§Ø±Ù‡ . 

Ø§ÛŒÙ†Ø¬ÙˆØ±ÛŒ ÛŒÚ© Ø§Ø±Ø§ÛŒÙ‡ Ø¨Ù‡ Ù…Ø§ Ù…ÛŒØ¯Ù‡ Ú©Ù‡ Ø­Ø§ÙˆÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ù¾Ø³Øª Ø±Ùˆ `save` Ú©Ø±Ø¯Ù‡ . 

Ùˆ Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… Ø§Ø² ØªØ¹Ø¯Ø§Ø¯ `length` Ø¨Ú¯ÛŒÙ… Ú©Ù‡ Ù¾Ø³Øª Ù…Ø¯ Ù†Ø¸Ø± Ù…Ø§ Ú†Ù‡ ØªØ¹Ø¯Ø§Ø¯ÛŒ `save` Ø´Ø¯Ù‡ . 

Ú©Ø¯ Ù‡Ø§ÛŒ ÙØ§Ù†Ú©Ø´Ù† `getSave` Ø¨Ù‡ ØµÙˆØ±Øª Ø²ÛŒØ± Ù‡Ø³ØªØ´ : 

```javascript
export const getSave = async (postId: string) => {
  try {
    const saves = await axios.get(`${baseUrl}/saves/${postId}`);
    return saves;
  } catch (err: any) {
    console.log(err);
  }
};
```


Ø®Ø¨ Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ ØªÙ…Ø§Ù…ÛŒ ÙØ§Ù†Ú©Ø´ Ù‡Ø§ÛŒ Ù†ÙˆØ´ØªÙ‡ Ø´Ø¯Ù‡ Ø¯Ø± ÙØ§ÛŒÙ„ `userIntraction`  Ø±Ùˆ Ú©Ù‡ `export` Ú©Ø±Ø¯ÛŒÙ… . 

Ø¯Ø±ÙˆÙ† `Detail.tsx` Ù…ÛŒØ§ÛŒÙ… Ø§ÛŒÙ† ÙØ§Ù†Ú©Ø´Ù† Ù‡Ø§ Ø±Ùˆ ØµØ¯Ø§ Ù…ÛŒ Ø²Ù†ÛŒÙ… .

Ø¨Ø±Ø§ÛŒ Ù„Ø§ÛŒÚ© Ø´Ø¯Ù† Ùˆ Ø³ÛŒÙˆ Ø´Ø¯Ù† Ù¾Ø³Øª Ù…Ø¯ Ù†Ø¸Ø± . 


```javascript

// in detail.tsx
import {
  getLikes,
  getSave,
  postLike,
  postSave,
} from "../../api/userIntraction";

```



# Create Post Commponent 


Ø®Ø¨ ÙˆÙ‚ØªÛŒ Ú©Ù‡ `api` Ù‡Ø§ Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… . Ù†ÙˆØ¨Øª Ø¨Ù‡ Ø³Ø§Ø®Øª Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Ù…ÛŒ Ø±Ø³ÛŒÙ‡ . 

Ú©Ø§Ù…Ù¾ÙˆÙ†ØªÛŒ Ú©Ù‡ Ù…ÛŒ Ø®ÙˆØ§ÛŒÙ… Ø¯Ø± Ù…ÙˆØ±Ø¯Ø´ ØµØ­Ø¨Øª Ú©Ù†ÛŒÙ… `createPost` Ù‡Ø³Øª . 

![image](https://github.com/mosenn/MERN/assets/91747908/4fc085d1-c7d9-4aad-8ef3-16a379e4548d)

Ø¯Ø± Ø§ÛŒÙ† Ú©Ø§Ù…Ù¾ÙˆÙ†Øª ÛŒÚ© `form` Ø¯Ø§Ø±ÛŒ Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®Øª `post` . 

Ú©Ù‡ Ø§ÛŒÙ† `from` Ø¯Ø±ÙˆÙ† Ø®ÙˆØ¯Ø´ `input` Ù‡Ø§ÛŒ Ø¯Ø§Ø±Ù‡. 

Ù‡Ø± `input` Ù…Ù‚Ø¯Ø§Ø± Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ø®ÙˆØ¯Ø´ Ø±Ùˆ Ù…ÛŒÚ¯ÛŒØ±Ù‡ Ùˆ Ø¯Ø±ÙˆÙ† ÛŒÚ© `state` Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒØ´Ù‡ . 

Ø¯Ù‚ÛŒÙ‚Ø§ Ù…Ø«Ù„ `form` Ø«Ø¨Øª Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø± . 

Ù…Ù‚Ø§Ø¯ÛŒØ±ÛŒ Ú©Ù‡ Ø¨Ø±Ø§ÛŒ `post` ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ Ùˆ Ø¯Ø±ÙˆÙ† Ø³Ø±ÙˆØ± Ù‡Ù… Ù‡Ù…ÛŒÙ† Ù…Ù‚Ø§Ø¯ÛŒØ± ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ . 

Ø¹Ú©Ø³ Ù¾Ø³Øª Ù‡Ø³Øª . ØªØ§ØªÛŒÙ„ Ù¾Ø³Øª Ù‡Ø³Øª Ùˆ Ø®Ø§Ù„Ø§ØµÙ‡ Ù¾Ø³Øª Ù‡Ø³Øª Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± Ù…Ø­ØªÙˆØ§ÛŒ Ø§ØµÙ„ÛŒ Ù¾Ø³Øª ÛŒØ§ Ù‡Ù…ÙˆÙ† `contnet` . 

Ø¨Ø±ÛŒÙ… Ø¨Ù‡ ÙØ±ÙˆÙ… Ø®ÙˆØ¯Ù…ÙˆÙ…Ù† Ø¯Ø± `createPost` Ù†Ú¯Ø§Ù‡ Ú©Ù†ÛŒÙ… : 

``` javascrtip 
        <form action="" onSubmit={handleSubmit}>
          <input
            type="text"
            placeholder="title"
            name="title"
            onChange={handleOnChange}
          />
          <input
            type="text"
            placeholder="summery"
            name="summery"
            onChange={handleOnChange}
          />

          <input
            type="file"
            name="cover"
            id="cover-input"
            onChange={handleOnChange}
          />
          <Button
            icon=""
            disabled={uploadBtnDisabel}
            text={
              uploadAnimation ? (
                <Loading size={35} color={"#ECF0F3"} />
              ) : (
                uploadMessage
              )
            }
            className={
              "bg-blue-500 hover:bg-blue-300 w-[96%]   md:w-[180px] md:-translate-x-1 lg:w-[250px] rounded p-3 text-zinc-50 font-semibold"
            }
            type="button"
            onClick={Uploadimage}
          ></Button>

          <ReactQuill
            theme="snow"
            value={postValue.content}
            onChange={(value) => setPostValue({ ...postValue, content: value })}
          />
          <button
            className="bg-blue-500 hover:bg-blue-300 w-[99%] rounded p-3 text-zinc-50 font-semibold"
            type="submit"
            disabled={disabelSubmitForm}
          >
            create post
          </button>
        </form>
```

Ù‡Ø± `input` Ø¨Ø§ `onChange` Ø´Ø¯Ù† Ù…Ù‚Ø§Ø¯ÛŒØ±Ø´ Ú¯Ø±ÙØªÙ‡ Ù…ÛŒØ´Ù‡ Ùˆ Ø¯Ø±ÙˆÙ† ÛŒÚ© `state` Ø°Ø­ÛŒØ±Ù‡ Ù…ÛŒØ´Ù‡ . 

**Ù†Ú©ØªÙ‡ :** Ø¨Ø±Ø§ÛŒ Ú¯Ø±ÙØªÙ† `content` Ø§Ø² ÛŒÚ© `package` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡ Ø¨Ù‡ Ø§Ø³Ù… `ReactQuill` . 

**Ù†Ú©ØªÙ‡** : Ø¨Ø±Ø§ÛŒ Ø§Ù¾Ù„ÙˆØ¯ Ø´Ø¯Ù† Ø¹Ú©Ø³ Ø§Ø² Ù‡Ù…ÙˆÙ† ÙØ§Ù†Ú©Ø´Ù† Ú©Ù‡ Ø¨Ø±Ø§ÛŒ Ø§Ù¾Ø¯ÛŒØª Ø¹Ú©Ø³ Ù¾Ø±ÙØ§ÛŒÙ„ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒØ´Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 


Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯Ù† `state` : 

```javascript
  const [postValue, setPostValue] = useState({
    title: "",
    summery: "",
    cover: {},
    content: "",
  });
  const handleOnChange = async (e: React.ChangeEvent<HTMLInputElement>) => {
    if (e.target.name === "cover") {
      const file = (e.target as HTMLInputElement).files?.[0];
      if (file) {
        setUploadBtnDisabel(false);
        setPostValue({ ...postValue, cover: file });
      }
    } else {
      setPostValue({ ...postValue, [e.target.name]: e.target.value });
    }
    console.log("Regiser State in onChange func", postValue);
  };

```

Ù‚Ø³Ù…ØªÛŒ Ú©Ù‡ Ø¯Ø§Ø±Ù‡ `cover` Ø±Ùˆ Ú†Ú© Ù…ÛŒ Ú©Ù†Ù‡ `e.target.name` Ø§Ú¯Ø± `cover` Ø¨ÙˆØ¯ Ø¨ÛŒØ§Ø¯ Ù…Ù‚Ø¯Ø§Ø± Ø¹Ú©Ø³ Ø±Ùˆ Ø°Ø®ÛŒØ±Ù‡ Ú©Ù†Ù‡ Ø¯Ø± `state` Ø¯Ø§Ø®Ù„ `cover` Ø¯Ø± ØºÛŒØ± Ø§ÛŒÙ†ØµÙˆØ±Øª Ø¨ÛŒØ§Ø¯ `else` Ø§Ø¬Ø±Ø§ Ø´Ù‡ . 

Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ `form` Ù…Ø§ `submit` Ù…ÛŒØ´Ù‡ ÛŒÚ© ÙØ§Ù†Ú©Ø´Ù† `handleSubmit` Ø§ØªÙØ§Ù‚ Ù…ÛŒ Ø§ÙØªÙ‡ Ú©Ù‡ Ù…ÛŒØ§Ø¯ ÛŒÚ© Ø³Ø±ÛŒ Ú©Ø§Ø± Ù‡Ø§ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯Ù‡ . 

ÙØ§Ù†Ú©Ø´Ù† Ø±Ùˆ Ø¨Ø§ Ù‡Ù… Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒÙ… : 

```javascript 
  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault();
    console.log(postValue);
    setPostValue({ ...postValue, content: content });
    console.log(postValue, "POST VALUE");
    if (postValue) {
      setDisabelSubmitForm(false);
    }
    const post: {} | any = await createPost(postValue);
    console.log("Response Create Post", post);
    if (post?.status === 201) {
      setToast(true);
      //* can set loading then navigate to home page
      setTimeout(() => {
        navigate("/panel");
      }, 3000);
    }
  };
```

Ù‚Ø³Ù…Øª Ù‚Ø§Ø¨Ù„ ØªÙˆØ¬Ù‡ ÙØ§Ù†Ú©Ø´Ù† Ø¬Ø§ÛŒ Ù‡Ø³Øª Ú©Ù‡ ÛŒÚ© Ø¨Ø§Ø± Ø¯ÛŒÚ¯Ù‡ `state postValue` Ø¯Ø§Ø±Ù‡ `contensh ` Ø³Øª Ù…ÛŒØ´Ù‡ . 

Ø§ÛŒÙ† Ø§ØªÙØ§Ù‚ Ø¨Ù‡ Ø§ÛŒÙ† Ø¯Ù„ÛŒÙ„Ù‡ Ú©Ù‡ `reactQul` Ù…ØªØ¯ `onchange` Ø±Ùˆ Ù‚Ø¨ÙˆÙ„ Ù†Ù…ÛŒ Ú©Ù†Ù‡ . 

Ùˆ Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ `form` Ù…Ø§ Ù…ÛŒ Ø®ÙˆØ§Ø¯ `submit` Ø´Ù‡ Ù…Ø§ Ù…ÛŒØ§ÛŒÙ… Ø§ÛŒÙ† Ù…Ù‚Ø¯Ø§Ø± `content` Ø±Ùˆ Ø§Ø² Ø¯Ø§Ø®Ù„ `reactQuill` Ù…ÛŒÚ¯ÛŒØ±ÛŒÙ… . 

Ø¯Ø±ÙˆÙ† `state  postValue` Ù…ÛŒØ§ÛŒÙ… Ø³Øª Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

```javascript
    setPostValue({ ...postValue, content: content }); 
```

Ø¯Ø±ÙˆÙ† Ù‚Ø§Ù†Ú©Ø´Ù† `handleSubmit` ÛŒÚ© `condition` Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ú¯ÙØªÛŒÙ… Ø§Ú¯Ø± Ú©Ù‡ Ù…Ù‚Ø§Ø¯ÛŒØ± `postValue`  Ø¨ÙˆØ¯Ù†Ø¯ Ú©Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ `state` Ù‡Ø³Øª 

Ú©Ù‡ Ù…Ù‚Ø§Ø¯ÛŒØ±`input` Ù‡Ø§ Ø±Ùˆ Ø¯Ø±ÙˆÙ† Ø®ÙˆØ¯Ø´ Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒ Ú©Ù†Ù‡ . 

Ø§Ú¯Ø± Ú©Ù‡ Ø§ÛŒÙ† `postValue` Ø¨ÙˆØ¯ . Ø¨Ù‡ Ø§ÛŒÙ† Ù…Ø¹Ù†ÛŒ Ú©Ù‡ ØªÙ…Ø§Ù…ÛŒ ÙÛŒÙ„Ø¯ Ù‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø² Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®Øª `post` ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´Øª . 

Ø¨ÛŒØ§Ø¯ ÛŒÚ© `state` Ø±Ùˆ `false` Ú©Ù†Ù‡ . 

  ```javascript
    if (postValue) {
      setDisabelSubmitForm(false);
    }
```

Ú©Ù‡ Ø§ÛŒÙ† `state` ÙˆØ¸ÛŒÙÙ‡ `disable` Ø¨ÙˆØ¯Ù† `button` Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ `submit` Ø´Ø¯Ù† Ø±Ùˆ Ù…Ø´Ø®Øµ Ù…ÛŒ Ú©Ù†Ù‡ .

Ø§Ú¯Ø± ØªÙ…Ø§Ù…ÛŒ Ù…Ù‚Ø§Ø¯ÛŒØ± `post` ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´Øª Ø¯Ø± ÙˆØ§Ù‚Ø¹ ØªÙ…Ø§Ù…ÛŒ ÙÛŒÙ„Ø¯ Ù‡Ø§ Ù¾Ø± Ø´Ø¯Ù‡ Ø¨ÙˆØ¯Ù†Ø¯ `button` Ù…Ø§ Ø§Ù…Ú©Ø§Ù† `submit` Ø´Ø¯Ù† Ùˆ Ú©Ù„ÛŒÚ© Ø´Ø¯Ù† Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù‡ . 

Ø¯Ø± ØºÛŒØ± Ø§ÛŒÙ†ØµÙˆØ±Øª Ø§Ú¯Ø± Ù‡Ø± Ú©Ø¯ÙˆÙ… Ø§Ø² ÙÛŒÙ„Ø¯ Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ø³Ø§Ø®Øª `post` Ø®Ø§Ù„ÛŒ Ø¨ÙˆØ¯Ù†Ø¯ `button` Ø¯Ø± ÙˆØ§Ù‚Ø¹ `disable` Ø¨Ø§Ø´Ù‡ Ùˆ Ø§Ù…Ú©Ø§Ù† Ú©Ù„ÛŒÚ© Ø´Ø¯Ù† Ù†Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù‡ . 


```javascript

//* state 
  const [disabelSubmitForm, setDisabelSubmitForm] = useState(true);

//* button
          <button
            className="bg-blue-500 hover:bg-blue-300 w-[99%] rounded p-3 text-zinc-50 font-semibold"
            type="submit"
            disabled={disabelSubmitForm}
          >
            create post
          </button>

```

Ø®Ø¨ Ø¨Ø±ÛŒÙ… Ø³Ø±Ø§Øº Ø¨Ù‚ÛŒÙ‡ ÙØ§Ù†Ú©Ø´Ù† `handleSubmit` Ø¯Ø§Ø®Ù„ `createPost` . 

```javascript 
    const post: {} | any = await createPost(postValue);
    console.log("Response Create Post", post);
    if (post?.status === 201) {
      setToast(true);
      //* can set loading then navigate to home page
      setTimeout(() => {
        navigate("/panel");
      }, 3000);
    }
```

Ø¯Ø± Ú©Ø¯ Ø¨Ø§Ù„Ø§ Ú©Ù‡ Ø§Ø¯Ø§Ù…Ù‡ ÙØ§Ù†Ú©Ø´Ù† `handlesubmit` Ù‡Ø³Øª  . 

Ø§ÙˆÙ„ ÙØ§Ù†Ú©Ø´Ù† `createPost` Ø±Ùˆ ØµØ¯Ø§ Ø²Ø¯Ù‡ Ø´Ø¯Ù‡ Ú©Ù‡ Ø¯Ø± ÙÙˆÙ„Ø¯Ø± `api` Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡  Ø¯Ø± ÙØ§ÛŒÙ„ÛŒ Ø¨Ù‡ Ø§Ø³Ù… `post` . 

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ú¯ÙØªÛŒÙ… Ø§Ú¯Ø± `post` Ø§Ú¯Ø± `status` Ø¨Ø±Ø§Ø¨Ø± Ø¨Ø§ `201` Ø¨ÙˆØ¯ `setToast` Ø±Ùˆ `true` Ú©Ù†Ù‡ . 

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ø¨Ø¹Ø¯ Ø§Ø² `3s`  Ø¨Ù‡ ØµØ­ÙÙ‡ `panel` Ú©Ø§Ø±Ø¨Ø± ÙˆØ§Ø±Ø¯ Ø´Ù‡ ÛŒØ§ Ù‡Ù…ÙˆÙ† `navigate`  Ø´Ù‡ ÛŒØ§ `redirect` Ø´Ù‡ .


**Ù†Ú©ØªÙ‡** : Ù‡Ù… Ú©Ø§Ù…Ù¾ÙˆÙ†Øª `CreatePost` Ù†ÛŒØ§Ø² Ù‡Ø³Øª Ø¯Ø± `router` Ù‚Ø±Ø§Ø± Ø¨Ú¯ÛŒØ±Ù‡ Ùˆ Ù‡Ù… Ú©Ø§Ù…Ù¾ÙˆÙ†Øª `Panel` Ú©Ù‡ Ø¯Ø± Ø§ÛŒÙ†Ø¯Ù‡ Ù‚Ø±Ø§Ø± Ù‡Ø³Øª Ø³Ø§Ø®ØªÙ‡ Ø´Ù‡ . 

Ø¯Ù‚Øª Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒØ¯ Ú©Ù‡ Ø§ÛŒÙ† Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Ù‡Ø§ Ù†ÛŒØ§Ø² Ù‡Ø³Øª Ø¯Ø± `App.tsx` Ø¯Ø± `react-router-dom` Ø¨ÛŒØ§Ø¯ ÛŒÚ© Ø§Ø¯Ø±Ø³ÛŒ Ø¨Ù‡ Ø®ÙˆØ¯Ø´ÙˆÙ† Ø§Ø®ØªØµØ§Øµ Ø¨Ø¯Ù† Ú©Ù‡ Ù…Ø§ Ø¨ØªÙˆÙ†ÛŒÙ… 

Ø§ÛŒÙ† Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Ù‡Ø§ Ø±Ùˆ Ø¨Ø¨Ù†ÛŒÙ… Ùˆ Ø¨ÛŒÙ† Ø´ÙˆÙ† Ø¬Ø§ Ø¨Ù‡ Ø¬Ø§ Ø´ÛŒÙ… . 

```javascritp 
//* in app.tsx 
function App() {
  return (
    <BrowserRouter>
      <Header />
      <Routes>
        <Route path="/" element={<Home />} />
        <Route path="/register" element={<Register />} />
        <Route path="/login" element={<Login />} />
        <Route path="/createpost" element={<CreatePost />} />
        <Route path="/panel" element={<Panel />} />
        <Route path="/detail/:id" element={<Detail />} />
        <Route path="/editpost/:id" element={<Editpost />} />
      </Routes>
    </BrowserRouter>
  );
}
```


Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ ØµØ­ÙÙ‡  `createPost` ÛŒÚ© ÙØ§Ù†Ú©Ø´Ù† Ø¯ÛŒÚ¯Ù‡ Ù‡Ù… ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ù‡ Ø¨Ø±Ø§ÛŒ Ø§Ù¾Ù„ÙˆØ¯ Ø¹Ú©Ø³ Ù¾Ø³Øª Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø±Ù…ÙˆÙ† . 

Ú©Ù‡ Ø§ÛŒÙ† ÙØ§Ù†Ú©Ø´Ù† Ú©Ø§Ø± Ø§Ù†Ø¬Ø§Ù… `upload` Ø¹Ú©Ø³ Ú©Ø§ÙˆØ± Ù¾Ø³Øª Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯Ù‡ . 

Ø¯Ù‚ÛŒÙ‚Ø§ Ù…Ø«Ù„ ÙØ§Ù†Ú©Ø´Ù† Ú©Ù‡ Ø§Ù¾Ù„ÙˆØ¯ Ø¹Ú©Ø³ Ù¾Ø±ÙØ§ÛŒÙ„ Ú©Ø§Ø±Ø¨Ø± Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯Ù‡ . 

ØªÙØ§ÙˆØªÛŒ Ù†Ø¯Ø§Ø±Ù‡ . 

```javascript 
  const Uploadimage = async () => {
    setUploadAnimation(true);
    const res = await uploadRegisterImage(postValue.cover);
    console.log("response upload pic in submit func", res);
    if (res.status === 200) {
      setTimeout(() => {
        setUploadAnimation(false);
        setuploadMessage("upload is done âœ”");
        setDisabelSubmitForm(false);
      }, 3000);
      setPostValue({
        ...postValue,
        cover: res.data.secure_url,
      });
    }
    if (res?.response?.status === 400) {
      console.log("error");
      setUploadAnimation(false);
      setuploadMessage("upload is fail â˜¹");
    }
    console.log("register state in uplpad image btn", postValue);
  };
```

Ø¹Ù„Ø§ÙˆÙ‡ Ø¨Ø± Ø§ÛŒÙ†Ú©Ù‡ Ø¯Ø±ÙˆÙ† `state postValue` Ù…ÛŒØ§Ø¯ Ù„ÛŒÙ†Ú© Ø§Ù¾Ù„ÙˆØ¯ Ø±Ùˆ Ø¯Ø± `cover` Ø³Øª Ù…ÛŒ Ú©Ù†Ù‡ . 

ÛŒÚ© Ø³Ø±ÛŒ Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ù‡Ø§ Ø¨Ø±Ø§ÛŒ Ø¯Ú©Ù…Ù‡ Ø§Ù¾Ù„ÙˆØ¯ Ùˆ ÛŒÚ© Ø³Ø±ÛŒ Ù…Ø³ÛŒØ¬ Ù‡Ø§ Ø§ØªÙØ§Ù‚ Ù…ÛŒ Ø§ÙØªÙ‡ Ùˆ Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± `submit` Ø´Ø¯Ù† Ù‡Ù… Ú©Ù†ØªØ±Ù„ Ù…ÛŒØ´Ù‡ 

```javascrtip 
    if (res.status === 200) {
      setTimeout(() => {
        setUploadAnimation(false);
        setuploadMessage("upload is done âœ”");
        setDisabelSubmitForm(false);
      }, 3000);
      setPostValue({
        ...postValue,
        cover: res.data.secure_url,
      });
    }
```

Ø§Ú¯Ø± Ú©Ù‡ `status ` Ø±Ø³Ù¾Ø§Ù†Ø³ 200 Ø¨ÙˆØ¯ Ø¨ÛŒØ§Ø¯ Ø§ÙˆÙ„ Ø§Ù†Ù…ÛŒØ´Ù† Ø¯Ú©Ù…Ù‡ Ø±Ùˆ `false` Ú©Ù†Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ ÛŒÚ© Ù„ÙˆØ¯ÛŒÙ†Ú¯ Ù‡Ø³Øª . 

Ø¯ÙˆÙ… Ø¨ÛŒØ§Ø¯ Ù†ÙˆØ´ØªÙ‡ Ø¯Ø§Ø®Ù„ Ø¯Ú©Ù…Ù‡ Ø±Ùˆ ØªØºÛŒÛŒØ± Ø¨Ø¯Ù‡ Ø¨Ú¯Ù‡ Ø§Ù‚Ø§ `upload is done` . 

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ø§Ø¬Ø§Ø²Ù‡ `submit` Ø´Ø¯Ù† Ø±Ùˆ Ø¨Ø¯Ù‡ , Ø¨ÛŒØ§Ø¯ `disable` Ø¯Ú©Ù…Ù‡ `submit` Ø±Ùˆ `false` Ú©Ù†Ù‡ . 

Ø¯Ø± Ø§Ø®Ø± Ù‡Ù… Ø¨ÛŒØ±ÙˆÙ† Ø§Ø² `setTimeout` Ø§Ù…Ø¯ÛŒÙ… `setPostValue` Ø±Ùˆ Ù…Ù‚Ø¯Ø§Ø± `cover` Ø´Ùˆ Ú¯Ø°Ø§Ø´ØªÛŒÙ… Ù„ÛŒÙ†Ú©ÛŒ Ú©Ù‡ Ø§Ø² Ø¯ÛŒØªØ§ Ù…ÛŒ Ú¯ÛŒØ±ÛŒÙ…  .

Ø§Ù…Ø§ ÛŒÙ‡ Ø´Ø±Ø· Ø¯ÛŒÚ¯Ù‡ Ù‡Ù… Ø¯Ø§Ø±ÛŒÙ… Ø§Ú¯Ø± Ú©Ù‡ `status === 400` Ø¨ÙˆØ¯ Ø¨ÛŒØ§Ø¯ ÛŒÙ‡ Ø³Ø±ÛŒ Ø§ØªÙØ§Ù‚Ø§Øª Ø¯ÛŒÚ¯Ù‡ Ø¨ÛŒÙˆØªÙØªÙ‡  Ø¯Ø§Ø®Ù„ ÙØ§Ù†Ú©Ø´Ù† `Uploadimage` . 

```javascript
    if (res?.response?.status === 400) {
      console.log("error");
      setUploadAnimation(false);
      setuploadMessage("upload is fail â˜¹");
    }
    console.log("register state in uplpad image btn", postValue);

```

Ù„ÙˆØ¯ÛŒÙ†Ú¯ÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù‡ . Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± ØªÚ©Ø³Øª Ø¯Ú©Ù…Ù‡ Ù…Ø§ ØªØ¨Ø¯ÛŒÙ„ Ø´Ù‡ Ø¨Ù‡ `upload is fail`  .


Ø®Ø¨ Ø¯Ø±ÙˆÙ† `button` Ú©Ù‡ Ù…Ø³Ø¦ÙˆÙ„ Ø±Ø§Ù† Ú©Ø±Ø¯Ù† ÙØ§Ù†Ú©Ø´Ù† `Uploadimage` Ù‡Ø³ØªØ´  Ø¨Ù‡ ØµÙˆØ±Øª Ø²ÛŒØ± Ù‡Ø³Øª : 

```javascript 

   <Button
            icon=""
            disabled={uploadBtnDisabel}
            text={
              uploadAnimation ? (
                <Loading size={35} color={"#ECF0F3"} />
              ) : (
                uploadMessage
              )
            }
            className={
              "bg-blue-500 hover:bg-blue-300 w-[96%]   md:w-[180px] md:-translate-x-1 lg:w-[250px] rounded p-3 text-zinc-50 font-semibold"
            }
            type="button"
            onClick={Uploadimage}
          ></Button>
```
Ú©Ù‡ Ø¨Ø±Ø§ÛŒ `loading` Ø§Ø² Ú©Ø§Ù…Ù¾ÙˆÙ†Øª `Loading` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡ . 

Ø¨Ø±Ø§ÛŒ ØªÚ©Ø³Øª Ù‡Ù… Ø§Ø² `state uploadMessage ` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡ 

Ùˆ Ú©Ù„Ø§ Ø¨Ø±Ø§ÛŒ `text` Ø´Ø±Ø· Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯Ù‡ : 

```javascript
        text={
              uploadAnimation ? (
                <Loading size={35} color={"#ECF0F3"} />
              ) : (
                uploadMessage
              )
            }
```

Ú©Ù‡ `uploadAnimation` Ù‡Ù… ÛŒÚ© `state` Ù‡Ø³Øª Ø¯Ø§Ø±Ù‡ Ú©Ù‡  `bolean` Ù‡Ø³Øª . 

```javascript 
  const [uploadAnimation, setUploadAnimation] = useState(false);

```

Ú©Ù‡ Ø§ÛŒÙ† `state uploadAnimation` Ø¯Ø± 3 Ø¬Ø§ Ø§Ø² ÙØ§Ù†Ú©Ø´Ù† `Uploadimage` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡ . 

ÛŒÚ© Ø¨Ø§Ø± ØªØ§ ÙØ§Ù†Ú©Ø´Ù† Ø§Ø¬Ø±Ø§ Ù…ÛŒØ´Ù‡ . 

ÛŒÚ© Ø¨Ø§Ø± Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ `200 === status`  Ù‡Ø³Øª . 

ÛŒÚ© Ø¨Ø§Ø± Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ `status === 400` Ù‡Ø³Øª . 



```javascript 
  const Uploadimage = async () => {
//* at start function 
    setUploadAnimation(true);
    if (res.status === 200) {
      setTimeout(() => {
//* here if status == 200
        setUploadAnimation(false);
      }, 3000);
      setPostValue({
        ...postValue,
        cover: res.data.secure_url,
      });
    }
    if (res?.response?.status === 400) {
//* here if status == 200
      setUploadAnimation(false);
    }
    console.log("register state in uplpad image btn", postValue);
  };
```


Ø®Ø¨ Ø¨Ø§ `toast` Ù‡Ù… Ø§Ø´Ù†Ø§ Ù‡Ø³ØªÛŒØ¯ Ù‡Ù…ÙˆÙ† Ú©Ø§Ù…Ù¾ÙˆÙ†ØªÛŒ Ú©Ù‡ Ø¨Ø±Ø§ÛŒ `login` Ùˆ `register` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯ÛŒÙ… .

ÛŒÚ© Ù¾ÛŒØ§Ù…ÛŒ Ø¨Ø§ ØªÙˆØ¬Ù‡ Ø¨Ù‡ Ù†ÛŒØ§Ø² Ù†Ø´ÙˆÙ† Ù…ÛŒØ¯Ù‡ Ø§ÛŒÙ†Ø¬Ø§ Ù…ÛŒ Ø®ÙˆØ§ÛŒÙ… Ø¨Ø¹Ø¯ Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ù¾Ø³Øª Ø®ÙˆØ¯Ø´ Ø±Ùˆ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯ÛŒ . 

ÛŒÚ© Ù¾ÛŒØ§Ù… Ù…Ø¨Ù†ÛŒ Ø¨Ø± Ø§ÛŒÙ†Ú©Ù‡ Ù¾Ø³Øª Ø§Ø´ Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯Ù‡ Ù†Ù…Ø§ÛŒØ´ Ù…ÛŒØ¯ÛŒÙ… . 

Ø¯Ø±ÙˆÙ† ÙØ§Ù†Ú©Ø´Ù† `handlesubmit` Ù…ÛŒØ§ÛŒÙ… `toast` Ø±Ùˆ Ø¨Ù‡ `true` ØªØºÛŒÛŒØ± Ù…ÛŒØ¯ÛŒÙ… . 

 
```javascript
  const [toast, setToast] = useState(false);
  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault();
    const post: {} | any = await createPost(postValue);
    console.log("Response Create Post", post);
    if (post?.status === 201) {
//* here change toast to true , for show message to user
      setToast(true);
      setTimeout(() => {
        navigate("/panel");
      }, 3000);
    }
  };
```

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ø¯Ø±ÙˆÙ† `return` Ø§Ø² Ú©Ø§Ù…Ù¾ÙˆÙ†Øª `toast`  Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ø¯Ø± ØµÙˆØ±ØªÛŒ Ú©Ù‡ `state toast` Ø¨Ù‡ `true` ØªØºÛŒÛŒØ± Ú©Ø±Ø¯Ù‡ Ø¨Ø§Ø´Ù‡ 

Ùˆ `state` , `text` Ø±Ùˆ Ú©Ù‡ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† `props` Ù…ÛŒÚ¯ÛŒØ±Ù‡ Ù¾Ø§Ø³ Ù…ÛŒØ¯ÛŒÙ… . 

   ```javascript 
      <div>
        <h1> create Post </h1>
        {toast && <Toast text="post is create ğŸ˜" toast={toast} />}
        <form action="" onSubmit={handleSubmit}>
</form>
```

Ø®Ø¨ Ú©Ø§Ù…Ù¾ÙˆÙ†Øª  `createPost` Ø¨Ù‡ Ø§ØªÙ…Ø§Ù… Ø±Ø³ÛŒØ¯ . 

Ø¨Ø¹Ø¯ Ø§Ø² Ø³Ø§Ø®Øª Ù¾Ø³Øª Ù†ÙˆØ¨Øª Ø¨Ù‡ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù† Ù¾Ø³Øª Ù‡Ø§ÛŒ Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯Ù‡ Ø¯Ø± ØµØ­ÙÙ‡ Ø§ØµÙ„ÛŒ Ù…ÛŒØ´Ù‡ . 

# Show Posts In Home page 

Ø¨Ø¹Ø¯Ø² Ø§Ø² Ø§ÛŒØ¬Ø§Ø¯ `post` ØªÙˆØ³Ø· Ú©Ø§Ø±Ø¨Ø± . 

Ù†ÙˆØ¨Øª Ø¨Ù‡ Ù†Ø´ÙˆÙ† Ø¯Ø§Ø¯Ù† Ù¾Ø³Øª Ù‡Ø§ Ø¯Ø± ØµØ­ÙÙ‡ Ø§ØµÙ„ÛŒ Ù…ÛŒØ´Ù‡ . 

Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ù…ÙˆØ¶ÙˆØ¹ Ù†ÛŒØ§Ø² Ø¨Ù‡ `api` Ù‡Ø³Øª Ú©Ù‡ Ø¯Ø± Ø³Ù…Øª Ø³Ø±ÙˆØ± Ù†ÙˆØ´ØªÙ‡ Ø´Ø¯Ù‡ . 

Ø®Ø¨ Ù…ÛŒØ±ÛŒÙ… Ø³Ø±Ø§Øº Ø§ÛŒÙ†Ú©Ù‡ Ù¾Ø³Øª Ù‡Ø§Ø±Ùˆ Ø¨Ú¯ÛŒØ±ÛŒÙ… Ùˆ Ø¯Ø± ØµØ­ÙÙ‡ Ø§ØµÙ„ÛŒ Ù†Ø´ÙˆÙ† Ø¨Ø¯ÛŒÙ… . 

ÙØ§Ù†Ú©Ø´Ù† `posts` Ø¯Ø± ÙÙˆÙ„Ø¯Ø± `api` Ø§ÛŒÙ†Ú©Ø§Ø±Ùˆ Ø¨Ø±Ø§ÛŒ Ù…Ø§ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯Ù‡ . 

Ø¯Ø±ÙˆÙ† Ù¾ÙˆØ´Ù‡ `page` Ùˆ ÙÙˆÙ„Ø¯Ø± `Home` ÛŒÚ© ÙØ§ÛŒÙ„ Ø¨Ù‡ Ø§Ø³Ù… `Home.tsx` Ø¯Ø§Ø±ÛŒÙ… . 

<img src='https://github.com/mosenn/MERN/assets/91747908/5f4f23b0-dc84-4c8d-ae8f-78fa3e34770a'  alt='pages in reactjs' />

Ø¯Ø±ÙˆÙ† `Home.tsx` ÛŒÚ© `state` Ø¯Ø§Ø±ÛŒÙ… . 

```javascript
  const [post, setPost] = useState([]);
```
Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… ÙØ§Ù†Ú©Ø´Ù†ÛŒ Ú©Ù‡ Ø¯Ø±ÙˆÙ† ÙÙˆÙ„Ø¯Ø± `api` Ù†ÙˆØ´ØªÛŒÙ… Ø¨ÛŒØ§ÛŒÙ… Ùˆ `import` Ú©Ù†ÛŒÙ… . 

```javascript
import { posts } from "../../api/post";
```
Ø®Ø¨ Ù…ÛŒØ§ÛŒÙ… ÛŒÚ© ÙØ§Ù†Ú©Ø´Ù† Ø¨Ø±Ø§ÛŒ Ú¯Ø±ÙØªÙ† ØªÙ…Ø§Ù…ÛŒ Ù¾Ø³Øª Ù‡Ø§ Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 
```javascript
  const takeAllPosts = async () => {
    const response: [] | any = await posts();
    console.log("POSTS", response);
    console.log("hiii");
    setPost(response?.data);
  };
```
Ø¯Ø±ÙˆÙ† Ú©Ø¯ Ø¨Ø§Ù„Ø§ . Ø§Ù…Ø¯ÛŒÙ… Ø¯Ø±ÙˆÙ† ÙØ§Ù†Ú©Ø´Ù† `takeAllPost` ÙØ§Ù†Ú©Ø´Ù† Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ú¯Ø±ÙØªÙ† ØªÙ…Ø§Ù…ÛŒ Ù¾Ø³Øª Ù‡Ø§ Ø±Ùˆ ØµØ¯Ø§ Ø²Ø¯ÛŒÙ… . 

Ùˆ ÛŒÚ© `response` Ø¨Ù‡ Ù…Ø§ Ù…ÛŒØ¯Ù‡ Ú©Ù‡ Ø­Ø§ÙˆÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÙ…Ø§Ù…ÛŒ Ù¾Ø³Øª Ù‡Ø§ Ù‡Ø³Øª . 

Ø¨Ø¹Ø¯ Ø§Ù…Ø¯ÛŒÙ… `response.data` Ø±Ùˆ Ø¯Ø±ÙˆÙ† `state` Ú©Ù‡ ØªØ¹Ø±ÛŒÙ Ú©Ø±Ø¯ÛŒÙ… Ø¨Ù‡ Ø§Ø³Ù… `post` Ø³Øª Ú©Ø±Ø¯ÛŒÙ… . 

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ ÛŒÚ© `useEffect` Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ù…Ø³Ø¦ÙˆÙ„ Ø±Ø§Ù† Ú©Ø±Ø¯Ù† ÙØ§Ù†Ú©Ø´Ù† `takeAllPosts` Ù‡Ø³Øª . 

Ø¨Ù‡ Ø§ÛŒÙ† Ø·Ø±ÛŒÙ‚ Ù‡Ø± Ø²Ù…Ø§Ù† Ú©Ù‡ ÙØ§Ù†Ú©Ø´Ù† `Home.tsx` Ø±Ù†Ø¯Ø± Ù…ÛŒØ´Ù‡ ÙØ§Ù†Ú©Ø´Ù† `posts` Ú©Ù‡ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡`api` Ù‡Ø³ØªÙ†Ø¯ ØµØ¯Ø§ Ø²Ø¯Ù‡ Ù…ÛŒØ´Ù‡ . 

Ùˆ Ø¯ÛŒØªØ§ Ú¯Ø±ÙØªÙ‡ Ù…ÛŒØ´Ù‡ Ø¯Ø± `state` Ø¨Ù‡ Ø§Ø³Ù… `post` Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒØ´Ù‡ . 

Ø§ÛŒÙ† `state` Ø±Ùˆ Ù…ÛŒØ§ÛŒÙ… `map` Ù…ÛŒ Ú©Ù†ÛŒÙ… Ø¯Ø± `Home.tsx` . 

Ø¯Ø±ÙˆÙ† `Home.tsx` ÛŒÚ© Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Ø¨Ù‡ Ø§Ø³Ù… `Post` Ø¯Ø§Ø±Ù‡ Ø¯Ø±ÙˆÙ†  `map` Ø±Ù†Ø¯Ø± Ù…ÛŒØ´Ù‡  Ùˆ `state` Ú©Ù‡ Ø³Øª Ø´Ø¯Ù‡ Ø±Ùˆ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† `props` Ù…ÛŒÚ¯ÛŒØ±Ù‡ . 

Ú©Ø§Ø± Ø§ÛŒÙ† Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Ù†Ø´ÙˆÙ† Ø¯Ø§Ø¯Ù† Ø§Ø·Ù„Ø§Ø¹Ø§Øª `post` Ù‡Ø§ Ù‡Ø³Øª Ø¯Ø± Ù‚Ø§Ù„Ø¨ ÛŒÚ© Ú©Ø§Ù…Ù¾ÙˆÙ†Øª . 

Ø¯Ø±ÙˆÙ† `Home.tsx` Ú©Ø¯ Ø²ÛŒØ± Ø§Ù…Ø¯Ù‡ `return` Ø´Ø¯Ù‡ . 

```javascript 
  return (
    <section className="grid justify-center md:justify-center md:grid-cols-2 lg:grid-cols-3 md:p-2 md:m-2 md:gap-2 lg:gap-">
      {post &&
        post?.map((blog: blogPostData) => {
          return <Post {...blog} key={blog._id} />;
        })}
    </section>
  );
};
```
Ø§Ú¯Ø± Ø¯Ù‚Øª Ú©Ù†ÛŒØ¯ ÛŒÚ© ØªØ§ÛŒÙ¾ Ù…ÙˆÙ‚Ø¹ `map` Ø´Ø¯Ù† . Ø¨Ù‡ `blog` Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡ . 

Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ù†ÙˆØ¹ ØªØ§ÛŒÙ¾ Ù…Ù‚Ø§Ø¯ÛŒØ± Ø¯Ø§Ø®Ù„ÛŒ Ø¯ÛŒØªØ§ Ø±Ùˆ Ù…Ø´Ø®Øµ Ú©Ø±Ø¯ÛŒÙ… . 

Ø¨Ø±Ø§ÛŒ `type` Ù‡Ø§ÛŒ ØªØ§ÛŒÙ¾ Ø§Ø³Ú©Ø±ÛŒÙ¾Øª ÛŒÚ© ÙÙˆÙ„Ø¯Ø± Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯ÛŒÙ… . 

Ú©Ù‡ Ø¨Ø§ ØªÙˆØ¬Ù‡ Ø¨Ù‡ Ù†ÛŒØ§Ø² ØªØ§ÛŒÙ¾ Ù‡Ø§ Ø±Ùˆ ØªØ¹Ø±ÛŒÙ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ùˆ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

![image](https://github.com/mosenn/MERN/assets/91747908/9f8b00eb-26d0-4e54-8fdb-d2e26a2356b6)

Ø¨Ø±ÛŒÙ… Ø³Ø±Ø§Øº Ú©Ø§Ù…Ù¾ÙˆÙ†Øª `Post` . 

 Ø¯Ø± Ú©Ø§Ù…Ù¾ÙˆÙ†Øª `Post` Ø§Ø¬Ø²Ø§ÛŒ Ø¯Ø±ÙˆÙ†ÛŒ Ø¯ÛŒØªØ§Ø±Ùˆ Ú©Ù‡ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `props` Ú¯Ø±ÙØªÙ‡ Ù…ÛŒ Ú¯ÛŒØ±ÛŒÙ… . 

 Ùˆ Ø¯Ø±ÙˆÙ† Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Ù†Ø´ÙˆÙ† Ù…ÛŒØ¯ÛŒÙ… . 

```javascript
const Post = ({ _id, cover, title, createdAt, author, summery }: blogPostData) => {
return ()
}
```

Ø¹Ù„Ø§ÙˆÙ‡ Ø¨Ø± Ù…Ù‚Ø§Ø¯ÛŒØ±ÛŒ Ú©Ù‡ Ø³Øª Ø´Ø¯Ù‡ Ø¯Ø±ÙˆÙ† `return` Ù†Ø´ÙˆÙ† Ù…ÛŒØ¯ÛŒÙ… . 

Ø¯Ø± Ù‡Ù…ÛŒÙ† Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Ù…ÛŒØ§ÛŒÙ… ØªØ¹Ø¯Ø§Ø¯ Ù„Ø§ÛŒÚ© Ùˆ Ø³ÛŒÙˆ Ù‡Ø± Ù¾Ø³Øª Ø±Ùˆ Ù‡Ù… Ø²ÛŒØ± Ù‡Ø± Ù¾Ø³Øª Ù†Ø´ÙˆÙ† Ù…ÛŒØ¯ÛŒÙ… . 

Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ø§Ø± Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… `api` Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ù„Ø§ÛŒÚ© Ùˆ Ø³ÛŒÙˆ Ùˆ Ú©Ø§Ù…Ù†Øª Ø±Ùˆ ØµØ¯Ø§ Ø¨Ø²Ù†ÛŒÙ… . 

ØªØ§ Ø¨ØªÙˆÙ†ÛŒÙ… Ø¨Ù‡ `length` Ø¯ÛŒØªØ§ Ù‡Ø§ÛŒ Ù„Ø§ÛŒÚ© Ùˆ Ø³ÛŒÙˆ Ùˆ Ú©Ø§Ù…Ù†Øª Ø¯Ø³ØªØ±Ø³ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… . 

Ø¯Ø± Ù†ØªÛŒØ¬Ù‡ Ù‡Ø± Ú©Ø¯ÙˆÙ… Ø§Ø² Ø¯ÛŒØªØ§ÛŒ Ù„Ø§ÛŒÚ© Ùˆ Ø³ÛŒÙˆ Ùˆ Ú©Ø§Ù…Ù†Øª Ø¯Ø±ÙˆÙ† ÛŒÚ© `state` Ù…Ø¬Ø²Ø§ Ø³Øª Ø´Ø¯Ù‡ Ùˆ Ø²ÛŒØ± Ù‡Ø± Ù¾Ø³Øª Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ø®ÙˆØ¯Ø´ÙˆÙ† Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒØ´Ù‡ . 

Ø§ÙˆÙ„ `state` Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø±Ùˆ Ø¨Ø¨ÛŒÙ†ÛŒÙ… : 

```javascript
  const [dataLikes, setDataLikes] = useState<[] | any>([]);
  const [saveData, setSaveData] = useState<[] | any>([]);
  const [comments, setComments] = useState<[] | any>([]);
```

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ ÙØ§Ù†Ú©Ø´Ù† Ù‡Ø§ÛŒ Ø¯Ø§Ø±ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ú¯Ø±ÙØªÙ† Ù„Ø§ÛŒÚ© Ù‡Ø§ Ùˆ Ú©Ø§Ù…Ù†Øª Ù‡Ø§ Ùˆ Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± Ø³ÛŒÙˆ Ú©Ø§Ø±Ø¨Ø± Ù‡Ø§ÛŒ : 


Ú¯Ø±ÙØªÙ† Ù„Ø§ÛŒÚ© Ù‡Ø§ : 
```javascript
  //* take likes
  const takeAllLikes = async () => {
    if (_id) {
      const likes = await getLikes(_id as string);
      setDataLikes(likes);
      console.log("Likes in post for homepage", likes.data);
      //* if page is refresh set agin data to setLike
      const checkIntractionUser = likes.data.find((i: any) => {
        return i;
      });
      console.log(
        checkIntractionUser,
        "checkIntractionUser in post for homepage"
      );
      // console.log(checkLiked, "checkLiked");
    }
  };
```

Ú¯Ø±ÙØªÙ† `save` Ù‡Ø§ÛŒ : 

```javascript
  //* take save
  const takeSaves = async () => {
    try {
      if (_id) {
        const saves = await getSave(_id as string);
        setSaveData(saves);
      }
    } catch (err) {
      console.log("takeSaves error in detail", err);
      return err;
    }
  };
```
Ú¯Ø±ÙØªÙ† Ú©Ø§Ù…Ù†Øª Ù‡Ø§ : 

```javascript
  //* take comments
  const takeAllComments = async () => {
    if (_id) {
      const comments = await getAllPostComments(_id as string);
      /** change setComents to global state for show comments number in homepage*/
      setComments(comments.data);
    }
  };
```

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ ØªÙ…Ø§Ù…ÛŒ Ø§ÛŒÙ† ÙØ§Ù†Ú©Ø´Ù† Ù‡Ø§ Ø¯Ø±ÙˆÙ† ÛŒÚ© `useEffect` Ø§ØªÙØ§Ù‚ Ù…ÛŒ Ø§ÙØªÙ‡ . 

```
  useEffect(() => {
    takeAllLikes();
    takeSaves();
    takeAllComments();
  }, []);
```

**ÛŒØ§Ø¯Ø§ÙˆØ±ÛŒ** : ÙØ§Ù†Ú©Ø´Ù† Ù‡Ø§ÛŒ Ú©Ù‡ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ `api` Ù‡Ø³ØªÙ†Ø¯ Ø¨Ø±Ø§ÛŒ Ú¯Ø±ÙØªÙ† Ú©Ø§Ù…Ù†Øª Ù‡Ø§ Ùˆ Ø³ÛŒÙˆ Ùˆ Ù„Ø§ÛŒÚ© . Ø¯Ø±ÙˆÙ† ÙÙˆÙ„Ø¯Ø± `api` ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ .


Ø®Ø¨ Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ `return` Ø²ÛŒØ± Ø±Ùˆ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ù…Ù¾ÙˆÙ†Øª `Post` Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… : 

```javascript 
  return (
    <div
      key={_id}
      className="border  lg:p-0 lg:m-0 flex flex-col items-center   m-2  text-left"
    >
      <h2 className=" text-inherit  font-semibold">{title.substring(0, 34)}</h2>
      <figure className="flex flex-col items-center">
        <img
          className="w-72 object-cover h-[250px] lg:w-96 md:w-[70%] rounded-s"
          src={cover}
          alt={title}
        />
        <figcaption className="p-3 md:w-[60%] w-72 lg:w-96 lg:justify-between flex mt-2 justify-between text-gray-400">
          <p>{author.username}</p>
          <p>{format(new Date(createdAt), "yyyy-MM-dd")}</p>
          {dataLikes.data && <p>Likes : {dataLikes?.data.length}</p>}
          {saveData.data && <p>saves : {saveData?.data.length}</p>}
          {comments && <p> comment : {comments.length}</p>}
        </figcaption>
      </figure>
      <div>
        <p
          // dangerouslySetInnerHTML={{ __html: blog.content }}
          className="w-72 md:text-left md:w-[250px] lg:w-96 text-left mt-1 mb-1 p-2 md:p-0 "
        >
          {summery.substring(0, 200)}...
        </p>
        <div className=" mt-3 mb-2 w-[100%] flex justify-start">
          <Link
            className="bg-blue-500 w-[100%] md:w-[40%]   flex justify-center  rounded p-3  text-zinc-50 font-semibold"
            to={`detail/${_id}`}
          >
            read more
          </Link>
        </div>
      </div>
    </div>
  );
```

Ø¯Ø± Ø§ÛŒÙ† Ù‚Ø³Ù…Øª ØªØ§Ø±ÛŒØ® Ù‡Ø± Ù¾Ø³Øª Ø±Ùˆ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ ÛŒÚ© Ú©Ù†Ø§Ø¨Ø®ÙˆÙ†Ù‡ Ø¨Ù‡ Ø§Ø³Ù… `date-fns` Ø§Ù…Ø¯ÛŒÙ… Ø³Øª Ú©Ø±Ø¯ÛŒÙ… . 

Ø¨Ø¹Ø¯ Ø§Ø² Ù†ØµØ¨ `data-fns` Ø§Ù…Ø¯ÛŒÙ… `fromat` Ø±Ùˆ `import` Ú©Ø±Ø¯ÛŒÙ… . 

```javascript
import { format } from "date-fns";
```

Ø¨Ø¹Ø¯ Ø§Ø² `import` Ø¯Ø±ÙˆÙ† `return` Ø§Ù…Ø¯ÛŒÙ… Ø§Ø²Ø´ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯ÛŒÙ… . 

```javascript
  <p>{format(new Date(createdAt), "yyyy-MM-dd")}</p>
```
Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ Ú©Ø¯ Ø¨Ø§Ù„Ø§ ØªØ§Ø±ÛŒØ® Ù‡Ø± Ù¾Ø³ØªÛŒ Ú©Ù‡ Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯Ù‡ ØªÙˆØ³Ø· Ú©Ø§Ø±Ø¨Ø± Ø±Ùˆ Ù†Ø´ÙˆÙ† Ø¯Ø§Ø¯ÛŒÙ… . 

Ø¨Ø±Ø§ÛŒ Ù†Ø´ÙˆÙ† Ø¯Ø§Ø¯Ù† ØªØ¹Ø¯Ø§Ø¯ Ù„Ø§ÛŒÚ© Ùˆ Ú©Ø§Ù…Ù†Øª Ùˆ Ø³ÛŒÙˆ Ù‡Ø§ÛŒ Ú©Ù‡ ØªÙˆØ³Ø· Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¨Ø±Ø§ÛŒ Ø§ÙˆÙ† Ù¾Ø³Øª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡ Ú©Ø¯ Ø²ÛŒØ± Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… . 

Ú©Ù‡ Ø¯ÛŒØªØ§ Ø´ÙˆÙ† ØªÙˆØ³Ø· `state` Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ú¯Ø±ÙØªÙ‡ Ø´Ø¯Ù‡ Ùˆ Ø§Ù…Ø¯ÛŒÙ… Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `length` ØªØ¹Ø¯Ø§Ø¯ Ù„Ø§ÛŒÚ© Ùˆ Ú©Ø§Ù…Ù†Øª Ùˆ Ø³ÛŒÙˆ Ø±Ùˆ Ù†Ø´ÙˆÙ† Ø¯Ø§Ø¯ÛŒÙ… . 

```javascript
          {dataLikes.data && <p>Likes : {dataLikes?.data.length}</p>}
          {saveData.data && <p>saves : {saveData?.data.length}</p>}
          {comments && <p> comment : {comments.length}</p>}
```

Ù‡Ø± Ù¾Ø³Øª ÛŒÚ© `Link` Ø¯Ø§Ø±Ù‡ Ú©Ù‡ Ø¯Ø±ÙˆÙ†Ø´ Ù†ÙˆØ´ØªÙ‡ Ø´Ø¯Ù‡ `readMore` Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø±ÙˆÛŒ Ø§ÛŒÙ† Ù„ÛŒÙ†Ú© Ú©Ù„ÛŒÚ© Ú©Ù‡ Ù…ÛŒØ´Ù‡

ÙˆØ§Ø±Ø¯ ÛŒÚ© ØµØ­ÙÙ‡ `detail`  Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ù‡Ù…ÙˆÙ† `post` Ù…ÛŒØ´Ù‡ . 

Ø§ÛŒÙ†Ø¬Ø§ Ù†ÛŒØ§Ø² Ù‡Ø³Øª Ø¨Ù‡ `id` Ù‡Ø± Ù¾Ø³Øª Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ Ø¯Ø§Ø±Ù‡ `map` Ø§ØªÙØ§Ù‚ Ù…ÛŒ Ø§ÙØªÙ‡ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… . 

```javascript
          <Link
            className="bg-blue-500 w-[100%] md:w-[40%]   flex justify-center  rounded p-3  text-zinc-50 font-semibold"
            to={`detail/${_id}`}
          >
            read more
          </Link>
```


### Detail Post Componet

Ø¨Ø¹Ø¯ Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ `Link` Ú©Ù‡ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯ÛŒÙ… Ùˆ ÙˆØ§Ø±Ø¯ ÛŒÚ© Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Ø¨Ù‡ Ø§Ø³Ù… `Detail` Ù…ÛŒØ´Ù‡ . 

Ú©Ù‡ Ø§ÛŒÙ† Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Ø¯Ø±ÙˆÙ† `App.jsx` Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ Ùˆ ÛŒÚ© `path` Ø¨Ø±Ø§Ø´ Ø³Øª Ø´Ø¯Ù‡ . 

Ø¨Ø§ `App.tsx` Ø±Ùˆ Ø¨Ø¨ÛŒÙ†ÛŒÙ… Ùˆ Ø¨Ù‡ `path` Ú©Ù‡ Ø¨Ø±Ø§ÛŒ `Detail` ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ ØªÙˆØ¬Ù‡ Ú©Ù†ÛŒØ¯ . 

```javascript
function App() {
  return (
    <BrowserRouter>
      <Header />
      <Routes>
        <Route path="/detail/:id" element={<Detail />} />
      </Routes>
    </BrowserRouter>
  );
}
```

ÛŒÚ© Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Ø¯Ø§Ø±ÛŒÙ… Ø¨Ù‡ Ø§Ø³Ù… `Detail` Ú©Ù‡ Ø¯Ø±ÙˆÙ† `element` Ø¬Ø§ Ú¯Ø±ÙØªÙ‡ . 

ÛŒÚ© `path` Ø¯Ø§Ø±ÛŒÙ… Ø¨Ù‡ Ø§Ø¯Ø±Ø³ `/detail/:id` Ú©Ù‡ Ø¨Ù‡ Ø§ÛŒÙ† `id` Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… . 

Ø¯Ø±ÙˆÙ† Ú©Ø§Ù…Ù¾ÙˆÙ†Øª `Post` ÛŒÚ© Ù„ÛŒÙ†Ú© Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ø¨Ù‡ Ù‡Ù…ÛŒÙ† Ø§Ø¯Ø±Ø³ Ù„ÛŒÙ†Ú© Ø´Ø¯Ù‡ . 

Ùˆ Ø§ÛŒØ¯ÛŒ Ú©Ù‡ Ú¯Ø±ÙØªÙ‡ Ø§ÛŒØ¯ÛŒ Ù‡Ø± `post`  Ù‡Ø³Øª . 

ÛŒÚ© Ø¨Ø§Ø± Ø¯ÛŒÚ¯Ù‡ Ø¨Ù‡ Ø§ÛŒÙ† ÛŒÙ‡ ØªÛŒÚ©Ù‡ Ú©Ø¯ Ø¯Ø±ÙˆÙ† Ú©Ø§Ù…Ù¾ÙˆÙ†Øª `Post.tsx` Ù†Ú¯Ø§Ù‡ Ú©Ù†ÛŒÙ… . Ø¨Ø®Ø´ Ù„ÛŒÙ†Ú© Ø±Ùˆ : 

```javascript
          <Link
            className="bg-blue-500 w-[100%] md:w-[40%]   flex justify-center  rounded p-3  text-zinc-50 font-semibold"
            to={`detail/${_id}`}
          >
            read more
          </Link>
```
Ø§ÛŒØ¯ÛŒ Ú©Ù‡ Ú¯Ø±ÙØªÙ‡ Ø´Ø¯Ù‡ Ø¯Ø± Ø§ØµÙ„ `ObjectId` Ø¯ÛŒØªØ§ Ù‡Ø³Øª . 

Ú©Ù‡ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `props` Ø¨Ù‡Ø´ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¯Ø§Ø±ÛŒÙ… . 

Ø§Ú¯Ø± ÛŒØ§Ø¯ØªÙˆÙ† Ø¨Ø§Ø´Ù‡ Ú©Ø§Ù…Ù¾ÙˆÙ†Øª `Post.tsx` Ø¯Ø±ÙˆÙ† `Home.tsx` Ø¯Ø§Ø´Øª `map` Ù…ÛŒ Ø´Ø¯

Ùˆ Ø§ÙˆÙ†Ø¬Ø§ ØªÙ…Ø§Ù…ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ù¾Ø³Øª Ø±Ùˆ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `props` Ø¨Ù‡ Ú©Ø§Ù…Ù¾ÙˆÙ†Øª `Post.tsx`Ù¾Ø§Ø³ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡ 

Ú©Ù‡ Ø§ÛŒÙ† `id_` Ø§Ø² Ø§ÙˆÙ†Ø¬Ø§ Ø¯Ø§Ø±Ù‡ Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒØ´Ù‡ . 


Ø®Ø¨ Ø¨Ø§ ØªÙˆØ³Ø· Ø§ÛŒÙ† Ø§ÛŒØ¯ÛŒ Ù…Ø§ Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… Ø¬Ø²Ø¦ÛŒØ§Øª Ù‡Ø± Ù¾Ø³Øª Ø¯Ø± ÛŒÚ© ØµØ­ÙÙ‡ Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡ Ù†Ù…Ø§ÛŒØ´ Ø¨Ø¯ÛŒÙ… . 

Ø¯Ø± Ú©Ø§Ù…Ù¾ÙˆÙ†Øª `Detail.tsx` Ø¨Ù‡ Ù‡ÙˆÚ© `useParams` Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… . 


<img src='https://github.com/mosenn/MERN/assets/91747908/17584cb3-a981-4c3e-a57e-dc541dc9664e' alt='componet in react' />

Ø®Ø¨ Ø§ÙˆÙ„ Ù…ÛŒØ§ÛŒÙ… `useParams` Ø±Ùˆ `import` Ù…ÛŒ Ú©Ù†ÛŒÙ… Ø§Ø² `react-router-dom` . 

Ø¯Ø± ÙˆØ§Ù‚Ø¹ `useParams` ÛŒÚ© `Hooke` Ø¯Ø±ÙˆÙ† `react-router-dom` Ù‡Ø³Øª Ùˆ Ø¨Ø±Ø§ÛŒ Ú¯Ø±ÙØªÙ† `params` Ø¯Ø±ÙˆÙ† `url` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒØ´Ù‡ . 

Ø¨Ø±Ø§ÛŒ Ø§ÛŒØ¬Ø§Ø¯ `detail page` Ù‡Ù…ÛŒØ´Ù‡ Ø¨Ù‡ Ù…Ù‚Ø§Ø¯Ø± Ø§ØµÙ„ÛŒ Ø¯ÛŒØªØ§ Ø§ØµÙ„ÛŒ Ú©Ù‡ Ø§Ø² Ø®ÙˆØ¯Ù‡ `api` Ø¯Ø§Ø±Ù‡ Ú¯Ø±ÙØªÙ‡ Ù…ÛŒØ´Ù‡ Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… . 

Ø§Ø² Ø§ÛŒÙ† Ø±Ùˆ Ù…ÛŒØ§ÛŒÙ… ÛŒÚ© Ø¨Ø§Ø± Ø¯ÛŒÚ¯Ù‡ `api` Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ú©Ù„ `post` Ù‡Ø§Ø±Ùˆ ØµØ¯Ø§ Ù…ÛŒ Ø²Ù†ÛŒÙ… Ø¯Ø±ÙˆÙ† `detail page` . 

```javascript
import { posts } from "../../api/post";
```

Ù…ÛŒØ§ÛŒÙ… Ø§ÛŒØ¯ÛŒ Ú©Ù‡ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ Ø¯Ø±ÙˆÙ† `path` Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ `detail` Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† `parmams` Ø³Øª Ú©Ø±Ø¯ÛŒÙ… Ù…ÛŒ Ú¯ÛŒØ±ÛŒÙ… . 

```javascript 
const { id } = useParams();
```

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ ÛŒÚ© ÙØ§Ù†Ú©Ø´Ù† Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ø§ÛŒÙ† ÙØ§Ù†Ú©Ø´Ù† `api` Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ ØªÙ…Ø§Ù…ÛŒ `post` Ù‡Ø§Ø± Ù…ÛŒØ§Ø¯ `call` Ù…ÛŒÚ©Ù†Ù‡ .

```javascript
  const takePost = async () => {
    const response: [] | any = await posts();
    // console.log(response);
    setPostData(response?.data);
  };
```
ÛŒÚ© `state` Ø¯Ø±ÙˆÙ† ÙØ§Ù†Ú©Ø´Ù† `takePost` Ø¯Ø§Ø±Ù‡ Ø³Øª Ù…ÛŒØ´Ù‡ Ú©Ù‡ Ú©Ù„ Ø¯ÛŒØªØ§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ `post` Ù‡Ø§Ø± Ùˆ Ù…ÛŒÚ¯ÛŒØ±Ù‡ Ùˆ Ø³Øª Ù…ÛŒ Ú©Ù†Ù‡ . 

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ù…ÛŒØ§ÛŒÙ… ØªÙ…Ø§Ù…ÛŒ Ù¾Ø³Øª Ù‡Ø§ Ú©Ù‡ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `state` Ø°Ø®ÛŒØ±Ù‡ Ú©Ø±Ø¯ÛŒÙ… Ø¯Ø±ÙˆÙ† ÙØ§Ù†Ú©Ø´Ù† `takePost` 

 Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ Ø§ÛŒÙ† `id` Ù¾ÛŒØ¯Ø§ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø¯ÛŒØªØ§ÛŒ Ø§ØµÙ„ÛŒ Ø±Ùˆ Ù…ÛŒØ§ÛŒÙ… Ø±ÙˆØ´ `find` Ù…ÛŒ Ø²Ù†ÛŒÙ… . 

```javascript
  const pos = postData.find((p: Post) => {
    return p?._id === id;
  });
```

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ ÛŒÚ© `useEffect` Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… ØªØ§ Ù‡Ø± Ø¨Ø§Ø± Ú©Ù‡ ØµØ­ÙÙ‡ Ø±ÙØ±Ø´ Ù…ÛŒØ´Ù‡ Ùˆ Ú©Ø§Ø±Ø¨Ø± ÙˆØ§Ø±Ø¯ ØµØ­ÙÙ‡ `detail` Ù…ÛŒØ´Ù‡ Ø¨ØªÙˆÙ†Ù‡ Ø¯ÛŒØªØ§ Ø±Ùˆ Ø¨Ø¨ÛŒÙ†Ù‡ . 

```javascript
  useEffect(() => {
    takePost();
  }, []);
```

Ø®Ø¨ Ø§ÛŒÙ†Ø¬ÙˆØ±ÛŒ Ø§Ù„Ø§Ù† Ø¯Ø±ÙˆÙ† Ú©Ø§Ù…Ù¾ÙˆÙ†Øª `detail` Ø¨Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§ÙˆÙ† Ù¾Ø³Øª Ú©Ù‡ Ø±ÙˆÛŒ Ù„ÛŒÙ†Ú© Ø§Ø´ Ú©Ù„ÛŒÚ© Ø´Ø¯Ù‡ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¯Ø§Ø±ÛŒÙ… . 

Ø¯Ø± Ù†ØªÛŒØ¬Ù‡ Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… Ù¾Ø³Øª Ù…Ø¯ Ù†Ø¸Ø± Ø±Ùˆ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `id` Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… Ù†Ù…Ø§ÛŒØ´ Ø¨Ø¯ÛŒÙ… . 

```javascript
  return (
    <div className="w-[100%]">
      <h1 className="text-4xl m-2 p-2">{pos?.title}</h1>
      <figure className="md:flex justify-center">
        <img
          className=" md:mb-4 md:w-[90%] md:object-cover md:bg-center  md:h-[200px] p-3 rounded-[14px]"
          src={pos?.cover}
          alt={pos?.title}
        />
      </figure>
</div>
```

Ø®Ø¨ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¨ØªÙˆÙ†ÛŒÙ… Ù„Ø§ÛŒÚ© Ùˆ Ú©Ø§Ù…Ù†Øª Ùˆ Ø³ÛŒÙˆ Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ù¾Ø³Øª Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… Ùˆ Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± Ù†Ù…Ø§ÛŒØ´ Ø¨Ø¯ÛŒÙ… Ø¯Ø± ØµØ­ÙÙ‡ `detail` . 

Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ ÙØ§Ù†Ú©Ø´Ù† Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨  `api`  Ú©Ù‡ Ø§ÛŒÙ†Ú©Ø§Ø± Ù‡Ø§Ø±Ùˆ Ø¨Ø±Ø§ÛŒ Ù…Ø§ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯Ù† Ø±Ùˆ Ø¨ÛŒØ§ÛŒÙ… `import` Ú©Ù†ÛŒÙ… . 

```javascript
import {
  getLikes,
  getSave,
  postLike,
  postSave,
} from "../../api/userIntraction";
```

Ù‡ÛŒÙ…Ù†Ø·ÙˆØ± ÙØ§Ù†Ú©Ø´Ù† Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ø¯ÛŒØªØ§ÛŒ Ú©Ø§Ù…Ù†Øª Ù‡Ø§ : 

```javascript
import { postUserComments, getAllPostComments } from "../../api/comment";

```

### Send Comments in Detail page
Ø®Ø¨ ÛŒÚ© ÙÛŒÙ„Ø¯ Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ù…ÛŒ ØªÙˆÙ†Ù†Ø¯ Ú©Ø§Ù…Ù†Øª Ù‡Ø§ÛŒ Ø®ÙˆØ¯Ø´ÙˆÙ† Ø±Ùˆ Ø¨Ø²Ø§Ø±Ù† . 

Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ú©Ø§Ø± Ø¨Ù‡ ÛŒÚ© `form` Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… Ùˆ Ú¯Ø±ÙØªÙ† `value` Ø§ÙˆÙ† `input` . 

Ù¾Ø³ ÛŒÚ© `form` Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ùˆ ÛŒÚ© `state` Ø¨Ø±Ø§ÛŒ Ú¯Ø±ÙØªÙ† `value` . 

Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø¯Ùˆ ÙØ§Ù†Ú©Ø´Ù† Ø¯Ø§Ø±ÛŒÙ… ÛŒÚ©ÛŒ Ø¨Ø±Ø§ÛŒ `submit` Ø´Ø¯Ù† . 

ÛŒÚ©ÛŒ Ù‡Ù… Ø¨Ø±Ø§ÛŒ `onchange` Ø´Ø¯Ù† . 

Ø®Ø¨ `state` Ú©Ù‡ Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… Ø±Ùˆ ØªØ¹Ø±ÛŒÙ Ù…ÛŒ Ú©Ù†ÛŒÙ… : 
```javascript
  const [Commentvalue, setCommentValue] = useState({
    comment: "",
  });
```
Ù…ÛŒØ§ÛŒÙ… `form` Ùˆ `input` Ø®ÙˆØ¯Ù…ÙˆÙ† Ø±Ùˆ Ù‡Ù… ØªØ¹Ø±ÛŒÙ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ú¯Ø±ÙØªÙ† `comment` Ú©Ø§Ø±Ø¨Ø± . 

```javascript
      <form action="" onSubmit={handleSubmit} className="p-1 m-1 ">
        <input
          className="rounded-md p-3 h-[90px] w-[100%] border"
          name="comment"
          placeholder="write your comment"
          value={Commentvalue.comment}
          onChange={handleOnchange}
        ></input>
        {/* send comment btn */}
        <Button
          text={"send comment"}
          className="bg-blue-500 hover:bg-blue-300 w-[100%] rounded-md mt-2 md:w-60 p-3 text-zinc-50 font-semibold"
          type="submit"
          disabled={disabelSubmitForm}
          icon=""
        ></Button>
      </form>
```

Ù‚Ø·Ø¹Ø§ ÛŒÚ© Ø¯Ú©Ù…Ù‡ Ù‡Ù… Ù…ÛŒ Ø®ÙˆØ§ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¨ØªÙˆÙ†ÛŒÙ… `form`  Ø±Ùˆ `submit` Ú©Ù†ÛŒÙ… .
```javascript
       <Button
          text={"send comment"}
          className="bg-blue-500 hover:bg-blue-300 w-[100%] rounded-md mt-2 md:w-60 p-3 text-zinc-50 font-semibold"
          type="submit"
          disabled={disabelSubmitForm}
          icon=""
        ></Button>
```
Ø®Ø¨ Ù†ÙˆØ¨Øª Ø¨Ù‡ Ù†ÙˆØ´ØªÙ† `onChange` Ù…ÛŒ Ø±Ø³Ù‡ Ú©Ù‡ Ù…Ù‚Ø¯Ø§Ø± `input` Ø±Ùˆ Ø¨Ú¯ÛŒØ±ÛŒÙ… Ùˆ Ø¨Ø¹Ø¯Ø´ Ø¯Ø±ÙˆÙ† `handleSubmit` Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒÙ… . 

ÛŒÚ© Ø¨Ø§Ø± Ø¨Ù‡ `input` Ù†Ú¯Ø§Ù‡ Ú©Ù†ÛŒÙ… Ù…ÙˆÙ‚Ø¹ Ú©Ù‡ `onChange` Ù…ÛŒØ´Ù‡ ÙØ§Ù†Ú©Ø´Ù† `handleOnchange` Ø§ØªÙØ§Ù‚ Ù…ÛŒ Ø§ÙØªÙ‡ . 

```javascript
        <input
          className="rounded-md p-3 h-[90px] w-[100%] border"
          name="comment"
          placeholder="write your comment"
          value={Commentvalue.comment}
          onChange={handleOnchange}
        ></input>
```
ÙØ§Ù†Ú©Ø´Ù† `handleOnchange` Ø·Ø¨Ù‚ Ù…Ø¹Ù…ÙˆÙ„ Ù…Ù‚Ø¯Ø§Ø± `input` Ø±Ùˆ Ø¯Ø±ÙˆÙ† ÛŒÚ© `state` Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒ Ú©Ù†Ù‡ . 

```javascript
  const handleOnchange = (e: React.ChangeEvent<HTMLInputElement>) => {
    setCommentValue({ ...Commentvalue, [e.target.name]: e.target.value });
  };
```

Ø¨Ø±ÛŒÙ… Ø³Ø±Ø§Øº ÙØ§Ù†Ú©Ø´Ù† `handleSubmit` : 

```javascript
  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault();
    if (Commentvalue.comment.trim() !== "") {
      await sendComment();
      await takeAllComments();
      setCommentValue({ comment: " " });
    }
  };
```
ÛŒÚ© `if` Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ù…ÛŒØ§Ø¯ Ú†Ú© Ù…ÛŒ Ú©Ù†Ù‡ Ú©Ù‡ Ù…Ù‚Ø¯Ø§Ø± `input` Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ú©Ø§Ù…Ù†Øª Ø®Ø§Ù„ÛŒ Ù†Ø¨Ø§Ø´Ù‡ . 
```javascript
    if (Commentvalue.comment.trim() !== "") {
      await sendComment();
      await takeAllComments();
      setCommentValue({ comment: " " });
    }
```

Ø¯Ø±ÙˆÙ† `if` Ø¯ÙˆØªØ§ ÙØ§Ù†Ú©Ø´Ù† Ø¯Ø§Ø±ÛŒÙ…  `sendComment` Ùˆ `takeAllComments` .

ÙØ§Ù†Ú©Ø´Ù† `takeAllComments` Ú©Ù‡ ØªÙ…Ø§Ù…ÛŒ `comment` Ù‡Ø§ Ø±Ùˆ Ù…ÛŒÚ¯ÛŒØ±Ù‡ Ú©Ù‡ Ø¯Ø±ÙˆÙ† `handleSubmit` Ù‡Ù… ØµØ¯Ø§ Ø²Ø¯Ù‡ Ø´Ø¯Ù‡ . 

ÙØ§Ù†Ú©Ø´Ù† `takeAllComments` Ú©Ù…ÛŒ Ù¾Ø§ÛŒÛŒÙ† ØªØ± Ø¨Ø±Ø±Ø³ÛŒ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ø¨Ù‡ Ø§ÛŒÙ† Ø¯Ù„ÛŒÙ„ Ú©Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ Ú©Ø§Ù…Ù†Øª Ø¬Ø¯ÛŒØ¯ Ø§Ø±Ø§Ø³Ø§Ù„ Ù…ÛŒØ´Ù‡ Ø¨Ø§Ø± Ø¯ÛŒÚ¯Ù‡ `takeAllComments` Ø§ØªÙØ§Ù‚ Ø¨ÛŒÙˆÙØªÙ‡ Ùˆ Ø¨Ù‡ ØªÙ…Ø§Ù… Ú©Ø§Ù…Ù†Øª Ù‡Ø§ Ø±Ùˆ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ…. 

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª `state` Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ú©Ø§Ù…Ù†Øª Ù…ÛŒØ§Ø¯ `null` Ù…ÛŒØ´Ù‡ Ú©Ù‡ Ø§ÛŒÙ†Ú©Ø§Ø± Ø¨Ø§Ø¹Ø« Ù…ÛŒØ´Ù‡ `text` Ø¯Ø±ÙˆÙ† Ú©Ø§Ù…Ù†Øª Ø¨Ø¹Ø¯ Ø§Ø² Ø§Ø±Ø³Ø§Ù„ Ú©Ø§Ù…Ù†Øª Ù¾Ø§Ú© Ø´Ù‡ . 

ÙØ§Ù†Ú©Ø´Ù† `handleSubmit` Ø±Ùˆ ÛŒÚ© Ø¨Ø§Ø± Ø¯ÛŒÚ¯Ù‡ Ù†Ú¯Ø§Ù‡ Ú©Ù†ÛŒÙ… : 

```javascript
  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault();
    if (Commentvalue.comment.trim() !== "") {
      await sendComment();
      await takeAllComments();
      setCommentValue({ comment: " " });
    }
  };

```
Ø®Ø¨ Ø¯Ø±ÙˆÙ† ÙØ§Ù†Ú©Ø´Ù† `sendComment` Ú©Ø¯ Ø²ÛŒØ± Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… : 


```javascript
 //* send comment
  const sendComment = async () => {
    if (Commentvalue && pos?._id) {
      const response = await postUserComments(
        Commentvalue,
        userInfoOnline.id,
        pos?._id as string
      );
    } else {
      //*Todo set toast message for user can send empty comment
      console.log("is empty");
    }
  };
```

Ø§Ø² Ù†ÙˆØ¹ `async` Ù‡Ø³Øª Ø¨Ù‡ Ø§ÛŒÙ† Ø¯Ù„ÛŒÙ„ Ø¯Ø±ÙˆÙ†Ø´ Ø¯Ø§Ø±Ù‡ ÙØ§Ù†Ú©Ø´Ù† Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ `api` Ø³Ø§Ø®Øª Ú©Ø§Ù…Ù†Øª Ø§ØªÙØ§Ù‚ Ù…ÛŒ Ø§ÙØªÙ‡ . 

Ø§Ù…Ø§ Ù‚Ø¨Ù„ Ø§Ø² Ø§ÙˆÙ† ÛŒÚ© `if` Ø¯Ø§Ø±Ù‡ Ú©Ù‡ Ú†Ú© Ù…ÛŒ Ú©Ù†Ù‡ Ú©Ù‡ `state comment` Ø®Ø§Ù„ÛŒ Ù†Ø¨Ø§Ø´Ù‡ . Ø¯ÙˆÙ… Ø§ÛŒÙ†Ú©Ù‡ `post_id` ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù‡ . 

```javascript
    if (Commentvalue && pos?._id) {
      const response = await postUserComments(
        Commentvalue,
        userInfoOnline.id,
        pos?._id as string
      );
    }
```

Ø¯Ø±ÙˆÙ†Ø´ Ø¯Ø§Ø±Ù‡ ÙØ§Ù†Ú©Ø´Ù† `postUserComments` Ø§ØªÙØ§Ù‚ Ù…ÛŒ Ø§ÙØªÙ‡ . 

ÙØ§Ù†Ú©Ø´Ù† `postUserComments` Ø±Ùˆ `import` Ú©Ø±Ø¯ÛŒÙ… . 

```javascript
import { postUserComments } from "../../api/comment";
```

Ú©Ù‡ Ù…Ù‚Ø¯Ø§Ø± `input` Ú©Ù‡ ØªØ¹Ø±ÛŒÙ Ú©Ø±Ø¯ÛŒÙ… Ùˆ `id` Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ù„Ø§Ú¯ÛŒÙ† Ù‡Ø³Øª Ùˆ Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± `post_id` Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒØ´Ù‡ . 

Ø¨Ù‡ Ø§ÛŒÙ† Ø¯Ù„ÛŒÙ„ Ø§ÛŒØ¯ÛŒ Ú©Ø§Ø±Ø¨Ø± Ùˆ Ø§ÛŒØ¯ÛŒ Ù¾Ø³Øª Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒØ´Ù‡ Ú©Ù‡ Ù…ØªÙˆØ¬Ù‡ Ø´ÛŒÙ… Ø§ÛŒÙ† Ú©Ø§Ù…Ù†Øª Ø¨Ø±Ø§ÛŒ Ú†Ù‡ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ù‡Ø³Øª Ùˆ Ø¨Ø±Ø§ÛŒ Ú†Ù‡ Ù¾Ø³ØªÛŒ Ù‡Ø³Øª . 

 Ú©Ø§Ù…Ù†Øª Ù‡Ø§ Ø±Ùˆ Ù…ÛŒÚ¯ÛŒØ±ÛŒÙ… Ùˆ Ù†Ø´ÙˆÙ† Ù…ÛŒØ¯ÛŒÙ… . 

 
### takeAllComments function (get all post for detail )
 ÙØ§Ù†Ú©Ø´Ù† `takeAllComments` Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ø¯Ø±ÙˆÙ†Ø´ Ø¯Ø§Ø±Ù‡ ÙØ§Ù†Ú©Ø´Ù† Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ú¯Ø±ÙØªÙ† `api` Ú©Ø§Ù…Ù†Øª Ù‡Ø§ Ø§ØªÙØ§Ù‚ Ù…ÛŒ Ø§ÙØªÙ‡ : 

```javascript 
  const takeAllComments = async () => {
    if (pos?._id) {
      const comments = await getAllPostComments(pos?._id as string);
      /** change setComents to global state for show comments number in homepage*/
      setComments(comments.data);
    }
  };
```

Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ ØªÙ…Ø§Ù…ÛŒ Ú©Ø§Ù…Ù†Øª Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ù‡Ù…ÛŒÙ† Ù¾Ø³Øª Ø±Ùˆ Ø¨Ú¯ÛŒØ±ÛŒÙ… Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø§ÛŒØ¯ÛŒ Ø¯Ø§Ø±ÛŒÙ… . 

Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± Ù†ÛŒØ§Ø² Ø¨Ù‡ ÛŒÚ© `if` Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†Ù‡ Ø§Ú¯Ø± Ø¯ÛŒØªØ§ÛŒ Ù…Ø§ Ù„ÙˆØ¯ Ø´Ø¯ Ùˆ `post.id` ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´Øª Ø¨ÛŒØ§Ø¯ ÙØ§Ù†Ú©Ø´Ù† Ù…Ø±ÙˆØ¨Ø· Ø¨Ù‡ Ú¯Ø±ÙØªÙ† Ú©Ø§Ù…Ù†Øª Ù‡Ø§ Ø§Ø¬Ø±Ø§ Ø´Ù‡ . 

Ø§Ú¯Ø± Ú©Ù‡ `if` Ù†Ø²Ø§Ø±ÛŒÙ… Ø¨Ù‡ Ø§ÛŒÙ† Ø¯Ù„ÛŒÙ„ Ú©Ù‡ Ø§ÛŒÙ†  ÙØ§Ù†Ú©Ø´Ù† Ø¯Ø±ÙˆÙ† ÛŒÚ© `useEffect` Ø§ØªÙØ§Ù‚ Ù…ÛŒ Ø§ÙØªÙ‡ Ùˆ Ø§Ú¯Ø± Ø¯ÛŒØªØ§ Ù‡Ù†ÙˆØ² Ù„ÙˆØ¯ Ù†Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ù‡ . 

Ùˆ `find` Ù…Ø¯ Ù†Ø¸Ø± Ù…Ø§ Ù‡Ù†ÙˆØ² Ø§ØªÙØ§Ù‚ Ù†ÛŒÙˆ ÙØªØ§Ø¯Ù‡ Ø¨Ø§Ø´Ù‡ . Ø¨Ù‡ Ø§Ø±Ø±ÙˆØ± Ù…ÛŒ Ø®ÙˆØ±ÛŒÙ… Ùˆ Ø¨Ø§ Ù…Ø´Ú©Ù„ Ù…ÙˆØ§Ø¬Ù‡ Ù…ÛŒØ´ÛŒÙ… . Ø§Ø² Ø§ÛŒÙ† Ø¬Ù‡Øª Ø¨Ù‡ `if` Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… . 

Ø®Ø¨ Ø¯Ø±ÙˆÙ† Ø§ÛŒÙ† ÙØ§Ù†Ú©Ø´Ù† ÛŒÚ© `state` Ø¯Ø§Ø±Ù‡ Ø³Øª Ù…ÛŒØ´Ù‡ Ø¨Ù‡ Ø§Ø³Ù… `comments` Ø®Ø¨ Ø§ÛŒÙ† `state` Ø±Ùˆ Ù†ÛŒØ§Ø² Ù‡Ø³Øª ØªØ¹Ø±ÛŒÙ Ú©Ù†ÛŒÙ… . 
```javascript
  const [comments, setComments] = useState([]);
```

Ø®Ø¨ Ø­Ø§Ù„Ø§ Ú©Ù‡ Ø¯Ø±ÙˆÙ† ÙØ§Ù†Ú©Ø´Ù† `takeAllComments` ØªÙ…Ø§Ù…ÛŒ Ú©Ø§Ù…Ù†Øª Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ù‡Ù…ÛŒÙ† Ù¾Ø³Øª Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… Ø§ÛŒÙ† Ø§ØªÙØ§Ù‚ ØªÙˆØ³Ø· `id`  ØµÙˆØ±Øª Ù…ÛŒÚ¯ÛŒØ±Ù‡ . 

Ø®Ø¨ Ù…ÛŒØ§ÛŒÙ… Ú©Ø§Ù…Ù†Øª Ù‡Ø§ÛŒ Ú©Ù‡ Ú¯Ø±ÙØªÛŒÙ… Ùˆ Ø¯Ø±ÙˆÙ† `state comment` Ø°Ø®ÛŒØ±Ù‡ Ú©Ø±Ø¯ÛŒÙ… Ø¯Ø± ØµÙˆØ±ØªÛŒ Ú©Ù‡ Ø¨ÙˆØ¯Ù† Ù…ÛŒØ§ÛŒÙ… `map` Ù…ÛŒ Ø²Ù†ÛŒÙ… Ùˆ Ø¯Ø±ÙˆÙ† ØµØ­ÙÙ‡ Ù†Ù…Ø§ÛŒØ´ Ù…ÛŒØ¯ÛŒÙ… . 

```javascript
    <div className="flex flex-col m-3 justify-center align-cneter">
        {comments &&
          comments.map(
            (com: {
              author: { pic: string; username: string };
              _id: string;
              comment: string;
            }) => {
              // console.log(com, "this is com in map");
              return (
                <div
                  key={com._id}
                  className=" mt-3  rounded-md  border border-zinc-200  flex-col"
                >
                  <div className="flex p-1 m-1  w-[fit-content]">
                    <img src={com?.author?.pic} alt="" className="w-[35px]" />
                    <p className="ml-2">{com?.author?.username}</p>
                  </div>
                  <p className="m-3">{com.comment}</p>
                </div>
              );
            }
          )}
      </div>
```
Ú©Ù‡ Ø¯Ø± Ú©Ø¯ Ø¨Ø§Ù„Ø§ Ø¯Ø§Ø±ÛŒÙ… Ø§Ø³Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ú©Ø§Ù…Ù†Øª Ø±Ùˆ Ú¯Ø°Ø§Ø´ØªÙ‡ Ùˆ Ø¹Ú©Ø³ Ú©Ø§Ø±Ø¨Ø± Ø±Ùˆ Ù†Ù…Ø§ÛŒØ´ Ù…ÛŒØ¯ÛŒÙ… . 

Ø§ÛŒÙ† `map` Ø¯Ø± ØµÙˆØ±ØªÛŒ Ø§ØªÙØ§Ù‚ Ù…ÛŒ Ø§ÙØªÙ‡ Ú©Ù‡ `comment` Ø¨Ø§Ø´Ù‡ . 



###  Likes Post in Detail page 

Ø®Ø¨ Ù‡Ù…ÙˆÙ†Ø·ÙˆØ± Ú©Ù‡ Ø¨Ø§Ù„Ø§ ØªØ± Ø§Ø´Ø§Ø±Ù‡ Ø´Ø¯ Ù‡Ø± Ù¾Ø³Øª Ù„Ø§ÛŒÚ© Ùˆ Ù¾Ø³Øª Ùˆ Ú©Ø§Ù…Ù†Øª Ø±Ùˆ Ø¯Ø§Ø±Ù‡ . 

Ú©Ù‡ Ú©Ø§Ù…Ù†Øª Ù‡Ø§Ø±Ùˆ Ø¨Ù‡ api Ø§Ø±Ø³Ø§Ù„ Ú©Ø±Ø¯ÛŒÙ… Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ù†Ø´ÙˆÙ† Ø¯Ø§Ø¯ÛŒÙ… . 

Ù†ÙˆØ¨Øª Ø¨Ù‡ Ù„Ø§ÛŒÚ© Ù‡Ø§ Ù…ÛŒØ±Ø³Ù‡

Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ú©Ø§Ø± Ø§ÙˆÙ„ Ù…ÛŒØ§ÛŒÙ… ÙØ§Ù†Ú©Ø´Ù† Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡  `api` Ø¨Ø±Ø§ÛŒ Ú¯Ø±ÙØªÙ† Ù„Ø§ÛŒÚ©  Ùˆ Ø§Ø±Ø³Ø§Ù„ Ù„Ø§ÛŒÚ© Ú©Ø§Ø±Ø¨Ø±  Ø±Ùˆ `import` Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

```javascript
import {
  getLikes,
  postLike,
} from "../../api/userIntraction";
```
#### Post Like
Ø®Ø¨ Ø§ÙˆÙ„ Ù†ÛŒØ§Ø² Ù‡Ø³Øª Ú©Ù‡ `post` Ú©Ù†ÛŒÙ… Ù„Ø§ÛŒÚ© Ú©Ø§Ø±Ø¨Ø± Ø±Ùˆ . 

Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ø§Ø± Ù…ÛŒØ§ÛŒÙ… Ø§ÙˆÙ„ ÛŒÚ© ÙØ§Ù†Ú©Ø´Ù† Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ù…Ø«Ù„ ØªÙ…Ø§Ù…ÛŒ Ù…Ø±Ø§Ø­Ù„ Ù‚Ø¨Ù„ . 

```javascript 
  const interactionLikeBtn = async () => {

  };
```

Ø¨Ù„Ø§Ú© `try / catch` Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… . 

```javascript
    try {
    } catch (error: any) {
    }
```

Ø¯Ø±ÙˆÙ† Ø¨Ù„Ø§Ú© `try` Ù…ÛŒØ§ÛŒÙ… Ú©Ø¯ Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ú¯Ø±ÙØªÙ† Ø¯ÛŒØªØ§ÛŒ `like` Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯ÛŒÙ… . 

```javascript
    try {
      const like = await postLike(pos?._id as string);
      console.log(like.data.liked.liked, "in btn");
      //* now have realTime like and print user in ui if like or unlike
      setLike(like?.data?.liked?.liked);
      takeAllLikes();
    }
```
Ú©Ù‡ ÙØ§Ù†Ú©Ø´Ù† `postLike` Ú©Ù‡ Ø§Ø² ÙÙˆÙ„Ø¯Ø± `api` Ø¯Ø§Ø±Ù‡ Ù…ÛŒØ§Ø¯ Ø±Ùˆ Ø§ÛŒÙ†Ø¬Ø§ `call` Ú©Ø±Ø¯ÛŒÙ… . 

Ù…Ù†ØªÙ‡Ø§ Ù†ÛŒØ§Ø² Ù‡Ø³Øª `post_id` Ø¨Ù‡Ø´ Ù¾Ø§Ø³ Ø¯Ø§Ø¯Ù‡ Ø´Ù‡ ØªØ§ Ù„Ø§ÛŒÚ© Ù…Ø±ØªØ¨Ø· Ø¨Ø§ `post` Ø±Ùˆ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… Ø¯Ø± Ú©Ø§Ù…Ù¾ÙˆÙ†Øª `detail` . 

Ø¯ÛŒØªØ§ÛŒ Ú©Ù‡ Ø¨Ù‡ Ù…Ø§ `response` Ù…ÛŒØ¯Ù‡ Ø¨Ù‡ ØµÙˆØ±Øª Ø²ÛŒØ± Ù‡Ø³Øª . 


```javascript
{_id: '64b1089351bdf15ccc2a69a2', user: {â€¦}, post: '64ad55a85212c7ddaa830f76', liked: true, saved: true, â€¦}
```
Ú©Ù‡ Ø¯Ø±ÙˆÙ† Ø§Ø¨Ø¬Ú©Øª `user` Ù…Ø´Ø®ØµØ§Øª Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ù„Ø§ÛŒÚ© Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ø¯Ø§Ø¯Ù‡ Ø¯Ø§Ø±ÛŒÙ… . 

ÛŒÚ©ÛŒ `state` ØªØ¹Ø±ÛŒÙ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

```javascript
 const [like, setLike] = useState(false);
```
Ú©Ù‡ Ù…ÛŒØ§ÛŒÙ… Ø¯Ø±ÙˆÙ† ÛŒÚ© ` state like ` Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . Ù…Ù†ØªÙ‡Ø§ `liked` Ø±Ùˆ Ú©Ù‡ Ù…Ù‚Ø¯Ø§Ø±Ø´ `true` Ù‡Ø³Øª . 

```javascript
    try {
      const like = await postLike(pos?._id as string);
      console.log(like.data.liked.liked, "in btn");
      //* now have realTime like and print user in ui if like or unlike
      setLike(like?.data?.liked?.liked);
      takeAllLikes();
    }
```

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ ÛŒÚ© ÙØ§Ù†Ú©Ø´Ù† Ø¯Ø§Ø±ÛŒÙ… Ø¨Ù‡ Ø§Ø³Ù… `takeAllLikes` Ø¯Ø§Ø±ÛŒÙ… . 

Ú©Ø§Ø± Ø§ÛŒÙ† ÙØ§Ù†Ú©Ø´Ù† Ú¯Ø±ÙØªÙ† ØªÙ…Ø§Ù…ÛŒ Ù„Ø§ÛŒÚ© Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ù¾Ø³ØªÛŒ Ù‡Ø³Øª Ú©Ù‡ Ø¯Ø±ÙˆÙ†Ø´ Ù‡Ø³ØªÛŒÙ… . 

Ø§ÛŒÙ†Ú©Ø§Ø±Ùˆ Ú©Ø±Ø¯ÛŒÙ… Ú©Ù‡ Ù‡Ø±Ø¨Ø§Ø± Ú©Ø§Ø±Ø¨Ø±ÛŒ ÛŒÚ© Ù„Ø§ÛŒÚ©ÛŒ Ø±Ùˆ Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒ Ú©Ù†Ù‡ Ø¯Ø± Ø¹ÛŒÙ† Ø­Ø§Ù„ ØªÙ…Ø§Ù…ÛŒ Ù„Ø§ÛŒÚ© Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ù¾Ø³Øª Ù‡Ù… Ú¯Ø±ÙØªÙ‡ Ø´Ù‡ . 

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ø¯Ø± ØµØ­ÙÙ‡ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø´Ù‡ . 

Ø¨Ø§ Ø§ÛŒÙ†Ú©Ø§Ø± Ø¨Ù‡ Ù…Ø­Ø¶ Ø§ÛŒÙ†Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± `like` Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ø¯Ø§Ø¯ ÛŒØ§ `unlike` Ú©Ø±Ø¯ . Ø¨Ù‡ ØµÙˆØ±Øª `realtime` Ø¯Ø± ØµØ­ÙÙ‡ Ù‚Ø§Ø¨Ù„ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù‡Ø³Øª .

**ÛŒØ§Ø¯Ø§ÙˆØ±ÛŒ** : Ø¯Ø±ÙˆÙ† Ú©Ø§Ù…Ù¾ÙˆÙ†Øª `Detail.tsx` Ø¯Ø§Ø±ÛŒÙ… Ø§ÛŒÙ†Ú©Ø§Ø± Ù‡Ø§Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯ÛŒÙ… . 

ÛŒÚ© Ø¨Ø§Ø± Ø¯ÛŒÚ¯Ù‡ Ú©Ù„ ÙØ§Ù†Ú©Ø´Ù† `interactionLikeBtn` Ø±Ùˆ Ø¨Ø§ Ù‡Ù… Ø¯ÛŒÚ¯Ù‡ Ø¨Ø¨ÛŒÙ†ÛŒÙ… : 

```javascript 
  const interactionLikeBtn = async () => {
    try {
      const like = await postLike(pos?._id as string);
      console.log(like.data.liked.liked, "in btn");
      //* now have realTime like and print user in ui if like or unlike
      setLike(like?.data?.liked?.liked);
      takeAllLikes();
    } catch (error: any) {
      console.error(error?.message);
    }
  };
```

### takeAllLikes Function in Detail.tsx
Ø®Ø¨ Ø¨Ø±ÛŒÙ… Ø³Ø±Ø§Øº ÙØ§Ù†Ú©Ø´Ù† `takeAllLikes` ,  Ú©Ù‡ ÙˆØ¸ÛŒÙÙ‡ Ú¯Ø±ÙØªÙ† ØªÙ…Ø§Ù…ÛŒ Ù„Ø§ÛŒÚ© Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ù¾Ø³Øª Ø±Ùˆ Ø¯Ø§Ø±Ù‡ . 

Ø¯ÙˆØ±Ù† Ø§ÛŒÙ† ÙØ§Ù†Ú©Ø´Ù† Ø§Ù…Ø¯ÛŒÙ… ÙØ§Ù†Ú©Ø´Ù† Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ú¯Ø±ÙØªÙ† Ù„Ø§ÛŒÚ© Ù‡Ø§ Ú©Ù‡ Ø¯Ø± ÙÙˆÙ„Ø¯Ø± `api` ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ ØµØ¯Ø§ Ø²Ø¯ÛŒÙ… . 

```javascript
  const takeAllLikes = async () => {
    if (pos?._id) {
      const likes = await getLikes(pos?._id as string);
      setDataLike(likes);
      console.log("Likes in detail", likes.data);
      //* if page is refresh set agin data to setLike
      const checkIntractionUser = likes.data.find((i: any) => {
        return i;
      });
      console.log(checkIntractionUser, "checkIntractionUser");
      // console.log(checkLiked, "checkLiked");
      checkIntractionUser?.liked && setLike(checkIntractionUser?.liked);
    }
  };
```

Ø¨Ø§Ø² Ù†ÛŒØ§Ø² Ø¨Ù‡ `post_id` Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ø¨Ù‡ `getLikes` Ú©Ù‡ ÙØ§Ù†Ú©Ø´Ù† `api` Ù‡Ø³Øª Ù¾Ø§Ø³ Ø¨Ø¯ÛŒÙ… . Ø¨Ø±Ø§ÛŒ Ú¯Ø±ÙØªÙ† ØªÙ…Ø§Ù…ÛŒ Ù„Ø§ÛŒÚ© Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ù¾Ø³Øª Ù…Ø¯ Ù†Ø¸Ø± . 

**ÛŒØ§Ø¯Ø§ÙˆØ±ÛŒ** : Ø¯Ø±ÙˆÙ† Ú©Ø§Ù…Ù¾ÙˆÙ†Øª `Detail.tsx` Ù‡Ø³ØªÛŒÙ… . 

Ø¯Ø±ÙˆÙ† `if` Ú†Ú© Ø´Ø¯Ù‡ Ø§Ú¯Ø± Ú©Ù‡ `post_id` Ø¨ÙˆØ¯ Ø¨ÛŒØ§Ø¯ `getLikes` Ø§ØªÙØ§Ù‚ Ø¨ÛŒÙˆÙØªÙ‡ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¨Ø§ Ø§Ø±ÙˆØ± Ù…ÙˆØ§Ø¬Ù‡ Ù†Ø´ÛŒÙ… . 

Ú†ÙˆÙ† Ø§ÙˆÙ„ Ø¨Ø§ÛŒØ¯ Ø¯ÛŒØªØ§ Ù…Ø¯ Ù†Ø¸Ø± Ú¯Ø±ÙØªÙ‡ Ø´Ù‡ Ø¨Ø¹Ø¯ Ø±ÙˆØ´ `find` Ø²Ø¯Ù‡ Ø´Ù‡ Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ø¨Ù‡ `id` Ù¾Ø³Øª Ù…Ø¯ Ù†Ø¸Ø± Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ú¯ÛŒØ±ÛŒÙ… . 

Ùˆ ØªÙ…Ø§Ù…ÛŒ Ø§ÛŒÙ† Ù…Ø±Ø§Ø­Ù„ Ù…Ø¯Øª Ø²Ù…Ø§Ù†ÛŒ Ø·ÙˆÙ„ Ù…ÛŒ Ú©Ø´Ù‡ . 

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ ÛŒÚ© `state` Ø¨Ù‡ Ø§Ø³Ù… ` dataLikes` Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ø¯Ø±ÙˆÙ† Ø®ÙˆØ¯Ø´ Ø¯ÛŒØªØ§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ `like` Ø±Ùˆ Ø³Øª Ù…ÛŒ Ú©Ù†Ù‡ . 

```javascript
  const [dataLike, setDataLike] = useState<LikeResponse>({
    data: [],
    status: 0,
    statusText: "",
    config: {},
  });
```
Ø¯Ø±ÙˆÙ† `if` : 

```javascript
  const takeAllLikes = async () => {
    if (pos?._id) {
      const likes = await getLikes(pos?._id as string);
      setDataLike(likes);
      console.log("Likes in detail", likes.data);
      //* if page is refresh set agin data to setLike
      const checkIntractionUser = likes.data.find((i: any) => {
        return i;
      });
      console.log(checkIntractionUser, "checkIntractionUser");
      // console.log(checkLiked, "checkLiked");

      checkIntractionUser?.liked && setLike(checkIntractionUser?.liked);
    }
  };

```

Ø§ØªÙØ§Ù‚ Ø¯ÛŒÚ¯Ù‡ Ø§ÛŒ Ú©Ù‡ Ø¯Ø§Ø±Ù‡ Ù…ÛŒ Ø§ÙØªÙ‡ ÛŒÚ© `find` Ù‡Ø³Øª Ú©Ù‡ Ø±ÙˆÛŒ Ø¯ÛŒØªØ§ÛŒ Ø§ØµÙ„ÛŒ Ú©Ù‡ Ú¯Ø±ÙØªÙ‡ Ø´Ø¯Ù‡ ÛŒÚ© ÙØ§ÛŒÙ†Ø¯ Ø²Ø¯Ù‡ Ø´Ø¯Ù‡ Ùˆ Ù…Ù‚Ø§Ø¯ÛŒØ±Ø±Ùˆ `return` Ù…ÛŒ Ú©Ù†Ù‡ .



Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ú¯ÙØªÛŒÙ… Ø§Ú¯Ø± Ú©Ù‡ `checkIntractionUser?.liked` Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø¨ÛŒØ§Ø¯ `setLike` Ø§ØªÙØ§Ù‚ Ø¨ÛŒÙˆÙØªÙ‡ 

Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø¨Ø±Ø§ÛŒ Ù‚Ø±Ù…Ø² Ø´Ø¯Ù† Ù„Ø§ÛŒÚ© Ù…ÙˆÙ† Ù‡Ø³Øª Ø§Ú¯Ø± Ø§ÛŒÙ† Ø®Ø· Ù†Ø¨Ø§Ø´Ù‡ Ú©Ø¯ Ø§ØªÙØ§Ù‚ Ù…ÛŒ Ø§ÙØªÙ‡ ÙˆÙ„ÛŒ Ù‚Ø±Ù…Ø² Ø´Ø¯Ù† Ù„Ø§ÛŒÚ©Ù…ÙˆÙ† Ø®ÛŒØ± . 

Ú†ÙˆÙ† Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ù„Ø§ÛŒÚ© Ø±Ùˆ Ø³Øª Ú©Ù†ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ø§Ø± . 


```javascript
checkIntractionUser?.liked && setLike(checkIntractionUser?.liked);
```

Ø§ÛŒÙ† Ú©Ø§Ø± Ø¨Ø§Ø¹Ø« Ù…ÛŒØ´Ù‡ Ú©Ù‡ ÙˆÙ‚ØªÛŒ ØµØ­ÙÙ‡ Ø±ÙØ±Ø´ Ù…ÛŒØ´Ù‡ Ø¯ÛŒØªØ§ Ø±Ùˆ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… Ùˆ Ù…Ø´Ú©Ù„ÛŒ Ø¨Ø±Ø§ÛŒ Ù„Ø§ÛŒÚ© Ù¾ÛŒØ´ Ù†ÛŒØ§Ø¯ . 

ÛŒÚ© Ø¨Ø§Ø± Ø¯ÛŒÚ¯Ù‡ Ø¨Ù‡ Ú©Ù„ ÙØ§Ù†Ú©Ø´Ù† `takeAllLikes` Ù†Ú¯Ø§Ù‡ Ú©Ù†ÛŒÙ… : 

```javascript
```javascript
  const takeAllLikes = async () => {
    if (pos?._id) {
      const likes = await getLikes(pos?._id as string);
      setDataLike(likes);
      console.log("Likes in detail", likes.data);
      //* if page is refresh set agin data to setLike
      const checkIntractionUser = likes.data.find((i: any) => {
        return i;
      });
      console.log(checkIntractionUser, "checkIntractionUser");
      // console.log(checkLiked, "checkLiked");

      checkIntractionUser?.liked && setLike(checkIntractionUser?.liked);
    }
  };
```

Ø¯ÛŒØªØ§ÛŒ Ú©Ù‡ Ø§ÛŒÙ† ÙØ§Ù†Ú©Ø´Ù† Ø¨Ù‡ Ù…Ø§ Ø¨Ø±Ú¯Ø´Øª Ù…ÛŒØ¯Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ `response` Ú©Ù‡ Ø¯Ø§Ø±ÛŒÙ… Ø¨Ù‡ ØµÙˆØ±Øª Ø²ÛŒØ± Ù‡Ø³Øª . 

Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ù„Ø§ÛŒÚ© Ú©Ø±Ø¯Ù‡ Ø¯Ø± Ø§Ø¨Ø¬Ú©Øª `user` Ù‡Ø³Øª . 

```javascript
Array(2)
0: 
{_id: '64aa5013ad4a1a0a329d8b6f', user: {â€¦}, post: '64aa4fc2ad4a1a0a329d8b5b', liked: true, saved: true, â€¦}
1: 
createdAt: "2023-07-14T08:42:40.630Z"
liked: true
post: "64aa4fc2ad4a1a0a329d8b5b"
saved: true
updatedAt: "2023-07-14T08:42:43.328Z"
user: { 
pic: "https://res.cloudinary.com/duhpa0txz/image/upload/v1689323553/jnf43fax4pv3td87o14r.png"
username: "user6000"
_id: "64b1082b51bdf15ccc2a694d"
}
_id: "64b10a8051bdf15ccc2a69e2"
```

Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± `save` Ùˆ `like` Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± Ø§ÛŒØ¯ÛŒ Ù¾Ø³Øª Ùˆ Ú©Ø§Ø±Ø¨Ø± Ø±Ùˆ Ù‡Ù… Ø¯Ø§Ø±ÛŒÙ… . 

Ø§ÛŒÙ† Ù…ÙˆØ§Ø±Ø¯ Ø³Ù…Øª `server` Ú©Ù†ØªØ±Ù„ Ø´Ø¯Ù‡ Ø¯Ø± Ú©Ù„Ø§ÛŒÙ†Øª ØµØ±ÙØ§ `ObjectId` Ø¯ÛŒØªØ§ Ù‡Ø§ Ø±Ùˆ Ù¾Ø§Ø³ Ù…ÛŒØ¯ÛŒÙ… Ø¨Ù‡ `api` Ùˆ `response` Ø±Ùˆ Ù…ÛŒ Ú¯ÛŒØ±ÛŒÙ… . 

Ø®Ø¨ Ù„Ø§ÛŒÚ© Ø±Ùˆ ÙØ±Ø³ØªØ§Ø¯ÛŒÙ… Ùˆ Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ù„Ø§ÛŒÚ© Ø±Ùˆ Ú¯Ø±ÙØªÛŒÙ… Ø¨Ø±Ø§ÛŒ Ù†Ø´ÙˆÙ† Ø¯Ø§Ø¯Ù† Ø¯Ø± `return` Ø¨Ù‡ ØµÙˆØ±Øª Ø²ÛŒØ± Ù…ÛŒØ§ÛŒÙ… Ù„Ø§ÛŒÚ© Ø±Ùˆ Ù†Ù…Ø§ÛŒØ´ Ù…ÛŒØ¯ÛŒÙ… Ø¯Ø± `Detail.tsx` . 

```javascript
   {dataLike.data &&
        dataLike.data?.map((items: any) => {
          const { user } = items;
          // console.log(user, liked, "in map");
          return (
            <div key={user._id}>
              <p>{user.username}</p>
              <img className="w-[20px]" src={user.pic} alt="" />
            </div>
          );
        })}
```

Ø§ÛŒÙ†Ø¬ÙˆØ±ÛŒ Ù…ÛŒØ§ÛŒÙ… `username` Ø±Ùˆ Ù†Ø´ÙˆÙ† Ù…ÛŒØ¯ÛŒÙ… Ùˆ Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± Ù…ÛŒØ§ÛŒÙ… Ø¹Ú©Ø³ Ú©Ø§Ø±Ø¨Ø± Ú©Ù‡ Ø¯Ø±ÙˆÙ† `pic` Ù‡Ø³Øª Ø±Ùˆ Ù†Ù…Ø§ÛŒØ´ Ù…ÛŒØ¯ÛŒÙ… . 

Ø§ÛŒØªØ¬ÙˆØ±ÛŒ Ù‡Ø± Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ù„Ø§ÛŒÚ© Ú©Ø±Ø¯Ù‡ Ø¹Ú©Ø³ Ø§Ø´ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒØ´Ù‡ Ùˆ Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± Ø§Ø³Ù…Ø´ . 

Ø®Ø¨ Ù†ÛŒØ§Ø² Ø¨Ù‡ ÛŒÚ© `button` Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ø¨ÛŒØ§Ø¯ Ø§ÛŒÙ† Ú©Ø§Ø± `like` Ùˆ `unlike` Ø´Ø¯Ù† Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ø¨Ø¯Ù‡ . 

Ú©Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ ÙØ§Ù†Ú©Ø´Ù† `interactionBtnLike` Ù‡Ù…ÛŒÙ† Ú©Ø§Ø± Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯Ù‡ . 

```javascript
      <button className="ml-5" type="button" onClick={interactionLikeBtn}>
        {like ? (
          <PiHeartStraightFill size="1.5rem" color="red" />
        ) : (
          <PiHeartStraight size="1.5rem" />
        )}
        {dataLike.data && <p>{dataLike.data.length}</p>}
      </button>
```

Ø¯Ø±ÙˆÙ† `return` ÛŒÚ© `button` Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯ÛŒÙ… Ú©Ù‡ Ø¯Ø± ØµÙˆØ±ØªÛŒ Ú©Ù‡ `like` Ø¨ÙˆØ¯ . 

Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ `state like` Ø§Ù…Ø¯ `true` Ø´Ø¯ . Ø¨ÛŒØ§Ø¯ ÛŒÚ© Ø§ÛŒÚ©ÙˆÙ† Ø¨Ù‡ Ù…Ø§ Ù†Ø´ÙˆÙ† Ø¨Ø¯Ù‡ . 

Ø¯Ø± ØµÙˆØ±ØªÛŒ Ú©Ù‡ `false` Ø¨ÙˆØ¯ Ø¨ÛŒØ§Ø¯ ÛŒÚ© Ø§ÛŒÚ©ÙˆÙ† Ù†Ø´ÙˆÙ† Ø¨Ø¯Ù‡ . 

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ù‡Ù… Ø¯Ø±ÙˆÙ† Ø®ÙˆØ¯Ù‡ `button` Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† `text` Ø§Ù…Ø¯ÛŒÙ… ØªØ¹Ø¯Ø§Ø¯ Ø¯ÛŒØªØ§ÛŒ `like` Ø±Ùˆ Ù†Ø´ÙˆÙ† Ø¯Ø§Ø¯ÛŒÙ… Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `length`

```javascript
  {dataLike.data && <p>{dataLike.data.length}</p>}
```

Ø¨Ø±Ø§ÛŒ Ø§ÛŒÚ©ÙˆÙ† Ù‡Ø§ Ù‡Ù… Ø§Ø² `react-icons` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯ÛŒÙ… . 

Ú©Ù‡ `import` Ø´Ø¯Ù‡ . 

```javascript
import { PiHeartStraight, PiHeartStraightFill } from "react-icons/pi";
```
Ú¯Ø±ÙØªÙ† `like` Ùˆ Ù¾Ø³Øª Ú©Ø±Ø¯Ù† `like` Ú©Ø§Ø±Ø¨Ø± Ù‡Ø§ Ø¨Ù‡ Ø§ØªÙ…Ø§Ù… Ø±Ø³ÛŒØ¯ . 


### Get  takeSaves Function in Detail.tsx

Ø¯Ù‚ÛŒÙ‚Ø§ Ù…Ø«Ù„ `like` Ù‡Ø³Øª ÛŒÚ© ÙØ§Ù†Ú©Ø´Ù† Ø¯Ø§Ø±ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ú¯Ø±ÙØªÙ† ØªÙ…Ø§Ù…ÛŒ Ø¯ÛŒØªØ§ Ù‡Ø§ÛŒ Ù…Ø±Ø¨Ø·Ùˆ Ø¨Ù‡ `save` . 

Ú©Ù‡ Ø§ÛŒÙ† Ø¯ÛŒØªØ§ Ù‡Ø§ Ø¯Ø±ÙˆÙ†  `  state saveData` Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒ Ø´Ù†Ø¯ . 

```javascript
const [saveData, setSaveData] = useState<[] | any>([]);
```

ÙØ§Ù†Ú©Ø´Ù† `takeSaves` Ú©Ù‡ ÙˆØ¸ÛŒÙÙ‡ Ú¯Ø±ÙØªÙ† `save` Ù‡Ø§ÛŒ Ù¾Ø³Øª Ù…Ø¯ Ù†Ø¸Ø± Ø±Ùˆ Ø¯Ø§Ø±Ù‡ . 

Ù…Ù†ØªÙ‡Ø§ Ø¨Ø§Ø² Ø¨Ù‡ `post_id` Ù†ÛŒØ§Ø² Ø¯Ø§Ø±Ù‡ . 

Ú©Ù‡ Ù¾Ø§Ø³ Ø¨Ø¯Ù‡ Ø¨Ù‡ ÙØ§Ù†Ú©Ø´Ù† `getSave` Ú©Ù‡ Ø¯Ø±ÙˆÙ† ÙÙˆÙ„Ø¯Ø± `api` ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ú¯Ø±ÙØªÙ† `save` Ù‡Ø§ÛŒ Ù¾Ø³Øª Ø¨Ø§ ØªÙˆØ¬Ù‡ Ø¨Ù‡ `id`
```javascript
  const takeSaves = async () => {
    try {
      if (pos?._id) {
        const saves = await getSave(pos?._id as string);
        setSaveData(saves);
        const checkIntractionUser = saves?.data.find((s: any) => {
          return s;
        });
        checkIntractionUser?.saved && setSave(checkIntractionUser?.saved);
      }
    } catch (err) {
      console.log("takeSaves error in detail", err);
      return err;
    }
  };
```
Ø¯Ø±ÙˆÙ† `  state saveData` Ø¯ÛŒØªØ§ Ø¯Ø§Ø±Ù‡ Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒØ´Ù‡ : 

```javascript
setSaveData(saves);
```

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ø¯ÙˆØ¨Ø§Ø±Ù‡ `find` Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø³ÛŒÙˆ Ø´Ø¯Ù† Ø±Ùˆ Ø¨ØªÙˆÙ†ÛŒÙ… ØªØºÛŒÛŒØ± Ø§ÛŒÚ©ÙˆÙ† Ø´Ùˆ Ø¨Ø¨ÛŒÙ†Ù… Ùˆ Ø¯ÙˆØ¨Ø§Ø±Ù‡ `set state` Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… . 

```javascript
checkIntractionUser?.saved && setSave(checkIntractionUser?.saved);
```

Ø®Ø¨ `interactionSavedBtn` Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ú©Ø§Ø± `save` Ùˆ `unsave` Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯Ù‡ . 
```javascript
  const interactionSavedBtn = async () => {
    try {
      const save = await postSave(pos?._id as string);
      console.log(save);
      setSave(save?.data?.saved?.saved);
      takeSaves();
    } catch (err) {
      console.error(err, "saved btn error in detail");
    }
  };
```

Ø¯Ø±ÙˆÙ† `return` ÛŒÚ© `buton` Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ø¨Ø§ Ú©Ù„ÛŒÚ© Ú©Ø±Ø¯Ù† Ø±Ùˆ Ø§ÛŒÙ† `button`  Ù…ÛŒØ§Ø¯ ÙØ§Ù†Ú©Ø´Ù† `interactionSavedBtn` Ø§ØªÙØ§Ù‚ Ù…ÛŒ Ø§ÙØªÙ‡ . 

```javascript
   <button onClick={interactionSavedBtn}>
        {save ? <AiFillTag size="1.5rem" /> : <AiOutlineTag size="1.5rem" />}
        {saveData.data && <p>{saveData.data.length}</p>}
      </button>
```

Ú©Ù‡ Ø¯Ø± ØµÙˆØ±ØªÛŒ Ú©Ù‡ `save` Ø¨ÙˆØ¯ Ú©Ù‡ ÛŒÚ© `state` Ù‡Ø³Øª Ùˆ ÛŒÚ© Ù…Ù‚Ø¯Ø§Ø± `bolean` Ø¯Ø§Ø±Ù‡ . 

```javascript
 const [save, setSave] = useState(false);
```
Ú©Ù‡ `true / false` Ù…ÛŒØ´Ù‡ . 

Ø§Ú¯Ø± `true` Ø¨ÙˆØ¯ Ø¨ÛŒØ§Ø¯ ÛŒÚ© `icon` Ù†Ù…Ø§ÛŒØ´ Ø¨Ø¯Ù‡ . 

Ø§Ú¯Ø± Ú©Ù‡ `false` Ø¨ÙˆØ¯ Ø¨ÛŒØ§Ø¯ ÛŒÚ© `icon` Ø¯ÛŒÚ¯Ù‡ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø´Ù‡ . 

Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† `text` Ø¨Ø±Ø§ÛŒ `button` Ù‡Ù… Ø¨ÛŒØ§Ø¯ `length` Ø¯ÛŒØªØ§ Ø±Ùˆ Ù†Ø´ÙˆÙ† Ø¨Ø¯Ù‡ Ú©Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ ØªØ¹Ø¯Ø§Ø¯ `save` Ø¨Ø±Ø§ÛŒ Ø§ÙˆÙ† Ù¾Ø³Øª Ù‡Ø³Øª . 

Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ Ø±ÙˆÛŒ Ø§ÛŒÙ† `button` Ú©Ù„ÛŒÚ© Ù…ÛŒØ´Ù‡ Ù…ÛŒØ§Ø¯ ÙØ§Ù†Ú©Ø´Ù† `interactionSavedBtn` Ø§ØªÙØ§Ù‚ Ù…ÛŒ Ø§ÙØªÙ‡ . 

### run takeAllLikes , takeSaves , takeAllComments 

ÛŒÚ© `useEffect` Ø¯Ø§Ø±ÛŒÙ… Ø¯Ø± Ú©Ø§Ù…Ù¾ÙˆÙ†Øª `Detail.tsx` . Ú©Ù‡ Ù…ÛŒØ§Ø¯ ØªÙ…Ø§Ù…ÛŒ ÙØ§Ù†Ú©Ø´Ù† Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ·ÛŒ Ú©Ù‡ Ù†ÙˆØ´ØªÛŒÙ… Ø±Ùˆ Ø±Ø§Ù† Ù…ÛŒ Ú©Ù†Ù‡ . 

Ù…Ù†ØªÙ‡Ø§ Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ `pos` Ø¨ÛŒØ§Ø¯  Ø§ØªÙØ§Ù‚ Ø¨ÛŒÙˆÙØªÙ‡   .

```javascript
  const pos = postData.find((p: Post) => {
    return p?._id === id;
  });
```

```javascript
  useEffect(() => {
    takeAllComments();
    takeAllLikes();
    takeSaves();
    if (userInfoOnline.id) {
      setDisabelSubmitForm(false);
    }
  }, [pos]);
```

Ø¯Ø± Ø§ÛŒÙ† `useEffect` Ú©Ø§Ø± Ø¯ÛŒÚ¯Ù‡ Ø§ÛŒ Ú©Ù‡ Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡ Ø§ÛŒÙ† Ù‡Ø³Øª Ú©Ù‡ Ú†Ú© Ú©Ø±Ø¯ÛŒÙ… Ø¨Ø¨Ù†ÛŒÙ… Ú©Ø§Ø±Ø¨Ø± `login` Ù‡Ø³Øª ÛŒØ§  Ù†Ù‡ . 

Ø§Ú¯Ø± Ú©Ù‡ `login` Ø¨ÙˆØ¯ Ø¨ØªÙˆÙ†Ù‡ Ú©Ø§Ù…Ù†Øª Ø¨Ø²Ø§Ø±Ù‡ Ùˆ Ù„Ø§ÛŒÚ© Ùˆ Ø³ÛŒÙˆ Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ø¨Ø¯Ù‡ . 

Ø¯Ø±ÙˆÙ† Ø§ÛŒÙ† `if` Ø§Ù…Ø¯ÛŒÙ… Ø§ÛŒÙ† Ø´Ø±Ø· Ø±Ùˆ Ú¯Ø°Ø§Ø´ØªÛŒÙ… : 

```javascript
    if (userInfoOnline.id) {
      setDisabelSubmitForm(false);
    }
```
Ø®Ø¨ `userInfoOnline.id` Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø¯Ø§Ø±Ù‡ Ø§Ø² `context` Ù…ÛŒØ§Ø¯ . 

```javascript
import { useGlobalContext } from "../../context/context";
```
```javascript
  const { userInfoOnline } = useGlobalContext();
```
ÛŒÚ© `state` Ø¨Ø±Ø§ÛŒ `disbale` Ú©Ø±Ø¯Ù† `button` Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ø§Ø±Ø³Ø§Ù„ Ú©Ø§Ù…Ù†Øª Ø¯Ø§Ø±ÛŒÙ… . 

```javascript
  const [disabelSubmitForm, setDisabelSubmitForm] = useState(true);
```

Ú©Ù‡ Ù‡Ù…ÛŒÙ† `state` Ø±Ùˆ Ø§Ù…Ø¯ÛŒÙ… Ø¨Ù‡ Ø·ÙˆØ± Ú©Ù„ `true` Ú¯Ø°Ø§Ø´ØªÛŒÙ… Ùˆ Ú¯ÙØªÛŒÙ… Ø§Ú¯Ø± Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± `login` Ø¨ÙˆØ¯ Ø¯Ø±ÙˆÙ† Ø´Ø±Ø· `if` Ú©Ù‡ Ø¯Ø± `useEffect` Ú¯Ø°Ø§Ø´ØªÛŒÙ… . 

Ø¨ÛŒØ§Ø¯ `state` ØªØºÛŒÛŒØ± Ú©Ù†Ù‡ Ùˆ `true` Ø´Ù‡ .


```javascript
  useEffect(() => {
    takeAllComments();
    takeAllLikes();
    takeSaves();
    if (userInfoOnline.id) {
      setDisabelSubmitForm(false);
    }
  }, [pos]);
```

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ù…Ù‚Ø¯Ø§Ø± `disable` Ø±Ùˆ Ø¨Ø±Ø§ÛŒ `button` Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ `submit` Ø´Ø¯Ù† Ú©Ø§Ù…Ù†Øª Ø±Ùˆ Ø§ÛŒÙ† `state` Ù‚Ø±Ø§Ø± Ø¯Ø§Ø¯ÛŒÙ… . 
```javascript
        <Button
          text={"send comment"}
          className="bg-blue-500 hover:bg-blue-300 w-[100%] rounded-md mt-2 md:w-60 p-3 text-zinc-50 font-semibold"
          type="submit"
          disabled={disabelSubmitForm}
          icon=""
        ></Button>
```

Ø§Ú¯Ø± Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± `login` Ù†Ø¨Ø§Ø´Ù‡ Ù†Ù…ÛŒ ØªÙˆÙ†Ù‡ Ú©Ø§Ù…Ù†ØªÛŒ Ø±Ùˆ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†Ù‡ . 

Ø®Ø¨ Ø§Ú¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ø§Ú¯Ø± Ú©Ø§Ø±Ø¨Ø± Ù„Ø§Ú©ÛŒÙ† Ù†Ø¨Ø§Ø´Ù‡ Ù†Ù…ÛŒ ØªÙˆÙ†Ù‡ `like` Ú©Ø±Ø¯Ù† Ù¾Ø³Øª Ùˆ Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± `save` Ø´Ø¯Ù† Ù¾Ø³Øª Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ø¨Ø¯Ù‡ . 

Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ø§Ø± Ù…Ø§ Ø§Ø² Ú©Ø§Ù…Ù¾ÙˆÙ†Øª `Toast` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯ÛŒÙ… . 

Ø§ÙˆÙ„ `state toast` Ø±Ùˆ ØªØ¹Ø±ÛŒÙ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ú©Ù‡ Ø¨Ø±Ø§ÛŒ Ù†Ø´ÙˆÙ† Ø¯Ø§Ø¯Ù† `toast` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒØ´Ù‡ . 

ÛŒÚ© `state` Ø¯ÛŒÚ¯Ù‡ Ù‡Ù… Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ `message` Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ `like` Ùˆ `save` Ø±Ùˆ Ø¯Ø±ÙˆÙ†Ø´ Ø°Ø®ÛŒØ±Ù‡ Ú©Ù†ÛŒÙ… .



```javascript
  const [toast, setToast] = useState(false);
  const [authInteractionUser, setAuthIntractionUser] = useState("");
```

Ø®Ø¨ `state toast` Ú©Ù‡ Ø¨Ø§Ù‡Ø§Ø´ Ø§Ø´Ù†Ø§ Ù‡Ø³ØªÛŒÙ… Ø¨Ø±Ø§ÛŒ Ù†Ø´ÙˆÙ† Ø¯Ø§Ø¯Ù† Ú©Ø§Ù…Ù¾ÙˆÙ†Øª `Toast` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒØ´Ù‡ . 

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ `state authInteractionUser` Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… 

Ú©Ù‡ Ù…ÛŒØ§Ø¯ ÛŒÚ© Ù¾ÛŒØ§Ù… Ø±Ùˆ Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒ Ú©Ù†Ù‡ Ø¨Ø±Ø§ÛŒ Ù†Ø´ÙˆÙ† Ø¯Ø§Ø¯Ù† Ù¾ÛŒØ§Ù… Ú©Ù‡ Ø¨Ø±Ø§ÛŒ `like` Ùˆ `save` Ù‡Ø³Øª . 

Ø§Ø² `state authInteractionUser` Ù…ÛŒØ§ÛŒÙ… Ø¯Ø±ÙˆÙ† Ø¨Ù„Ø§Ú© `catch`

ÙØ§Ù†Ú©Ø´Ù† Ù‡Ø§ÛŒ `interactionSavedBtn` Ùˆ `interactionLikeBtn`

Ù…ÛŒØ§ÛŒÙ… `state authInteractionUser  ` Ø±Ùˆ Ø³Øª Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

```javascript
 const interactionLikeBtn = async () => {
    try {
      const like: {} | any = await postLike(pos?._id as string);
      // console.log(like, "like data in btn");
      // console.log(like?.data?.liked?.liked, "in btn");
      //* now have realTime like and print user in ui if like or unlike
      setLike(like?.data?.liked?.liked);
      takeAllLikes();
    } catch (error: any) {
      console.error(error?.message);
      setToast(true);
      setAuthIntractionUser(error?.message);
      setTimeout(() => {
        setToast(false);
      }, 7000);
    }
  };
```
 Ø¨Ù‡ Ø¨Ù„Ø§Ú© `catch` Ù†Ú¯Ø§Ù‡ Ú©Ù†ÛŒØ¯  : 

```javascript
 catch (error: any) {
      console.error(error?.message);
      setToast(true);
      setAuthIntractionUser(error?.message);
      setTimeout(() => {
        setToast(false);
      }, 7000);
    }
```

ÛŒØ¯ÙˆÙ†Ù‡ `state toast` Ø¯Ø§Ø±Ù‡ Ø¯Ø±ÙˆÙ†Ø´ `true` Ù…ÛŒØ´Ù‡ Ø¯Ø± ØµÙˆØ±ØªÛŒ Ú©Ù‡ `err` Ø¯Ø§Ø´ØªÛŒÙ… . 

Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ù„Ø§Ú¯ÛŒÙ† Ù†Ø¨Ø§Ø´Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†Ù‡ Ù„Ø§ÛŒÚ© ÛŒØ§ Ø³ÛŒÙˆ Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ø¨Ø¯Ù‡ Ø§ÛŒÙ† Ø¨Ù„Ø§Ú© `catch` Ø§ØªÙØ§Ù‚ Ù…ÛŒ Ø§ÙØªÙ‡ . 

Ù¾Ø³ Ø¯Ø± Ù†ØªÛŒØ¬Ù‡ `state toast` Ø±Ùˆ Ù…ÛŒØ§ÛŒÙ… `true` Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ `state authInteractionUser  ` Ø§Ù…Ø¯ÛŒÙ… `error.message` Ø±Ùˆ Ø¯Ø±ÙˆÙ†Ø´ `set` Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ `setTimeout` Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ú¯ÙØªÛŒÙ… Ø¨Ø¹Ø¯ Ø§Ø² 7s Ø¨ÛŒØ§Ø¯ `state toast` Ù…Ø§ `false` Ø´Ù‡ . 

Ú©Ù‡ Ú©Ø§Ù…Ù¾ÙˆÙ†Øª `Toast` Ø§Ø² Ø¨ÛŒÙ† Ø¨Ø±Ù‡ . 

Ø¯Ø±ÙˆÙ† ÙØ§Ù†Ú©Ø´Ù† `interactionSavedBtn` Ù‡Ù… Ù‡Ù…ÛŒÙ† Ø§ØªÙØ§Ù‚ Ù…ÛŒ Ø§ÙØªÙ‡ . 

ØµØ±ÙØ§ Ø¨Ù„Ø§Ú© `catch ` ÙØ§Ù†Ú©Ø´Ù† `interactionSaveBtn`  Ø±Ùˆ Ø¯Ø± Ú©Ø¯ Ø²ÛŒØ± Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒØ¯ . 

Ø§ØªÙØ§Ù‚ÛŒ Ú©Ù‡ Ø¯Ø± Ø¨Ù„Ø§Ú© `catch` ÙØ§Ù†Ú©Ø´Ù† `interactionSaveBtn` Ù…ÛŒ Ø§ÙØªÙ‡ Ø¯Ù‚ÛŒÙ‚Ø§ Ù…Ø«Ù„ ÙØ§Ù†Ú©Ø´Ù† `interactionLikeBtn` Ù‡Ø³Øª . 

```javascript
catch (error: any) {
      console.log("saved btn error in detail", error);
      console.error(error?.message);
      setToast(true);
      setAuthIntractionUser(error?.message);
      setTimeout(() => {
        setToast(false);
      }, 7000);
    }
```

# panel page  

ÛŒÚ© ØµØ­ÙÙ‡ Ø¯Ø§Ø±ÛŒÙ… Ø¨Ù‡ Ø§Ø³Ù… `panel` Ú©Ù‡ Ù‡Ø± Ú©Ø§Ø±Ø¨Ø± Ø³Ø§ÛŒØª Ù…ÛŒ ØªÙˆÙ†Ù‡ Ù¾Ø³Øª Ù‡Ø§ÛŒ Ú©Ù‡ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯Ù‡ Ø±Ùˆ Ø¯Ø±ÙˆÙ†Ø´ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú©Ù†Ù‡ .

Ùˆ Ø¨ØªÙˆÙ†Ù‡ Ù¾Ø³Øª Ù‡Ø§ Ø±Ùˆ `delete` , `edit` Ùˆ `create` Ú©Ù†Ù‡ . 

ØµØ­ÙÙ‡ `createPost` Ø±Ùˆ Ú©Ù‡ Ø³Ø§Ø®ØªÛŒÙ… Ø§Ø² Ù‚Ø¨Ù„ Ùˆ Ø¨Ù‡ Ø§ÛŒÙ†Ø¬Ø§ ØµØ±ÙØ§ Ù„ÛŒÙ†Ú© Ø§Ø´ Ø±Ùˆ Ù…ÛŒ Ø²Ø§Ø±ÛŒÙ… . 

Ø¨Ø±Ø§ÛŒ Ù†Ø´ÙˆÙ† Ø¯Ø§Ø¯Ù† Ù¾Ø³Øª Ù‡Ø± Ú©Ø§Ø±Ø¨Ø± Ù†ÛŒØ§Ø² Ø¨Ù‡ `ObjecId` Ø¯Ø§Ø±ÛŒÙ… Ùˆ `api` Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ø§Ø± . 

Ú©Ù‡ Ø¯Ø± ÙÙˆÙ„Ø¯Ø± `api`  Ø§ÛŒÙ†Ú©Ø§Ø± Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡ Ùˆ `api` Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ø§Ø± Ù†ÙˆØ´ØªÙ‡ Ø´Ø¯Ù‡ . 

Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± `login` Ù‡Ø³Øª Ù…ÛŒ ØªÙˆÙ†Ù‡ Ú©Ù‡ ÙˆØ§Ø±Ø¯ `panel` Ú©Ø§Ø±Ø¨Ø±ÛŒ ÙˆØ§Ø±Ø¯ Ø¨Ø´Ù‡ . 

Ø®Ø¨ Ø§ÙˆÙ„ ÙØ§Ù†Ú©Ø´Ù† Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ `api` Ø±Ùˆ Ù…ÛŒØ§ÛŒÙ… `import` Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

```javascript
import { deleteUserPost, userPost } from "../../api/post";
```

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ ÛŒÚ© `hook` Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ù†ÙˆØ´ØªÛŒÙ… Ù…ÛŒØ§Ø¯ Ú©Ø§Ø± Ú†Ú© Ú©Ø±Ø¯Ù† Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯Ù‡ . 

Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ù…Ø§ `login` Ù‡Ø³Øª ÛŒØ§ Ù†Ù‡ . 
```javascript
import UserCheckingLogin from "../../hooks/UserCheckingLogin";
```
### hook UserCheckingLogin

Ø§Ø² Ø§ÛŒÙ† `hook` Ù…Ø§ Ù…ÛŒØ§ÛŒÙ… Ø¯Ø±ÙˆÙ† ØµØ­ÙÙ‡ `createPost` Ùˆ `Panel` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… .

Ø§ÛŒÙ†Ú©Ø§Ø± Ø¨Ø§Ø¹Ø« Ù…ÛŒØ´Ù‡ Ø§Ú¯Ø± Ú©Ø§Ø±Ø¨Ø± Ø¨Ù‡ ØµÙˆØ±Øª Ø¯Ø³ØªÛŒ Ø¯Ø± `url` ÛŒØ§ Ù‡Ù…ÙˆÙ† Ø§Ø¯Ø±Ø³ Ø¨Ø§Ø± Ù…Ø±ÙˆØ±Ú¯Ø± Ø®ÙˆØ¯Ø´ Ø§Ø¯Ø±Ø³ `createPost` ÛŒØ§ `Panel` Ø±Ùˆ ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯ .

Ùˆ Ù„Ø§Ú¯ÛŒÙ† Ù†Ø¨ÙˆØ¯ .. Ø¨Ù‡ ØµØ­ÙØ§Øª Ø¯Ø³ØªØ±Ø³ÛŒ Ù†Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù‡ . 

Ø§Ù„Ø§Ù† Ù‡Ø± Ø¬Ø§ Ø¨Ø®ÙˆØ§ÛŒÙ… Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø¯Ø³ØªØ±Ø³ÛŒ Ù†Ø¯ÛŒÙ… Ù‚Ø¨Ù„ Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ `login` Ù†Ø´Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ† `hook UserCheckingLogin   ` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… .

Ùˆ `UserCheckingLogin` Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† `parenet` Ø§ØµÙ„ÛŒ Ø§ÙˆÙ† ØµØ­ÙÙ‡ ÛŒØ§ Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Ù‚Ø±Ø§Ø± Ù…ÛŒØ¯ÛŒÙ… . 

Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ú©Ø§Ù…Ù¾ÙˆÙ†Øª ÛŒØ§ ØµØ­ÙÙ‡ Ù…Ø¯ Ù†Ø¸Ø± Ù…ÙˆÙ† Ø±Ùˆ Ø¯Ø±ÙˆÙ†Ø´ `wrapp` Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ù…Ø«Ù„ ØµØ­ÙØ§Øª `Panel.tsx` Ùˆ `Createpost.tsx` . 

Ø¯Ø± `userCheckLogin` Ú©Ø¯ Ø²ÛŒØ± Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… : 

```javascript
import React, { useEffect, useState } from "react";
import { useGlobalContext } from "../context/context";

import { useNavigate } from "react-router-dom";
import Button from "../components/button/Button";
import { AiFillHome } from "react-icons/ai";
```
Ø§ÙˆÙ„ Ø§Ø² Ù‡Ù…Ù‡ `import` Ù‡Ø§ÛŒ Ø¨Ø§Ù„Ø§ Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… . 

Ú©Ù‡ Ù…Ù‡Ù… ØªØ±ÛŒÙ† `import` Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ `useGlobalContext` Ù‡Ø³Øª . 

Ú©Ù‡ Ù…ÛŒØ§ÛŒÙ… `userInfoOnline` Ø±Ùˆ Ø§Ø² Ø¯Ø±ÙˆÙ†Ø´ ØµØ¯Ø§ Ù…ÛŒ Ø²Ù†ÛŒÙ… . 

```javascript
  const { userInfoOnline } = useGlobalContext();
```

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ ÛŒÚ© Ø³Ø±ÛŒ ÙØ§Ù†Ú©Ø´Ù† Ø¯Ø§Ø±ÛŒÙ… Ø¨Ø±Ø§ÛŒ `navigate` Ø´Ø¯Ù† Ø¯Ø±ÙˆÙ† ØµØ­ÙØ§Øª `login` Ùˆ `register` Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± `home`
```javascript
  const navigateToHome = () => {
    navigate("/");
  };
  const navigateToLogin = () => {
    navigate("/login");
  };
  const navigateToRegister = () => {
    navigate("/register");
  };
``` 

ÛŒÚ© ÙØ§Ù†Ú©Ø´Ù† Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ ÛŒÚ© `state auth` Ø±Ùˆ Ù…Ù‚Ø¯Ø§Ø±Ø´ Ø±Ùˆ Ù…ÛŒØ§Ø¯ `true` Ùˆ `false` Ù…ÛŒ Ú©Ù†Ù‡ . 

```javascript
  const [authUser, setAuthUser] = useState(true);
```

Ø¨Ø§ ØªÙˆØ¬Ù‡ Ø¨Ù‡ Ø§ÛŒÙ†Ú©Ù‡ `user` Ù„Ø§Ú¯ÛŒÙ† Ù‡Ø³Øª ÛŒØ§ Ø®ÛŒØ± . 

```javascript
  const CheckingUser = () => {
    if (!userInfoOnline.username) {
      setAuthUser(false);
      // navigate("/login");
    } else {
      setAuthUser(true);
    }
  };
```
Ø¯Ø± ØµÙˆØ±ØªÛŒ Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ù…Ø§ Ø¯Ø±ÙˆÙ† `state global userInfoOnline` Ù†Ø¨Ø§Ø´Ù‡ . 

Ù…ÛŒØ§Ø¯ `state` Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ `auth user` Ø±Ùˆ `false` Ù…ÛŒ Ú©Ù†Ù‡ . 

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ø§Ú¯Ø± Ú©Ù‡ `userInfoOnline` Ù…Ù‚Ø¯Ø§Ø± `username` Ø±Ùˆ Ø¯Ø±ÙˆÙ† Ø®ÙˆØ¯Ø´ Ø¯Ø§Ø´Øª Ù…ÛŒØ§Ø¯  `auth user` Ø±Ùˆ `true` Ù…ÛŒ Ú©Ù†Ù‡ . 

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ `return` Ø²ÛŒØ± Ø±Ùˆ Ø¯Ø±ÙˆÙ† `UserCheckingLogin` Ø¯Ø§Ø±ÛŒÙ… . 

Ú©Ù‡ Ú¯ÙØªÛŒÙ… Ø§Ú¯Ø± ` state authUser`  Ù…Ù‚Ø¯Ø§Ø±Ø´ `true` Ø¨ÙˆØ¯ . 

Ø¨ÛŒØ§Ø¯ ÛŒÚ© `children` Ø±Ùˆ `return` Ú©Ù†Ù‡ . 

Ú©Ù‡ Ø§ÛŒÙ† `children` Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ú©Ø§Ù…Ù¾ÙˆÙ†Øª ÛŒØ§ ØµØ­ÙÙ‡ Ù…Ø¯ Ù†Ø¸Ø± Ù…Ø§ Ù‡Ø³Øª 

Ú©Ù‡ Ø¯Ø± ØµÙˆØ±Øª Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ù„Ø§Ú¯ÛŒÙ† Ø¨ÙˆØ¯ Ø¨Ù‡ Ø§ÛŒÙ† Ú©Ø§Ù…Ù¾ÙˆÙ†Øª ÛŒØ§ ØµØ­ÙÙ‡ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù‡ . 

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ø§Ú¯Ø± Ú©Ù‡ `state authUser` Ù…Ù‚Ø¯Ø§Ø±Ø´ `false` Ø¨ÙˆØ¯ ÛŒÚ© Ø¨Ø§Ú©Ø³ Ø±Ùˆ Ù†Ù…Ø§ÛŒØ´ Ø¨Ø¯Ù‡ .

Ú©Ù‡ Ø§ÛŒÙ† Ø¨Ø§Ú©Ø´ Ø­Ø§ÙˆÛŒ Ù„ÛŒÙ†Ú© Ù‡Ø§ÛŒ Ø¨Ø±Ø§ÛŒ Ø«Ø¨Øª Ù†Ø§Ù… Ú©Ø±Ø¯Ù† Ùˆ Ù„Ø§Ú¯ÛŒÙ† Ú©Ø±Ø¯Ù† Ùˆ Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ ØµØ­ÙÙ‡ Ø§ØµÙ„ÛŒ Ù‡Ø³Øª ÛŒØ§ Ù‡Ù…ÙˆÙ† `home page`.

```javascript
  return (
    <>
      {authUser ? (
        children
      ) : (
        <section className="text-center">
          <div>
            <h1>you are not access this page first login ğŸ˜‰</h1>
          </div>
          <div className="p-1 m-1  flex justify-center">
            <Button
              className="p-2 m-3 w-[220px] text-lg border border-gray-300 rounded-lg bg-blue-400 text-white"
              onClick={navigateToLogin}
              text="you have account login here"
              icon=""
            ></Button>
            <Button
              text="register account here"
              className="p-2 m-3 w-[220px] text-lg border border-gray-300 rounded-lg bg-blue-400 text-white"
              onClick={navigateToRegister}
              icon=""
            ></Button>
            <Button
              className="flex justify-center items-center p-2 m-3 w-[220px] text-lg border border-gray-300 rounded-lg bg-blue-400 text-white"
              text={`back to home page `}
              onClick={navigateToHome}
              icon={<AiFillHome />}
            ></Button>
          </div>
        </section>
      )}
    </>
  );
```

Ø®Ø¨ Ø¨Ø±Ú¯Ø±Ø¯ÛŒÙ… Ø¨Ù‡ ØµØ­ÙÙ‡ `Panel.tsx` . 

Ø®Ø¨ Ø§Ù„Ø§Ù† `UserCheckingLogin` Ú©Ù‡ Ø³Ø§Ø®ØªÛŒÙ… Ø¯Ø± Ú©Ø§Ù…Ù¾ÙˆÙ†Øª `Panel` Ù…ÛŒØ§ÛŒÙ… Ø§Ø²Ø´ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†Ù… . 

```javascript
import UserCheckingLogin from "../../hooks/UserCheckingLogin";
```
Ø­Ø§Ù„Ø§ ØªÙ…Ø§Ù…ÛŒ Ú©Ø§Ù…Ù¾ÙˆÙ†Øª `Panel` Ø±Ùˆ Ù…ÛŒØ§ÛŒÙ… Ø¯Ø±ÙˆÙ† `UserCheckingLogin` Ù‚Ø±Ø§Ø± Ù…ÛŒØ¯ÛŒÙ… . 

```javascript
  return (
    <div>
      <UserCheckingLogin>
        <h1>Panel</h1>
      </UserCheckingLogin>
    </div>
  );
```

Ø§Ù„Ø§Ù† Ú©Ø§Ø±Ø¨Ø± Ø²Ù…Ø§Ù†ÛŒ Ù…ÛŒ ØªÙˆÙ†Ù‡ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù‡ Ú©Ù‡ ØµØ±ÙØ§ `login` Ø¨Ø§Ø´Ù‡ . 

Ø¯Ø± ØºÛŒØ± Ø§ÛŒÙ†ØµÙˆØ±Øª Ø¨Ø§Ú©Ø³ÛŒ Ú©Ù‡ Ø¯Ø± `UserCheckingLogin` Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯Ù‡ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒØ´Ù‡ . 
### takeUserPost in panel

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ ÙØ§Ù†Ú©Ø´Ù† `takeUserPost` Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ù…ÛŒØ§Ø¯ `api` Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ú¯Ø±ÙØªÙ† Ù¾Ø³Øª Ù‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ `login` Ù‡Ø³Øª Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯Ù‡ . 

Ú©Ù‡ Ø§Ù„Ø¨ØªÙ‡ ÙØ§Ù†Ú©Ø´Ù† `api` Ø§Ø² Ù‚Ø¨Ù„ `import` Ø´Ø¯Ù‡ . 

```javascript
import { deleteUserPost, userPost } from "../../api/post";
```

```javascript
 const takeUserPost = async () => {
    const response: {} | any = await userPost();
    console.log(response);
    setUserPosts(response?.data);
  };
```
Ø§Ø² Ø§ÛŒÙ†Ø¬Ù‡Øª Ú©Ù‡ Ù…Ù…Ú©Ù†Ù‡ Ø¨Ø¹Ø¯Ø§ Ø¨Ù‡ Ø§ÛŒÙ† Ø¯ÛŒØªØ§ Ø¨Ø®ÙˆØ§ÛŒÙ… Ø¯Ø³ØªØ±Ø³ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… Ø¯Ø±ÙˆÙ† ÛŒÚ© `state global` Ø§Ù…Ø¯ÛŒÙ… Ø°Ø®ÛŒØ±Ù‡ Ø§Ø´ Ú©Ø±Ø¯ÛŒÙ… Ø¯Ø±ÙˆÙ† `context` . 


```javascript
import { useGlobalContext } from "../../context/context";

```

```javascript
  const { setUserPosts, userPosts } = useGlobalContext();
```

Ø¯Ø±ÙˆÙ† ÙØ§Ù†Ø´Ú©Ù† `takeUserPost` Ø§Ù…Ø¯ÛŒÙ… `state userPosts` Ú©Ù‡ Ú¯Ù„ÙˆØ¨Ø§Ù„ Ù‡Ø³Øª Ø±Ùˆ ØµØ¯Ø§ Ø²Ø¯ÛŒÙ… . 

Ùˆ Ø¯ÛŒØªØ§ÛŒ Ú©Ù‡ Ù…ÛŒÚ¯ÛŒØ±ÛŒÙ… Ø±Ùˆ Ø°Ø®ÛŒØ±Ù‡ Ú©Ø±Ø¯ÛŒÙ… . 


```javascript
    setUserPosts(response?.data);
```
ÙØ§Ù†Ú©Ø´Ù† `takeUserPost` Ø±Ùˆ Ø¯Ø±ÙˆÙ† ÛŒÚ© `useEffect` ØµØ¯Ø§ Ø²Ø¯ÛŒÙ… ØªØ§ Ø¨Ù‡ Ù…Ø­Ø¶ Ø§ÛŒÙ†Ú©Ù‡ Ø§ÛŒÙ† Ú©Ø§Ù…Ù¾ÙˆÙ†Øª ÛŒØ§ ØµØ­ÙÙ‡ `panel` Ø±Ù†Ø¯Ø± Ø´Ø¯ . 

Ø¨ÛŒØ§Ø¯ ÙØ§Ù†Ø´Ú©Ù† `takeUserPost` Ø±Ùˆ Ø§Ø¬Ø±Ø§ Ú©Ù†Ù‡ Ùˆ Ù…Ø§ Ø¯ÛŒØªØ§Ø±Ùˆ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… . 

```javascript
  useEffect(() => {
    takeUserPost();
  }, []);
```

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ `return` Ø²ÛŒØ± Ø±Ùˆ Ø¯Ø±ÙˆÙ† `Panel.tsx` Ø¯Ø§Ø±ÛŒÙ… . 

Ú©Ù‡ Ú¯ÙØªÛŒÙ… Ø§Ú¯Ø± `userPosts` Ø¨ÙˆØ¯ Ø¯Ø± ÙˆØ§Ù‚Ø¹ `state global` Ú©Ù‡ Ø¯ÛŒØªØ§ Ø±Ùˆ Ø¯Ø§Ø±Ù‡ Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒ Ú©Ù†Ù‡ . 


```javascript
  {userPosts?.length > 0 &&
```

Ø§Ú¯Ø± Ú©Ù‡ `length` Ø¨Ø²Ø±Ú¯ ØªØ± Ø§Ø² 0 Ø¨ÙˆØ¯ Ø¨ÛŒØ§Ø¯ Ø¯ÛŒØªØ§Ø±Ùˆ `map` Ú©Ù†Ù‡ Ùˆ Ù†Ù…Ø§ÛŒØ´ Ø¨Ø¯Ù‡ . 


```javascript
    {userPosts?.length > 0 &&
          userPosts.map((post: userPostType) => {
            return (
              <section
                key={post._id}
                className=" flex flex-col justify-center items-center   w-[100%]"
              >
```

Ú¯ÙØªÛŒÙ… Ú©Ù‡ ØªÙ…Ø§ÛŒ Ú©Ø§Ù…Ù¾ÙˆÙ†Øª `Panel.tsx` Ø¯Ø±ÙˆÙ† `UserCheckingLogin` Ù‚Ø±Ø§Ø± Ú¯Ø±ÙØªÙ‡ . 

Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ `UserCheckingLogin` Ú†Ú© Ù…ÛŒ Ú©Ù†Ù‡ Ú©Ù‡ Ø§ÛŒØ§ Ú©Ø§Ø±Ø¨Ø± `login`  Ù‡Ø³Øª ÛŒØ§ Ù†Ù‡ Ø§Ú¯Ø± Ú©Ù‡ `login` Ø¨ÙˆØ¯ Ø¨ØªÙˆÙ†Ù‡ Ø¨Ù‡ `Panel.tsx` Ø¯Ø³ØªØ±Ø³ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù‡ . 
```javascript 
  return (
    <div>
      <UserCheckingLogin>
        <h1>Panel</h1>

        <Link to="/createpost">Create Post</Link>
        {userPosts?.length > 0 &&
          userPosts.map((post: userPostType) => {
            return (
              <section
                key={post._id}
                className=" flex flex-col justify-center items-center   w-[100%]"
              >
                <div className="border w-[100%] md:w-[80%] mt-3 ">
                  <section>
                    <div className="flex justify-around  items-center p-2 m-3 md:relative">
                      <figure className="md:w-[15%] flex justify-center">
                        <img
                          src={post.cover}
                          alt={post.title}
                          className="w-[50px] h-[50px] rounded-full"
                        />
                      </figure>
                      <p className="md:w-[15%] text-center">{post.title}</p>

                      <p className="md:w-[15%] text-center">
                        {format(new Date(post.createdAt), "yyyy-MM-dd")}
                      </p>
                      {/* Buttons in tablet scope */}
                      <div className="  hidden md:flex  justify-evenly ml-[50px] w-[fit-content]   items-center ">
                        {toast && (
                          <Toast
                            text="  your post is delete ğŸ‘€ "
                            toast={toast}
                          />
                        )}
                        <button
                          className="font-semibold m-3 w-[70px] h-[25px] flex justify-center items-center  bg-red-300 p-3 rounded-[5px]"
                          type="button"
                          onClick={() => {
                            deletePostUser(post._id);
                          }}
                        >
                          delete
                        </button>
                        <Link
                          to={`/editpost/${post._id}`}
                          className="m-3  font-semibold bg-green-300 p-3 rounded-[5px] w-[70px] h-[25px] flex justify-center items-center"
                        >
                          edit
                        </Link>
                        <button className="m-3 font-semibold bg-blue-300 p-3 rounded-[5px] w-[70px] h-[25px] flex justify-center items-center">
                          priview
                        </button>
                      </div>
                    </div>
                    {/* Buttons in mobile scope */}
                    <div className="flex md:hidden justify-around items-center p-2 m-3">
                      <button
                        className="font-semibold m-3 w-[70px] h-[25px] flex justify-center items-center  bg-red-300 p-3 rounded-[5px]"
                        type="button"
                        onClick={() => {
                          deletePostUser(post._id);
                        }}
                      >
                        delete
                      </button>
                      <button className="m-3  font-semibold bg-green-300 p-3 rounded-[5px] w-[70px] h-[25px] flex justify-center items-center">
                        edit
                      </button>
                      <button className="m-3 font-semibold bg-blue-300 p-3 rounded-[5px] w-[70px] h-[25px] flex justify-center items-center">
                        preview
                      </button>
                    </div>
                  </section>
                </div>
              </section>
            );
          })}
      </UserCheckingLogin>
    </div>
  );
```

Ø¯Ø±ÙˆÙ† `return` ÛŒÚ© Ù„ÛŒÙ†Ú¯ Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ ÙˆØ§Ø±Ø¯ ØµØ­ÙÙ‡ `createPost` Ù…ÛŒØ´Ù‡ . 

```javascript
<Link to="/createpost">Create Post</Link>
```

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ ÛŒÚ© `Link` Ø¨Ø±Ø§ÛŒ `edit` Ú©Ø±Ø¯Ù† Ù¾Ø³Øª Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ ÙˆØ§Ø±Ø¯ ØµØ­ÙÙ‡ `edit` Ù…ÛŒØ´Ù‡ . 

```javascript
<Link to={`/editpost/${post._id}`}>edit</Link>
```

Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± ÛŒÚ© `button` Ø¯Ø§Ø±ÛŒÙ… Ø¨Ø±Ø§ÛŒ `delete` Ø´Ø¯Ù† Ù¾Ø³Øª . 

Ú©Ù‡ ÙØ§Ù†Ú©Ø´Ù† `deletePostUser` Ø±Ùˆ Ø¯Ø±ÙˆÙ† Ø®ÙˆØ¯Ø´ Ø§Ø¬Ø±Ø§ Ù…ÛŒ Ú©Ù†Ù‡ Ùˆ `id` Ù¾Ø³Øª Ø±Ùˆ Ù…ÛŒÚ¯ÛŒØ±Ù‡ .
```javasript
 <button type="button"
onClick={() => {
 deletePostUser(post._id);
 }}
>
 delete </button>
```

### deletePostUser in panel.tsx

Ø¯Ø±ÙˆÙ† ÙØ§Ù†Ú©Ø´Ù† `deletePostUser` Ù…ÛŒØ§ÛŒÙ… Ø§ÙˆÙ„ `api` Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ `delete` Ø´Ø¯Ù† Ø±Ùˆ ØµØ¯Ø§ Ù…ÛŒ Ø²Ù†ÛŒÙ… . 

Ø§ÛŒÙ† `api` ÛŒÚ© `response` Ø¨Ù‡ Ù…Ø§ Ø¨Ø±Ú¯Ø´Øª Ù…ÛŒØ¯Ù‡ .

Ú©Ù‡ Ú¯ÙØªÛŒÙ… Ø§Ú¯Ø± `response.status` Ø¨Ø±Ø§Ø¨Ø± Ø¨Ø§ `200` Ø¨ÙˆØ¯ . 

Ø¨ÛŒØ§Ø¯ `state userPosts` Ø±Ùˆ `filter` Ú©Ù†Ù‡ Ø¨Ø± Ø§Ø³Ø§Ø³ `id` Ú©Ù‡ Ø¯Ø±ÙˆÙ† `map` Ø¨Ù‡ ÙØ§Ù†Ú©Ø´Ù† `deletePostUser` Ù¾Ø§Ø³ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡ .

Ù…Ù‚Ø¯Ø§Ø± `filter` Ø´Ø¯Ù‡ Ú©Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ù¾Ø³ØªÛŒ Ù‡Ø³Øª Ú©Ù‡ Ø­Ø°Ù Ø´Ø¯Ù‡ . Ø¯Ø±ÙˆÙ† ÛŒÚ© Ù…ØªØºÛŒÛŒØ± Ø¨Ù‡ Ø§Ø³Ù…`newUserPosts` Ù‚Ø±Ø§Ø± Ù…ÛŒÚ¯ÛŒØ±Ù‡ . 


```javascript
  const deletePostUser = async (id: string) => {
    const response: {} | any = await deleteUserPost(id);
    console.log("response delete post", response);
    if (response?.status === 200) {
      const newUserPosts = userPosts.filter((post: any) => post._id !== id);
      console.log("newUserPosts", newUserPosts);
      setUserPosts(newUserPosts);
      setToast(true);
      setTimeout(() => {
        setToast(false);
      }, 3000);
    }
  };
```
Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ `state POsts` Ú©Ù‡ ÛŒÚ© `state global` Ù‡Ø³Øª Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ù…ÛŒØ§Ø¯ Ø³Øª Ù…ÛŒØ´Ù‡ . 
```javascript
    if (response?.status === 200) {
      const newUserPosts = userPosts.filter((post: any) => post._id !== id);
      console.log("newUserPosts", newUserPosts);
      setUserPosts(newUserPosts);
      setToast(true);
    }
```

```javascript
      setUserPosts(newUserPosts);

```

Ø¨Ø¹Ø¯ Ø§Ø² `delete` Ù…ÛŒØ§ÛŒÙ… Ú©Ø§Ù…Ù¾ÙˆÙ†Øª `toast` Ø±Ùˆ Ù†Ø´ÙˆÙ† Ù…ÛŒØ¯ÛŒÙ… 

Ø¯Ø±ÙˆÙ† `if` ÛŒÚ© `setTimeout` Ù‡Ø³Øª Ú©Ù‡ Ù…ÛŒØ§Ø¯ Ø§ÛŒÙ†Ú©Ø§Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯Ù‡ .

Ù…Ø¨Ù†ÛŒ Ø¨Ø± Ø§ÛŒÙ†Ú©Ù‡ `post` Ø´Ù…Ø§ `delete` Ø´Ø¯Ù‡ . 

```javascript
      setTimeout(() => {
        setToast(false);
      }, 3000);
    }
```

ÛŒÙ‡ Ø¨Ø§Ø± Ø¯ÛŒÚ¯Ù‡ Ø¨ÛŒØ§ÛŒÙ… Ú©Ù„ ÙØ§Ù†Ú©Ø´Ù† `deletePostUser` Ø±Ùˆ Ù†Ú¯Ø§Ù‡ Ú©Ù†ÛŒÙ… . 

```javascript

```javascript
  const deletePostUser = async (id: string) => {
    const response: {} | any = await deleteUserPost(id);
    console.log("response delete post", response);
    if (response?.status === 200) {
      const newUserPosts = userPosts.filter((post: any) => post._id !== id);
      console.log("newUserPosts", newUserPosts);
      setUserPosts(newUserPosts);
      setToast(true);
      setTimeout(() => {
        setToast(false);
      }, 3000);
    }
  };
```
```



# Server 

Ù‡Ù…ÙˆÙ†Ø·ÙˆØ± Ú©Ù‡ Ø§Ø´Ø§Ø±Ù‡ Ø´Ø¯ Ù¾Ø±ÙˆÚ˜Ù‡ `blog` ÛŒÚ© Ù¾Ø±ÙˆÚ˜Ù‡ ÙÙˆÙ„ Ø§Ø³ØªÚ© Ù‡Ø³Øª . 

Ø¨Ú© Ø§Ù†Ø¯ Ù¾Ø±ÙˆÚ˜Ù‡ Ø¨Ø§ nodejs + expressjs Ùˆ mongodb Ø²Ø¯Ù‡ Ø´Ø¯Ù‡ . 

Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¨ØªÙˆÙ†ÛŒÙ… Ù¾Ø±ÙˆÚ˜Ù‡ Ø±Ùˆ Ú©Ø§Ù…Ù„ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… Ù†ÛŒØ§Ø² Ù‡Ø³Øª Ú©Ù‡ ÙØ§ÛŒÙ„ Ø³Ø±ÙˆØ± Ù‡Ù… Ø¯Ø± Ú©Ù†Ø§Ø± ÙØ§ÛŒÙ„ client Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… . 

Ùˆ Ù‡Ø± Ø¯Ùˆ Ø±Ùˆ Ø±Ø§Ù† Ú©Ù†ÛŒÙ…  . 



# Run Clinet & Server 

Ø¨Ø±Ø§ÛŒ client Ø§Ø² Ø¯Ø³ØªÙˆØ± : 

```bash
npm i 
npm run dev
```

Ø¨Ø±Ø§ÛŒ server Ø§Ø² Ø¯Ø³ØªÙˆØ± : 

```bash
npm i 
nodemon 
```

or 

```bash
node index.js
```

Ù¾Ú©ÛŒØ¬ `nodemon` Ø¨Ù‡ Ù…Ø§ Ú©Ù…Ú© Ù…ÛŒ Ú©Ù†Ù‡ Ø³Ø±ÙˆØ± Ø±Ùˆ Ø¨Ù‡ ØµÙˆØ±Øª `live` Ø±Ø§Ù† Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… . 

Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ù…Ø«Ù„ `live server` Ø³Ù…Øª `client` Ù…ÛŒ Ù…ÙˆÙ†Ù‡ . 

Ú©Ù‡ Ø­ØªÙ…Ø§ Ù†ÛŒØ§Ø² Ù‡Ø³Øª nodejs Ø±ÙˆÛŒ Ø³ÛŒØ³ØªÙ… Ù†ØµØ¨ Ùˆ ÙˆØ±Ú˜Ù† 16 Ø¨Ù‡ Ø¨Ø§Ù„Ø§ Ø¨Ø§Ø´Ù‡ . 

Ø¨Ø±Ø§ÛŒ Ø¯ÙˆØ³Ù†ØªÙ† ÙˆØ±Ú˜Ù† nodejs Ú©Ø§ÙÛŒÙ‡ `command prompet` Ø±Ùˆ Ø¨Ø§Ø² Ú©Ù†ÛŒØ¯ . 

Ø¯Ø³ØªÙˆØ± : 

```bash
node -v 
```

Ø±Ùˆ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ Ø§Ú¯Ø± nodejs Ù†ØµØ¨ Ø¨Ø§Ø´Ù‡ ÙˆØ±Ú˜Ù† nodejs Ø±Ùˆ Ù†Ù…Ø§ÛŒØ´ Ù…ÛŒØ¯Ù‡ . 

Ø¨Ø±ÛŒÙ… Ø³Ø±Ø§Øº Ø³Ø§Ø®Øª Ø³Ø±ÙˆØ± : 

Ø¨Ø¹Ø¯ Ø§Ø² Ø²Ø¯Ù† Ø¯Ø³ØªÙˆØ§Ø±Øª Ø§ÙˆÙ„Ù‡ npm i . 


Ùˆ Ø³Ø§Ø®Øª package.json : 

![image](https://github.com/mosenn/MERN/assets/91747908/4645db0b-8c5b-493b-ad3b-f72bee1a6078)


Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯Ø±ÙˆÙ† package.json Ú©Ù‡ Ø¯Ø±ÙˆÙ† dependencies Ù¾Ú©ÛŒØ¬ Ù‡Ø§ÛŒ Ú©Ù‡ Ø¨Ø±Ø§ÛŒ server Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡ Ù…ÛŒ Ø¨ÛŒÙ†ÛŒÙ… . 
```json
{
  "name": "server",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "author": "",
  "license": "ISC",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "body-parser": "^1.20.2",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.1.4",
    "express": "^4.18.2",
    "jsonwebtoken": "^9.0.0",
    "mongoose": "^7.2.3",
    "yup": "^1.2.0"
  }
}
```


ÛŒÚ© ÙØ§ÛŒÙ„ Ø¨Ù‡ Ø§Ø³Ù… index.js Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

<img src='https://github.com/mosenn/MERN/assets/91747908/1ca859d0-8c6c-4c54-8bb4-8af3414a1fb8' alt ='index.js in express'/>

Ú©Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ ÙØ§ÛŒÙ„ Ø§ØµÙ„ÛŒ `server` Ø­Ø³Ø§Ø¨  Ù…ÛŒØ´Ù‡ . 

Ùˆ ØªÙ…Ø§Ù…ÛŒ module Ù‡Ø§ÛŒ Ø¯ÛŒÚ¯Ù‡ Ø¯Ø±ÙˆÙ† index.js Ø¯Ø± Ù†Ù‡Ø§ÛŒØª import Ù…ÛŒØ´Ù‡ . 

Ú†ÙˆÙ† Ø¯Ø± Ú©Ù„ ÛŒÚ© ÙØ§ÛŒÙ„ Ø³Ù…Øª server Ù…Ø§ run Ù…ÛŒØ´Ù‡ Ùˆ Ø§ÙˆÙ†Ù… index.js Ù‡Ø³Øª . 


# Server Packages : 

### cors 

Ù¾Ú©ÛŒØ¬ `cors`  Ø¯Ø± ÙˆØ§Ù‚Ø¹ cors policy Ø±Ùˆ Ú©Ù†ØªØ±Ù„ Ù…ÛŒ Ú©Ù†Ù‡ Ú©Ù‡ Ú†Ù‡ Ø§Ø¯Ø±Ø³ÛŒ Ù…ÛŒ ØªÙˆÙ†Ù‡ Ø¨Ù‡ Ø³Ø±ÙˆØ± Ø¯Ø³ØªØ±Ø³ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù‡ . 

Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± ÛŒÚ© Ø³Ø±ÛŒ option Ø¯Ø§Ø±Ù‡ Ú©Ù‡ Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… set Ú©Ù†ÛŒÙ… . Ú©Ù‡ Ø¬Ù„Ùˆ ØªØ± Ø¨Ø§ `credentials` Ø§Ø´Ù†Ø§ Ù…ÛŒØ´ÛŒÙ… . 

### bcryptjs

Ø¨Ø±Ø§ÛŒ Ø±Ù…Ø² Ú¯Ø°Ø§Ø±ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒØ´Ù‡ . 

Ø¨Ø±Ø§ÛŒ Ù…Ø«Ø§Ù„ Ø§Ø² `bcryptjs`  Ø¨Ø±Ø§ÛŒ Ø±Ù…Ø²Ú¯Ø°Ø§Ø±ÛŒ Ø±ÙˆÛŒ Ù¾Ø³ÙˆØ±Ø¯ Ú©Ø§Ø±Ø¨Ø± Ø§Ø²Ø´ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡ . 


### body-parser 

Ú©Ù…Ú© Ù…ÛŒ Ú©Ù†Ù‡ Ú©Ù‡ Ø¨Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯Ø±ÙˆÙ† `body` Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `req` Ø¯Ø³ØªØ±Ø³ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… . 

Ø¨Ø±Ø§ÛŒ  `HTTP REQUSET` Ù…ØªØ¯ Ù‡Ø§ÛŒ  `post , put , patch` Ú©Ù…Ú© Ù…ÛŒ Ú©Ù†Ù‡ Ú©Ù‡ Ø¨Ù‡ `req` Ø¯Ø³ØªØ±Ø³ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… . 


### cookie-parser 

Ø¨Ø±Ø§ÛŒ set Ú©Ø±Ø¯Ù† `cookie` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒØ´Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… cookie Ø³Ù…Øª Ø³Ø±ÙˆØ± set Ú©Ù†ÛŒÙ… Ùˆ Ø¨Ø®ÙˆÙ†ÛŒÙ… . 

Ø¯Ø± ÙˆØ§Ù‚Ø¹ ÛŒÚ© `middelware` Ù‡Ø³Øª `cookie-parser` Ú©Ù…Ú© Ù…ÛŒ Ú©Ù†Ù‡ `cookie` Ø³Ù…Øª `server` Ø®ÙˆÙ†Ø¯Ù‡ Ø´Ù‡ . 

Ùˆ Ø§Ú¯Ø± Ù†ÛŒØ§Ø² Ø¨ÙˆØ¯ Ø¨Ù‡ Ø³Ù…Øª `client` Ø§Ø±Ø³Ø§Ù„ Ø´Ù‡ Ø¨Ù‡ ØµÙˆØ±Øª ÛŒÚ© `object`
### dotenv

Ø¨Ø±Ø§ÛŒ set Ú©Ø±Ø¯Ù† ÙØ§ÛŒÙ„ env Ø§Ø²Ø´ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

### expressjs 

Ù¾Ú©ÛŒØ¬ `expressjs` Ø¯Ø± ÙˆØ§Ù‚Ø¹ ÛŒÚ© `framework` Ù‡Ø³Øª Ú©Ù‡ Ú©Ø§Ø± Ø±Ùˆ Ø¨Ø±Ø§ÛŒ Ú©Ø¯ Ù†ÙˆÛŒØ³ÛŒ `server` ÙØ±Ø§Ù‡Ù… Ù…ÛŒ Ú©Ù†Ù‡ . 

### jsonwebtoken 

Ù¾Ú©ÛŒØ¬ `jsonwebtoken` Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®Øª `token` Ø§Ø²Ø´ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒØ´Ù‡ . 

Ú©Ù‡ `token` Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ Ù…ÛŒ ØªÙˆÙ†Ù‡ Ø­Ø§ÙˆÛŒ ÛŒÚ© Ø³Ø±ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø§Ø´Ù‡ . 

Ø¨Ø±Ø§ÛŒ `Authentication` Ùˆ `Authorization` Ø§Ø²Ø´ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒØ´Ù‡ .


### mongoose 


Ù¾Ú©ÛŒØ¬ `mongoose` Ø¨Ù‡ Ù…Ø§ Ú©Ù…Ú© Ù…ÛŒ Ú©Ù†Ù‡ ØªØ§ Ø¨Ù‡ØªØ± Ø¨ØªÙˆÙ†ÛŒÙ… Ø¨Ø§ `mongodb` Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ú¯ÛŒØ±ÛŒÙ… Ùˆ Ø§Ø²Ø´ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… .


### yup 

Ù¾Ú©ÛŒØ¬ `yup`  Ø¨Ø±Ø§ÛŒ Ø§Ø¹ØªØ¨Ø§Ø± Ø³Ù†Ø¬ÛŒ Ø³Ù…Øª `server` Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… Ø§Ø²Ø´ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… . 

Ø¨Ø±Ø§ÛŒ `validation` Ú©Ø±Ø¯Ù† Ø§Ø·Ù„Ø§Ø¹Ø§ØªÛŒ Ú©Ù‡ Ù‚Ø±Ø§Ø± Ù‡Ø³Øª Ø§Ø±Ø³Ø§Ù„ Ø´Ù‡ Ø³Ù…Øª `data base` . 


Ø¨Ø¹Ø¯ Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ Ù¾Ú©ÛŒØ¬ Ù‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø² Ø±Ùˆ Ù†ØµØ¨ Ø´Ø¯ . 

Ø§Ú¯Ø± Ú©Ù‡ Ù¾Ø±ÙˆÚ˜Ù‡ Ø±Ùˆ `clone` Ú©Ù†ÛŒØ¯ Ø¨Ø§ Ø¯Ø³ØªÙˆØ± `npm i` Ù…ÛŒ ØªÙˆÙ†ÛŒØ¯ ØªÙ…Ø§Ù…ÛŒ Ù¾Ú©ÛŒØ¬ Ù‡Ø§ Ø±Ùˆ Ù†ØµØ¨ Ú©Ù†ÛŒØ¯ . 

Ù†ÙˆØ¨Øª Ø¨Ù‡ Ø³Ø§Ø®Øª Ùˆ Ø§ÛŒØ¬Ø§Ø¯ `server` Ù…ÛŒ Ø±Ø³Ù‡ . 

# Create Server


# Index.js File

Ø¯Ø±ÙˆÙ† ÙØ§ÛŒÙ„ `index.js` Ø§ÙˆÙ„ Ù…ÛŒØ§ÛŒÙ… Ù¾Ú©ÛŒØ¬ Ù‡Ø§ÛŒ Ù…ÙˆØ²Ø¯ Ù†ÛŒØ§Ø² Ø±Ùˆ `require`  Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

**Ù†Ú©ØªÙ‡** : Ø¯Ø± Ø§ÛŒÙ† Ù¾Ø±ÙˆÚ˜Ù‡ Ø§Ø² `commonjs` Ø§Ø³ØªÙØ§Ø¯ Ù‡Ø´Ø¯Ù‡ Ø¨Ù‡ Ø¬Ø§ÛŒ `es6` 


```javascript
const express = require("express");
const cors = require("cors");
const bodyParser = require("body-parser");
const cookieParser = require("cookie-parser");
const connectToDb = require("./connection/db");
require("dotenv").config({ path: "./config.env" });
```

Ø¨Ø¹Ø¶ÛŒ Ø§Ø² Ù¾Ú©ÛŒØ¬ Ù‡Ø§ Ø±Ùˆ Ù…ÛŒ Ø¨Ù†ÛŒØ¯ Ú©Ù‡ require Ø´Ø¯Ù‡ Ø¯Ø±ÙˆÙ† ÙØ§ÛŒÙ„ index.js . 

Ù¾Ú©ÛŒØ¬ Ù‡Ø§ÛŒ Ú©Ù‡ Ù†ÛŒØ³ØªÙ†Ø¯ Ø¯Ø± module Ø¯ÛŒÚ¯Ù‡ Ø§ÛŒ Ø§Ø²Ø´ÙˆÙ† Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡ . 


**Ù†Ú©ØªÙ‡** : Ù‡Ø± ÙØ§ÛŒÙ„ js Ø¯Ø± ÙˆØ§Ù‚Ø¹ ÛŒÚ© module Ù‡Ø³Øª . 

ÛŒÚ© Ù…ØªÙÛŒØ± `connectToDb` Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ú©Ø§Ø± Ù…ØªØµÙ„ Ø´Ø¯Ù† Ø¨Ù‡ Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ Ø±Ùˆ Ø¨Ø±Ø§ÛŒ Ù…Ø§ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯Ù‡ . 
```javascript
const connectToDb = require("./connection/db");
```

Ú©Ù‡ Ø¯Ø± Ø§ÛŒÙ†Ø¯Ù‡ ØªÙˆØ¶ÛŒØ­ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒØ´Ù‡ Ù†Ø­ÙˆÙ‡ Ø§ØªØµØ§Ù„ Ø¨Ù‡ `data base`

Ø¯Ø± Ø§ÛŒÙ† Ù¾Ø±ÙˆÚ˜Ù‡ Ø§Ø² `mongodb atlas` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡ . 

Ú©Ù‡ `mongodb atlas` Ø¯Ø± ÙˆØ§Ù‚Ø¹ ÛŒÚ© `data base` Ø§Ù†Ù„Ø§ÛŒÙ† `mongodb` Ù‡Ø³ØªØ´ . 

Ùˆ Ø¨Ø¯ÙˆÙ† Ù†ØµØ¨ `mongodb` Ø±ÙˆÛŒ Ø³ÛŒØ³ØªÙ… Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… Ø§Ø² `mongodb atlas` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… . 

 Ú©Ù‡ Ø§Ù„Ø¨ØªÙ‡ Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ø­ØªÙ…Ø§ Ø¯Ø±ÙˆÙ†Ø´ ÛŒÚ© Ø§Ú©Ø§Ù†Øª Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÛŒÙ… Ùˆ Ù…Ø±Ø§Ø­Ù„ Ø³Ø§Ø®Øª `data base` Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ø¨Ø¯ÛŒÙ… . 


Ù…ÙˆØ±Ø¯ Ø¨Ø¹Ø¯ÛŒ Ú©Ù‡ Ú©Ù…ÛŒ Ø¨Ø§ Ø¨Ù‚ÛŒÙ‡ Ù…ØªÙØ§ÙˆØª Ù‡Ø³Øª `dotEnv` Ù‡Ø³Øª . 

```javascript
require("dotenv").config({ path: "./config.env" });
```

Ú©Ù‡ Ø§ÛŒÙ† `dotenv` Ø¨Ø±Ø§ÛŒ Ø®ÙˆÙ†Ø¯Ù† ÙØ§ÛŒÙ„ `env`   Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒØ´Ù‡   

Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªØ¹Ø±ÛŒÙ Ú©Ø±Ø¯Ù† Ù…ØªØºÛŒÛŒØ± Ù†Ø¯Ø§Ø±Ù‡ Ø¨Ù‡ `path` Ù…ÛŒØ§ÛŒÙ… Ø§Ø¯Ø±Ø³ ÙØ§ÛŒÙ„ env Ø®ÙˆØ¯Ù…ÙˆÙ† Ø±Ùˆ ÙˆØ§Ø±Ø¯ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ú©Ù‡ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ø§Ø³Ù… ÙØ§ÛŒÙ„ Ù…Ø§ `config.env` Ù‡Ø³Øª Ùˆ Ø¯Ø±ÙˆÙ† `path` Ø¨Ù‡ Ø§ÛŒÙ† Ø´Ú©Ù„ ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ `{ path: "./config.env" }` Ø¨Ù‡ Ø§Ø¨Ø¬Ú©Øª Ø¨ÙˆØ¯Ù†Ø´ Ø¯Ù‚Øª Ú©Ù†ÛŒØ¯ .


### Define app

Ø¨Ø¹Ø¯ Ø§Ø² import Ù‡Ø§ Ú©Ù‡ ØªÙ…ÙˆÙ… Ø´Ø¯ . Ù…ÛŒØ§ÛŒÙ… Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `expressjs` ÛŒÚ© app ØªØ¹Ø±ÛŒÙ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 


```javascript 
const app = express();
```

Ø§Ù„Ø§Ù† Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… Ø§Ø² `express` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… . 


### middelware use 

Ù‚Ø¯Ù… Ø¨Ø¹Ø¯ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² `use` Ù‡Ø³Øª , ÛŒÚ© Ù…ØªØ¯ Ø¯Ø±ÙˆÙ†ÛŒ `express` Ù‡Ø³Øª Ú©Ù‡ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† ÛŒÚ© `middelware` Ø¹Ù…Ù„ Ù…ÛŒ Ú©Ù†Ù‡ . 

 Ø§Ø¬Ø§Ø²Ù‡ Ù…ÛŒØ¯Ù‡ Ú©Ù‡ Ø¨ØªÙˆÙ†ÛŒÙ… Ø§Ø² HTTP METHOD Ù‡Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `express` 

Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ù‡Ø± Ø¬Ø§ Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ø¨Ù‡ `server` Ø¨Ú¯ÛŒÙ… ÛŒÚ© Ø³Ø±ÛŒ Ú†ÛŒØ² Ù‡Ø§ Ø±Ùˆ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù† . 

Ø§Ø² `use` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

```nodejs 
app.use(bodyParser.json());
app.use(cookieParser());
```


Ø¯Ø± Ú©Ø¯ Ø¨Ø§Ù„Ø§ Ø§Ù…Ø¯ÛŒÙ… Ø§Ø² `parser` Ù‡Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯ÛŒÙ… Ú©Ù‡ ØªÙˆØ¶ÛŒØ­ Ø´ÙˆÙ† Ø±Ùˆ Ú©Ù…ÛŒ Ø¨Ø§Ù„Ø§ ØªØ± Ú¯ÙØªÛŒÙ… . 



### Saving Image In Server 

Ø§Ú¯Ø± Ø¨Ø®ÙˆØ§ÛŒÙ… Ø¹Ú©Ø³ÛŒ Ø±Ùˆ Ø¯Ø±ÙˆÙ† server Ø°Ø®ÛŒØ±Ù‡ Ú©Ù†ÛŒÙ… . Ú©Ù‡ Ù†Ø®ÙˆØ§ÛŒÙ… Ø§Ø² ÛŒÚ© ÙØ¶Ø§ÛŒ Ø¯ÛŒÚ¯Ù‡ Ø¨Ø±Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ø³Ø§Ø²ÛŒ Ø¹Ú©Ø³ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… . 

Ùˆ Ø¨Ø®ÙˆØ§ÛŒÙ… Ø¯Ø±ÙˆÙ† Ø®ÙˆØ¯Ù‡ Ø³Ø±ÙˆØ± Ø§ÛŒÙ†Ú©Ø§Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ø¨Ø¯ÛŒÙ… Ú©Ù‡ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ù†Ù…ÛŒØ´Ù‡ . 

Ø¨Ù‡ Ø¯Ù„ÛŒÙ„ Ø§ÛŒÙ†Ú©Ù‡ Ø­Ø¬Ù… Ø¯ÛŒØªØ§ Ø¨ÛŒØ³ Ùˆ Ø³Ø±ÙˆØ± Ø§ÙØ²Ø§ÛŒØ´ Ù¾ÛŒØ¯Ø§ Ù…ÛŒ Ú©Ù†Ù‡ . Ø§Ù…Ø§ Ø¨Ù‡ Ù‡Ø± Ø­Ø§Ù„ Ù†ÛŒØ§Ø² Ù‡Ø³Øª 

Ú©Ù‡ Ø§Ø² Ù¾Ú©ÛŒØ¬ `multer` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… Ùˆ Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± Ú©Ø¯ Ù‡Ø§ÛŒ Ø²ÛŒØ± Ø±Ùˆ Ø¯Ø±ÙˆÙ† `index.js` Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… . 

```javascript
app.use(bodyParser.json({ limit: "50mb" }));
app.use(bodyParser.urlencoded({ limit: "10mb", extended: true }));
```

Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø¨Ø±Ø§ÛŒ ÙØ§ÛŒÙ„ Ù‡Ø§ÛŒ `json` Ú©Ù‡ Ø³Ù…Øª Ø³Ø±ÙˆØ± Ù…ÛŒØ§Ø¯ ÛŒÚ© `limit` ØªØ¹ÛŒÛŒÙ† Ø´Ø¯Ù‡ . 

Ùˆ Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± Ø¨Ø±Ø§ÛŒ `urlencoded` Ú©Ù‡ Ø¨Ù‡ Ø³Ù…Øª Ø³Ø±ÙˆØ± Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒØ´Ù‡ Ø¨Ø§Ø² ÛŒÚ© `limit` ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ . 

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ø§Ø² `multer` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒØ´Ù‡ Ø¨Ø±Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ø³Ø§Ø²ÛŒ Ùˆ Ø§Ø±Ø³Ø§Ù„ Ø¹Ú©Ø³ Ø¨Ù‡ Ø³Ù…Øª `data base` . 

**ÛŒØ§Ø¯Ø§ÙˆØ±ÛŒ** : Ø¯Ø± Ø§ÛŒÙ† Ù¾Ø±ÙˆÚ˜Ù‡ Ù…Ø§ Ø§Ø² ÛŒÚ© ÙØ¶Ø§ÛŒ `cloud` Ø³Ù…Øª `client` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯ÛŒÙ… . 

Ø§Ø² Ø³Ø§ÛŒØª `cloudinary` , Ú©Ù‡ Ø¹Ú©Ø³ ÙØ±Ø³ØªØ§Ø¯Ù‡ Ø´Ø¯Ù‡ Ø§Ø² Ú©Ø§Ø±Ø¨Ø± Ø±Ùˆ `upload` Ù…ÛŒ Ú©Ù†Ù‡ . 

ÛŒÚ© Ù„ÛŒÙ†Ú© Ø§Ù¾Ù„ÙˆØ¯ Ø¹Ú©Ø³ Ø¨Ø±Ø§ÛŒ Ù…Ø§ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ø±ÛŒØ³Ù¾Ø§Ù†Ø³ Ù…ÛŒØ¯Ù‡ 

Ùˆ `link` Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯Ù‡ Ú©Ù‡ `response api` Ù‡Ø³Øª Ø±Ùˆ Ø¯Ø±ÙˆÙ† `data base` Ø¯Ø®ÛŒØ±Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

**ÛŒØ§Ø¯Ø§ÙˆØ±ÛŒ** : ØªÙ…Ø§Ù…ÛŒ Ù…Ø±Ø§Ø­Ù„ Ú¯ÙØªÙ‡ Ø´Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ø§Ù¾Ù„ÙˆØ¯ Ø¹Ú©Ø³ Ø³Ù…Øª  `client` Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡ . 


Ø¨Ø±ÛŒÙ… Ø³Ø±Ø§Øº Ø§Ø¯Ø§Ù…Ù‡ ÙØ§ÛŒÙ„ `index.js` . 

```nodejs 
app.use(bodyParser.json());
app.use(cookieParser());
```

### define cors 

Ù‚Ø¯Ù… Ø¨Ø¹Ø¯ÛŒ ØªØ¹Ø±ÛŒÙ Ú©Ø±Ø¯Ù† `cors` Ù‡Ø³Øª . 

Ú©Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø§Ø¯Ø±Ø³ Ù‡Ø§ÛŒ Ú©Ù‡ Ù‚Ø±Ø§Ø± Ù‡Ø³Øª Ø¨Ù‡ Ø§ÛŒÙ† server Ø¯Ø³ØªØ±Ø³ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù†Ø¯ . 

Ù…Ø± Ø¨ÙˆØ· Ø¨Ù‡ `cors policy` Ú©Ù‡ Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… ÛŒÚ© ÛŒØ§ Ú†Ù†Ø¯ Ø¯Ø³ØªØ±Ø³ÛŒ Ø§Ø¹Ù…Ø§Ù„ Ú©Ù†ÛŒÙ… . 

Ø§Ù„Ø¨ØªÙ‡ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¨ØªÙˆÙ†ÛŒÙ… Ø¨Ø§ `cookie` Ú©Ø§Ø± Ú©Ù†ÛŒÙ… Ù†ÛŒØ§Ø² Ù‡Ø³Øª `credentials` Ø±Ùˆ Ø±ÙˆÛŒ `true` Ù‚Ø±Ø§Ø± Ø¨Ø¯ÛŒÙ… . 

Ú©Ù‡ ÛŒÚ© option Ù…Ø± Ø¨ÙˆØ· Ø¨Ù‡ `cors` Ù‡Ø³Øª . 

```javascript 
app.use(
  cors({
    credentials: true,
    origin: "http://localhost:5173",
  })
);
```

Ø§Ø² `use` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯ÛŒÙ… Ú©Ù‡ ØªÙˆØ¶ÛŒØ­ Ø¯Ø§Ø¯ÛŒÙ… ÛŒÚ© `method` Ø¯Ø±ÙˆÙ†ÛŒ `express` Ù‡Ø³Øª . 

Ø§Ø² `use` Ø¨Ù‡ Ù…Ú©Ø±Ø± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒØ´Ù‡ . 

### listen 

Ù…Ø± Ø­Ù„Ù‡ Ø¨Ø¹Ø¯ÛŒ Ù†ÙˆØ´ØªÙ† `listen` Ù‡Ø³Øª Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ `server` Ú©Ù‡ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯ÛŒÙ… Ø±ÙˆÛŒ ÛŒÚ© port Ùˆ ÛŒÚ© Ø§Ø¯Ø±Ø³ Ø¨ÛŒØ§Ø¯ `run` Ø´Ù‡ . 

**Ù†Ú©ØªÙ‡** : Ø­ØªÙ…Ø§ Ø¨Ø§ÛŒØ¯ Ø§ÛŒÙ† `listen` ØªØ¹Ø±ÛŒÙ Ø´Ù‡ Ø­ØªÛŒ Ø§Ú¯Ø± Ù…ÛŒ Ø®ÙˆØ§ÛŒÙ… `server` Ø±Ùˆ Ø¨Ø¹Ø¯Ø§ Ø±ÙˆÛŒ `host` Ø¯ÛŒÙ¾Ù„ÙˆÛŒ Ú©Ù†ÛŒÙ… . 

Ø§Ú¯Ø± Ø§ÛŒÙ† Ú©Ø§Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ù†Ø¯ÛŒÙ… ÙˆÙ‚ØªÛŒ Ú©Ù‡ `deploy` Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ´Ù‡ Ø±ÙˆÛŒ `host` Ù¾ÙˆØ±Øª Ø¯ÛŒÙØ§Ù„Øª Ø§ÙˆÙ† `host` Ø±Ùˆ Ù†Ù…ÛŒ ØªÙˆÙ†Ù‡ Ø¨Ø®ÙˆÙ†Ù‡ . 

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª `server` Ù…Ø¯ Ù†Ø¸Ø± Ù…Ø§ Ø¨Ù‡ Ø·ÙˆØ± Ú©Ø§Ù…Ù„ `deploy` Ù†Ù…ÛŒØ´Ù‡ .


```javascript
const port = process.env.PORT || 3010;
app.listen(port, () => {
  console.log(`server is connectin http://localhost:${port}`);
});
```

Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ `port` Ú©Ù‡ ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ Ø¨Ù‡ ØµÙˆØ±Øª `default` Ú¯Ø°Ø§Ø´ØªÛŒÙ… Ø±ÙˆÛŒ 3010 Ùˆ Ø¯Ø± Ù†Ù‡Ø§ÛŒØª ÛŒÚ© Ù…ØªØºÛŒÛŒØ± `env` ØªØ¹Ø±ÛŒÙ Ú©Ø±Ø¯ÛŒÙ… . 

Ú©Ù‡ Ø§Ú¯Ø± `port` Ø¯ÛŒÙØ§Ù„Øª Ú©Ù‡ 3010 Ù‡Ø³Øª Ø§Ø¬Ø±Ø§ Ù†Ø´Ø¯ Ø¨Ø±Ù‡ Ø§Ø² Ø¯Ø§Ø®Ù„   Ù…ØªØºÛŒÛŒØ± `env`  Ù¾ÙˆØ±Øª Ø±Ùˆ Ø¨Ø®ÙˆÙ†Ù‡ . 

Ùˆ Ù…ÙˆÙ‚Ø¹ `deploy` Ú©Ø±Ø¯Ù† Ø±ÙˆÛŒ `host` Ø§ÛŒÙ† Ù…ØªØºÛŒÛŒØ± Ø±Ùˆ Ø¨Ø±Ø§ÛŒ host ØªØ¹Ø±ÛŒÙ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ùˆ host Ù¾ÙˆØ±Øª Ø®ÙˆØ¯Ø´ Ø±Ùˆ Ø§Ø¹Ù…Ø§Ù„ Ù…ÛŒ Ú©Ù†Ù‡ . 


### run server 

Ø®Ø¨ Ø­Ø§Ù„Ø§ Ø§Ú¯Ø± Ø¨Ø§ Ø¯Ø³ØªÙˆØ± `node index.js` Ø±Ùˆ Ø¨Ø²Ù†ÛŒÙ… `server`  Ø§Ø¬Ø±Ø§ Ù…ÛŒØ´Ù‡ . 

Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± Ø¨Ø§ Ø§Ú¯Ø± Ø¯Ø³ØªÙˆØ± `nodemon` Ø±Ùˆ Ø¨Ø²Ù†ÛŒÙ… Ø¯Ø±ÙˆÙ† `terminal` Ø¨Ø§Ø² Ø³Ø±ÙˆØ± Ø±Ø§Ù† Ù…ÛŒØ´Ù‡ . 

Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ù…ÛŒØ´Ù‡ Ø¨Ø§ `nodemon` Ø±Ø§Ù† Ø´Ù‡ Ø¨Ù‡ ØµÙˆØ±Øª `live` ØªØºÛŒÛŒØ±Ø§Øª Ø±Ùˆ Ø¨Ø¨Ù†ÛŒØ¯ . 

Ú©Ù‡ Ù‚Ø¨Ù„ ØªØ± Ú¯ÙØªÛŒÙ… Ù†ÛŒØ§Ø² Ù‡Ø³Øª `nodemon` Ø±Ùˆ Ù†ØµØ¨ Ú©Ù†ÛŒØ¯ .

### define test route 

Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ù…ØªÙˆØ¬Ù‡ Ø´ÛŒÙ… server Ø±ÙˆÛŒ Ù„ÙˆÚ©Ø§Ù„ Ø¨Ù‡ Ø¯Ø±Ø³ØªÛŒ run Ù…ÛŒØ´Ù‡ ÛŒØ§ Ù†Ù‡ . 

ÛŒÚ© `route` ØªØ³Øª ØªØ¹Ø±ÛŒÙ Ù…ÛŒ Ú©Ù†ÛŒÙ… ØªØ§ Ø¯Ø±ÙˆÙ† ØµØ­ÙÙ‡ ÛŒÚ© Ú†ÛŒØ²ÛŒ Ø±Ùˆ Ø¨Ù‡ Ù…Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¨Ø¯Ù‡ ÛŒÚ© Ù¾ÛŒØ§Ù… Ø³Ø§Ø¯Ù‡ .

**Ù†Ú©ØªÙ‡** : Ø§ÛŒÙ† `route` Ø³Ø§Ø¯Ù‡ Ú©Ù‡ Ù…ÛŒ Ù†ÙˆÛŒØ³ÛŒÙ… Ø¨Ø¹Ø¯ Ø§Ø² ØªØ³Øª Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… Ú©Ø§Ù…Ù†Øª Ú©Ù†ÛŒÙ… ÛŒØ§ Ù¾Ø§Ú© Ú©Ù†ÛŒÙ… . 

```javascript 
app.use("/home", async (req, res) => {
  res.status(200).send("server is ok");
});
```

Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ù‡Ø± `ROUTE` Ú©Ù‡ Ù†ÙˆØ´ØªÙ‡ Ù…ÛŒØ´Ù‡ `parameter` Ù‡Ø§ÛŒ `req` , `res` Ø±Ùˆ Ø®ÙˆØ§Ù‡Ø¯ Ø¯Ø§Ø´Øª . 

Ú©Ù‡ Ø¨Ø§ `res` Ø¯Ø± Ø®ÙˆØ§Ø³Øª Ù‡Ø§ Ø±Ùˆ Ø¨Ù‡ Ø§Ø¯Ø±Ø³ÛŒ Ú©Ù‡ Ù†ÙˆØ´ØªÙ‡ Ø´Ø¯Ù‡ Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒØ´Ù‡ . 

Ø¨Ø§ `req` Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… Ø¯Ø± Ø®ÙˆØ§Ø³Øª Ù‡Ø§ÛŒ Ø³Ù…Øª `client` ÛŒØ§ `cookie` Ùˆ .. Ø¨Ú¯ÛŒØ±ÛŒÙ… . 

Ø¯Ø± Ú©Ø¯ Ø¨Ø§Ù„Ø§ ÛŒÚ© Ù¾ÛŒØ§Ù… Ø­Ø§ÙˆÛŒ `server is ok` Ø¯Ø± ØµØ­ÙÙ‡ Ø§ØµÙ„ÛŒ server Ú†Ø§Ù¾ Ú©Ø±Ø¯ÛŒÙ… . 

Ù…ØªØ¯ `res` Ø¯Ø±ÙˆÙ† Ø®ÙˆØ¯Ø´ `status` Ú©Ø¯ Ø±Ùˆ Ø¯Ø§Ø±Ù‡ Ú©Ù‡ Ø¨Ø§ Ø§ÛŒÙ† `status` Ù‡Ø§ Ø±Ùˆ Ø³Øª Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ú©Ù‡ Ù‡Ø± `status code` Ø¨ÛŒØ§Ù†Ú¯Ø± ÛŒÚ© Ù¾ÛŒØ§Ù… Ù‡Ø³Øª . 

Ù…Ø«Ù„Ø§ `201 status code`  Ø¨Ù‡ Ù…Ø¹Ù†ÛŒ Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù† Ù‡Ø³Øª . 
ÛŒØ§ `status 200` Ø¨Ù‡ Ù…Ø¹Ù†ÛŒ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù…ÛŒØ² Ø¨ÙˆØ¯Ù† Ù‡Ø³Øª . 

Ù…Ø«Ù„Ø§ `status code 404` Ø¨Ù‡ Ø§ÛŒÙ† Ù…Ø¹Ù†ÛŒ `bad requset` Ø¯Ø± Ø®ÙˆØ§Ø³Øª Ø¨Ø¯ Ù‡Ø³Øª .

Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… Ø§Ø² `send` ÛŒØ§ `json` Ø¨Ø±Ø§ÛŒ Ø§Ø±Ø³Ø§Ù„ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… . 

Ú©Ù‡ `json` Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ù…ÛŒØ´Ù‡ . 

# Connect to mongodb 

Ø¨Ø¹Ø¯ Ø§Ø² Ø³Ø§Ø®Øª Ø§Ú©Ø§Ù†Øª Ø¯Ø± mongodb atlas Ú©Ù‡ data base Ø§Ù†Ù„Ø§ÛŒÙ† Ù…Ø§ Ù‡Ø³ØªØ´ . 

ÛŒÚ© Ø§Ø¯Ø±Ø³ Ø¨Ø±Ø§ÛŒ Ù…ØªØµÙ„ Ø´Ø¯Ù† Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒØ´Ù‡ Ú©Ù‡ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ Ø§ÛŒÙ† Ø§Ø¯Ø±Ø³ Ù…ÛŒØ§ÛŒÙ… server Ø®ÙˆØ¯Ù…ÙˆÙ† Ø±Ùˆ Ø¨Ù‡ `mongodb atlas` Ù…ØªØµÙ„ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

ÛŒÚ© ÙÙˆÙ„Ø¯Ø± Ø¨Ù‡ Ø§Ø³Ù… `connection` Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ ÙØ§ÛŒÙ„ Ø¯Ø±ÙˆÙ†ÛŒ Ø§ÙˆÙ† Ø¨Ù‡ Ø§Ø³Ù… `db.js`  Ú©Ø§Ø± Ù…ØªØµÙ„ Ø´Ø¯Ù† Ø¨Ù‡ `data base` Ø±Ùˆ Ø§Ù†Ø­Ø§Ù… Ù…ÛŒØ¯Ù‡ . 

![image](https://github.com/mosenn/MERN/assets/91747908/a91a0d7a-97e8-4b08-91a8-3985ab7c32d3)

Ø¯Ø±ÙˆÙ† `db.js` Ú©Ø¯ Ø²ÛŒØ± Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… : 

```javascript
const mongoose = require("mongoose");
mongoose.set("strictQuery", false);

const connecetToDb = async () => {
  try {
    const connect = await mongoose.connect(
      `mongodb+srv://${process.env.DB_USER_NAME}:${process.env.DB_PASSWORD}@cluster0.zutazhf.mongodb.net/blog`
    );

    console.log(`db is connect at ${connect.connection.host}`);
  } catch (err) {
    console.log(err, "data base cant connect");
    process.exit(1);
  }
};

module.exports = connecetToDb;
```
 Ù†Ú©ØªÙ‡ Ø§ÛŒ Ú©Ù‡ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ù‡ Ú¯ÙØªÛŒÙ… Ø§Ø² `mongoose` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ø§Ø±ØªØ¨Ø§Ø· Ú¯Ø±ÙØªÙ† Ùˆ Ú©Ø§Ø± Ø¨Ø§ `mongodb` . 

 Ø¨Ø±Ø§ÛŒ connect Ø´Ø¯Ù† Ùˆ Ø§ Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ù…ØªØ¯ Ù‡Ø§ÛŒ `mongodb` Ù†ÛŒØ§Ø² Ù‡Ø³Øª Ú©Ù‡ Ø§Ø² async , await Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… . 

Ù‘Ø¨Ù‡ Ø§ÛŒÙ† Ø¯Ù„ÛŒÙ„ Ú©Ù‡ `promise base` Ù‡Ø³ØªÙ†Ø¯ . 

ÙØ§Ù†Ú©Ø´Ù† `connecetToDb` Ø§Ø² Ù†ÙˆØ¹ async Ù‡Ø³Øª Ùˆ Ø¯Ø±ÙˆÙ† Ø¨Ù„Ø§Ú© `try` Ø§Ù…Ø¯ÛŒÙ… Ø§Ø² `await` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯ÛŒÙ… . 

Ú©Ù‡ Ø¨ØªÙˆÙ†ÛŒÙ… `connect` Ø´ÛŒÙ… Ø¨Ù‡ `data base` Ø®ÙˆØ¯Ù…ÙˆÙ† . 



--- Ø¨Ø¹Ø¯ Ø§Ø² `mongodb.net` Ú©Ù‡ Ø¯Ø± Ø§Ø¯Ø±Ø³ Ø¯ÛŒØªØ§ Ø¨ÛŒØ³ Ù…Ø§ Ù‡Ø³Øª ÛŒÚ© / Ù…ÛŒ Ø²Ù†ÛŒÙ… Ùˆ Ø§Ø³Ù… `data base` Ø®ÙˆØ¯Ù…ÙˆÙ† Ø±Ùˆ ÙˆØ§Ø±Ø¯ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ú©Ù‡ Ø¯Ø± Ø§Ø¯Ø±Ø³ Ø²ÛŒØ± Ø§Ø³Ù… `data base` Ù…Ø¯ Ù†Ø¸Ø± Ù…Ø§ `blog` Ù‡Ø³Øª .

```javascript 
  try {
    const connect = await mongoose.connect(
      `mongodb+srv://${process.env.DB_USER_NAME}:${process.env.DB_PASSWORD}@cluster0.zutazhf.mongodb.net/blog`
    );

    console.log(`db is connect at ${connect.connection.host}`);
  } catch (err) {
    console.log(err, "data base cant connect");
    process.exit(1);
  }
```

Ø¯Ø±ÙˆÙ† Ø¨Ù„Ø§Ú© `catch` Ø§Ù…Ø¯ÛŒÙ… error Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ `connect` Ø´Ø¯Ù† Ø±Ùˆ Ù‡Ù†Ø¯Ù„ Ú©Ø±Ø¯ÛŒÙ… . 

Ú©Ù‡ Ø§Ú¯Ø± `data base` Ù…Ø§ Ø¨Ù‡ Ù…Ø´Ú©Ù„ Ø®ÙˆØ±Ø¯ Ùˆ Ù…ØªØµÙ„ Ù†Ø´Ø¯ ÛŒÚ© `error` Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… Ù…ØªÙˆØ¬Ù‡ Ø´ÛŒÙ… Ú©Ù‡ Ù…Ø´Ú©Ù„ Ø³Ù…Øª `connect` Ø´Ø¯Ù† Ù‡Ø³Øª . 

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª ÙØ§Ù†Ú©Ø´Ù† Ø®ÙˆØ¯Ù…ÙˆÙ† Ø±Ùˆ `export` Ú©Ø±Ø¯ÛŒÙ… Ùˆ Ù…ÛŒ Ø®ÙˆØ§ÛŒÙ… Ø§Ø² Ø§ÛŒÙ† ÙØ§Ù†Ú©Ø´Ù† Ø¨ÛŒØ§Ù… Ø¯Ø±ÙˆÙ† `index.js` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… . 

```javascript
module.exports = connecetToDb; 
```

Ø¨Ù‡ Ø§ÛŒÙ† Ø¯Ù„ÛŒÙ„ Ú©Ù‡ ÙÙ‚Ø· `index.js` Ø§Ø¬Ø±Ø§ Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯ Ùˆ ØªÙ…Ø§Ù…ÛŒ Ø§Ø¬Ø²Ø§ÛŒ `server` Ú©Ù‡ Ù…Ø§ Ù…ÛŒ Ù†ÙˆÛŒØ³ÛŒÙ… . 

Ø¨Ù‡ Ø·ÙˆØ± Ù…Ø³ØªÙ‚ÛŒÙ… ÛŒØ§ ØºÛŒØ± Ù…Ø³ØªÙ‚ÛŒÙ… Ø¯Ø±ÙˆÙ† `index.js` Ù‚Ø±Ø§Ø± Ù…ÛŒÚ¯ÛŒØ±Ù‡ ØªØ§ `module` Ù…Ø¯ Ù†Ø¸Ø±Ù…ÙˆÙ† Ø§Ø¬Ø±Ø§ Ø´Ù‡  . 

**ÛŒØ§Ø¯Ø§ÙˆØ±ÛŒ** : Ù‡Ø± ÙØ§ÛŒÙ„ `javascript` Ø¯Ø± ÙˆØ§Ù‚Ø¹ ÛŒÚ© `module` Ù‡Ø³ØªØ´ . 

Ø¨Ù‡ `index.js` Ù…ÛŒØ±ÛŒÙ… Ùˆ `connectToDb` Ú©Ù‡ `export` Ú©Ø±Ø¯ÛŒÙ… Ù…ÛŒØ§Ù… Ø§ÙˆÙ„ `require` Ù…ÛŒ Ú©Ù†ÛŒÙ… Ùˆ Ø¨Ø¹Ø¯ ØµØ¯Ø§Ø´ Ù…ÛŒ Ø²Ù†ÛŒÙ… . 

```javascript 
const connectToDb = require("./connection/db");
```

Ùˆ Ø¨Ø§Ù„Ø§ ØªØ± Ø§Ø² `listen` Ú©Ù‡ Ù†ÙˆØ´ØªÛŒÙ… ØµØ¯Ø§Ø´ Ù…ÛŒ Ø²Ù†ÛŒÙ… Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± Ø¨Ø§Ù„Ø§ ØªØ± Ø§Ø² `routet test` Ú©Ù‡ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯ÛŒÙ… . 

```javascript 
connectToDb();
```

**Ù†Ú©ØªÙ‡** : Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ Ø³Ù…Øª `server` Ù…ÛŒØ§ÛŒÙ… Ø¨Ø§ `nodejs` Ú©Ø¯ Ù…ÛŒ Ø²Ù†ÛŒÙ… ØªØ±ØªÛŒØ¨ ÛŒÙ‡ Ø¬Ø§Ù‡Ø§ÛŒ Ù…Ù‡Ù…Ù‡ . 

Ùˆ Ø§Ú¯Ø± Ø§ÛŒÙ† ØªØ±ØªÛŒØ¨ Ø¨Ù†Ø¯ÛŒ Ø¨Ø¹Ø¶ÛŒ Ø§Ø² Ø¬Ø§Ù‡Ø§ Ø±Ø¹Ø§ÛŒØª Ù†Ø´Ù‡ Ù…Ù…Ú©Ù†Ù‡ Ø³Ø±ÙˆØ± Ù…Ø§ Ø¨Ù‡ Ù…Ø´Ú©Ù„ Ø¨Ø®ÙˆØ±Ù‡ Ùˆ Ø±Ø§Ù† Ù†Ø´Ù‡ . 


# Server Folders 

![image](https://github.com/mosenn/MERN/assets/91747908/eed7828c-8eee-43b1-b0df-a02fe7509e52)



ÙÙˆÙ„Ø¯Ø± Ù‡Ø§ÛŒ Ø³Ù…Øª `server` Ø±Ùˆ Ù…Ø¹Ø±ÙÛŒ Ú©Ù†ÛŒÙ… . 

### model folder 

![image](https://github.com/mosenn/MERN/assets/91747908/4ea96d1c-3a41-4bdd-af20-f1555a63519d)


Ú©Ù‡ ÛŒØ¯ÙˆÙ†Ù‡ `model` Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ø¨Ø±Ø§ÛŒ Ø§ÛŒØ¬Ø§Ø¯ `schema` Ù‡Ø³Øª Ú©Ù‡ Ø¨ØªÙˆÙ†ÛŒÙ… Ø¨Ø§ `data base` Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ú¯ÛŒØ±ÛŒÙ… . 

Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ù‡Ø± `collection` Ú©Ù‡ Ù…ÛŒ Ø®ÙˆØ§ÛŒÙ… Ø¨Ø±Ø§ÛŒ `data base` Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÛŒÙ… Ù†ÛŒØ§Ø² Ø¨Ù‡ ÛŒÚ© `schema` Ùˆ `model`  Ø¯Ø§Ø±ÛŒÙ… . 

Ú©Ù‡ Ø¯Ø± ÙÙˆÙ„Ø¯Ø± model Ø¨Ø±Ø§ Ù…Ø«Ø§Ù„ ÛŒÚ© ÙØ§ÛŒÙ„ Ø¨Ù‡ Ø§Ø³Ù… `user.js` Ø¯Ø§Ø±ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ø§ÛŒØ¬Ø§Ø¯ `model` Ú©Ø§Ø±Ø¨Ø±Ø§Ù†ÛŒ Ú©Ù‡ Ø¯Ø± Ø³Ø§ÛŒØª Ù…Ø§ Ù‡Ø³ØªÙ†Ø¯ . 

### user.js 


Ø§Ú¯Ø± Ø¨Ø®ÙˆØ§ÛŒÙ… ÙØ§ÛŒÙ„ user.js Ø±Ùˆ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒÙ… Ø¨Ù‡ Ø·ÙˆØ± Ú©Ù„ÛŒ Ù†ÙˆØ¹ Ø¯ÛŒØªØ§ÛŒ Ú©Ù‡ Ù‚Ø±Ø§Ø± Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ú©Ø§Ø±Ø¨Ø± Ø°Ø®ÛŒØ±Ù‡ Ø´Ù‡ Ø±Ùˆ Ù…Ø´Ø®Øµ Ú©Ø±Ø¯ÛŒÙ… . 

Ø¨Ø¹Ø¯ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ ÛŒÚ© `middelware` Ú©Ù‡ Ø®ÙˆØ¯Ù…ÙˆÙ† Ù†ÙˆØ´ØªÛŒÙ… Ùˆ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯ÛŒÙ… Ú©Ø§Ø± `validation` Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ø¯Ø§Ø¯ÛŒÙ… . 

Ùˆ Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± Ø§Ø² `bcrypt` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ø±Ù…Ø² Ú¯Ø°Ø§Ø±ÛŒ Ù¾Ø³ÙˆØ±Ø¯ Ù‡Ø§ . 

Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ù‚Ø¨Ù„ Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ Ø¯ÛŒØªØ§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ `user` Ù‡Ø§ Ø«Ø¨Øª Ø´Ù‡ Ø§ÙˆÙ„ `valid` Ø´Ø¯Ù‡ . 

**Ù†Ú©ØªÙ‡** : Ø§ÛŒÙ† Ú©Ø§Ø± ØªÚ©Ø±Ø§Ø±ÛŒ Ù‡Ø³Øª Ùˆ Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ù¾Ø±ÙˆÚ˜Ù‡ Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… Ø§Ù†Ø¬Ø§Ù… Ø§ Ø´ Ø¨Ø¯ÛŒÙ… . 


ÛŒÙ‡ Ù†Ú¯Ø§Ù‡ÛŒ Ø¨Ù‡ Ú©Ù„ Ú©Ø¯ Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ ÙØ§ÛŒÙ„ `user.js` Ø¨Ù†Ø¯Ø§Ø²ÛŒÙ… : 

Ø§ÙˆÙ„ Ù…ÙˆØ§Ø±Ø¯ÛŒ Ú©Ù‡ Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… Ø±Ùˆ `require`  Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ú©Ù‡ 2 ØªØ§ Ø§Ø² Ø§ÛŒÙ† Ù…ÙˆØ§Ø±Ø¯ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ø±Ù…Ø² Ú¯Ø°Ø§Ø±ÛŒ Ù¾Ø³ÙˆØ±Ø¯ Ùˆ ÙˆÙ„ÛŒØ¯ÛŒØ´Ù† Ù‡Ø³Øª Ú©Ù‡ Ø¨Ù‡Ø´ÙˆÙ† Ù…ÛŒ Ø±Ø³ÛŒÙ…  Ø¬Ù„Ùˆ ØªØ± . 

```javascript 
const { hash } = require("../middleware/bcrypt");
const mongoose = require("mongoose");
const userRegisterValid = require("../middleware/userValidation");
```

Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± Ø¨Ù‡ `mongoose` Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®Øª `schema` . 

**ÛŒØ§Ø¯Ø§ÙˆØ±ÛŒ** : Ù‡Ø± `data` Ú©Ù‡ Ù‚Ø±Ø§Ø± Ø¯Ø±ÙˆÙ† `data base` Ø°Ø®ÛŒØ±Ù‡ Ø´Ù‡ Ù†ÛŒØ§Ø² Ø¨Ù‡ ÛŒÚ© `schema` Ùˆ `model`  Ø¯Ø§Ø±Ù‡ . 


Ù‚Ø¯Ù… Ø¨Ø¹Ø¯ÛŒ Ø³Ø§Ø®Øª `schema` Ù‡Ø³Øª Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `mongoose` : 

```javascript 
const userSchema = new mongoose.Schema({
  username: {
    type: String,
    require: true,
  },
  password: {
    require: true,
    type: String,
  },
  confirmPassword: {
    require: true,
    type: String,
  },
  pic: {
    type: String,
  },
});
```

Ú©Ù‡ Ù†ÙˆØ¹ type Ùˆ Ø§ÛŒÙ†Ú©Ù‡ Ø§ÙˆÙ† Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ù‡ Ø¯Ø§Ø±Ù‡ Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒØ´Ù‡ Ù†ÛŒØ§Ø² Ù‡Ø³Øª `required`  Ù‡Ø³Øª  .  

Ù…ÙˆØ§Ø±Ø¯ÛŒ Ú©Ù‡ `required` Ù‚Ø±Ø§Ø± Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´ØªÙ† Ø´ÙˆÙ† Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³Øª . 


Ø®Ø¨ Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… Ø§Ù„Ø§Ù† `model` Ø®ÙˆØ¯Ù…ÙˆÙ† Ø±Ùˆ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÛŒÙ… Ùˆ Ø§Ø³Ù… collection Ú©Ù‡ Ù…ÛŒ Ø®ÙˆØ§ÛŒÙ… Ø§ÛŒÙ† data Ø¯Ø±ÙˆÙ†Ø´ Ø°Ø®ÛŒØ±Ù‡ Ø´Ù‡ Ø±Ùˆ Ø§Ø¹Ù…Ø§Ù„ Ú©Ù†ÛŒÙ… . 

Ù…Ù†ØªÙ‡Ø§ Ù‚Ø¨Ù„ Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ Ú©Ø§Ø± Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯Ù† Ø§Ù†Ø¬Ø§Ù… Ø´Ù‡ Ù…ÛŒØ§ÛŒÙ… Ù†ÙˆØ¹ `valid` Ø´Ø¯Ù† Ø±Ùˆ Ú†Ú© Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ Ø®ÙˆØ¯Ù‡ `schema` Ú©Ù‡ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯ÛŒÙ… 

```javascript 
userSchema.statics
```
**Ù†Ú©ØªÙ‡** : Ù…Ù‡Ù…Ù‡ Ú©Ù‡ Ø§Ø®Ø± static ÛŒÙ‡ `s` Ø¨Ø§Ø´Ù‡ Ø¯Ø± ØºÛŒØ± Ø§ÛŒÙ†ØµÙˆØ±Øª Ø¨Ù‡ Ù…Ø´Ú©Ù„ Ù…ÛŒ Ø®ÙˆØ±ÛŒÙ… . 

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ ÙØ§Ù†Ú©Ø´Ù†ÛŒ Ú©Ù‡ Ø¨Ø±Ø§ÛŒ `validation` Ù†ÙˆØ´ØªÛŒÙ… Ùˆ Ú©Ø§Ø± `valid` Ú©Ø±Ø¯Ù† Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯Ù‡ Ù…ÛŒØ§ÛŒÙ… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ù‚Ø¨Ù„ ØªØ± `requiire` Ú©Ø±Ø¯Ù‡ Ø¨ÙˆØ¯ÛŒÙ… . 


```javascript 
const userRegisterValid = require("../middleware/userValidation");
```

```javascript 
userSchema.statics.userRegisterValid = (reqBody) => {
  return userRegisterValid.validate(reqBody, { abortEarly: false });
};
```
Ù¾Ø§Ø±Ø§Ù…ØªØ± `reqBody`  Ø¯Ø± ÙˆØ§Ù‚Ø¹ `req` Ù‡Ø§ÛŒ Ù‡Ø³ØªÙ†Ø¯ Ú©Ù‡ Ù…ÙˆÙ‚Ø¹ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯Ù† Ø¯Ø±ÙˆÙ† `body` Ù‚Ø±Ø§Ø± Ù…ÛŒ Ú¯ÛŒØ±Ù†Ø¯ . 

Ùˆ Ù‡Ø± `route` ÛŒØ§ `controller` Ø§ÛŒÙ† Ù…ÙˆØ§Ø±Ø¯ Ø±Ùˆ Ø¯Ø§Ø±Ù‡ . Ú©Ù‡ Ø¨Ù‡ Ø§ÛŒÙ† ÙØ§Ù†Ú©Ø´Ù† Ù¾Ø§Ø³ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒØ´Ù‡ . 

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ø¯Ø±ÙˆÙ† ÙØ§Ù†Ú©Ø´Ù† Ø¯Ø§Ø±ÛŒÙ… `return` Ù…ÛŒ Ú©Ù†ÛŒÙ… `userRegisterValid` Ú©Ù‡ Ø¨ÛŒØ§Ø¯ `validate`  Ú©Ù†Ù‡ . 

Ù…Ù†ØªÙ‡Ø§ Ù¾Ø§Ø±Ø§Ù…ØªØ± `reqBody` Ø±Ùˆ Ø¨Ù‡Ø´ Ù¾Ø§Ø³ Ø¯Ø§Ø¯ÛŒÙ… Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ `option abtortEraly:false` Ú¯Ø°Ø§Ø´ØªÛŒÙ… . 

Ú©Ù‡ Ø§Ú¯Ø± `error` ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´Øª Ø¨ÛŒØ§Ø¯ Ø¨Ù‡ ØµÙˆØ±Øª Ø¯Ø³ØªÙ‡ Ø¬Ù…ÛŒ Ø§ÙˆÙ† `error` Ù‡Ø§Ø±Ùˆ Ù†Ø´ÙˆÙ† Ø¨Ø¯Ù‡ Ù†Ù‡ ØªÚ© ØªÚ© . 


### has passowrd 

Ø¨Ø¹Ø¯ Ø§Ø² validtion Ø±Ù…Ø²Ú¯Ø°Ø§Ø±ÛŒ Ú©Ø±Ø¯Ù† password Ù‡Ø§ Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `package bcryptjs` Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ´Ù‡ .  

Ú©Ù‡ Ù‚Ø¨Ù„ Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ Ø¨Ø®ÙˆØ§ÛŒÙ… `model` Ø±Ùˆ Ø°Ø®ÛŒØ±Ù‡ Ú©Ù†ÛŒÙ… Ù…ÛŒØ§ÛŒÙ… password Ú©Ø§Ø±Ø¨Ø± Ù‡Ø§ÛŒ Ú©Ù‡ Ø«Ø¨Øª Ù†Ø§Ù… Ù…ÛŒ Ú©Ù†Ù†Ø¯ . 

Ø±Ùˆ Ø¨Ø±Ø§ÛŒ Ø§Ù…Ù†ÛŒØª Ø¨ÛŒØ´ØªØ± Ø±Ù…Ø² Ú¯Ø°Ø§Ø±ÛŒ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ùˆ Ø¯Ø±ÙˆÙ† `data base` Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ú©Ø§Ø± Ø§Ø² `schema` Ú©Ù‡ Ø³Ø§Ø®ØªÛŒÙ… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ùˆ Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ ÛŒÚ© ÙØ§Ù†Ú©Ø´Ù† Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

```javascript
userSchema.pre("save", async function (next) {

});
```
Ø§ÛŒÙ† ÙØ§Ù†Ú©Ø´Ù† Ù†ÛŒØ§Ø² Ù‡Ø³Øª Ú©Ù‡ Ø§Ø² Ù†ÙˆØ¹ ÙØ§Ù†Ú©Ø´Ù† Ù…Ø¹Ù…ÙˆÙ„ÛŒ Ø¨Ø§Ø´Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ arrow function Ù†Ø¨Ø§Ø´Ù‡ . 

Ø¨Ù‡ Ø§ÛŒÙ† Ø¯Ù„ÛŒÙ„ Ú©Ù‡ Ù…ÛŒ Ø®ÙˆØ§ÛŒÙ… Ø§Ø² `keyword this`  Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… . 

Ú¯ÙØªÛŒÙ…   `userSchema.pre` Ú©Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ `pre` Ø¨Ù‡ Ø§ÛŒÙ† Ù…Ø¹Ù†ÛŒ Ú©Ù‡ Ù‚Ø¨Ù„ Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ `save` Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ ÛŒÚ© `string` Ù‡Ø³Øª . 

Ù…Ø¹Ù†ÛŒ ÙØ§Ù†Ú©Ø´Ù†ÛŒ Ú©Ù‡ Ù†ÙˆØ´ØªÛŒÙ… Ø§ÛŒÙ†Ù‡ : Ù‚Ø¨Ù„ Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ `userSchema` Ú©Ù‡ Ø³Ø§Ø®ØªÛŒÙ… Ø¨ÛŒØ§Ø¯ `save` Ø´Ù‡ . 

ÛŒÚ© Ú©Ø§Ø±ÛŒ Ø§Ù†Ø¬Ø§Ù… Ø¨Ø¯Ù‡ Ø¨Ø¹Ø¯Ø´ Ø¨ÛŒØ§Ø¯ `save` Ø´Ù‡ . 

Ú©Ø§Ø±ÛŒ Ú©Ù‡ Ù…ÛŒ Ø®ÙˆØ§ÛŒÙ… Ø§Ù†Ø¬Ø§Ù… Ø¨Ø¯ÛŒÙ… Ø¯Ø±ÙˆÙ† ÙØ§Ù†Ú©Ø´Ù† Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ´Ù‡ . 

```javascript
userSchema.pre("save", async function (next) {
  if (!this.isModified) {
    next();
  }

});
```

Ø¯Ø± Ù‚Ø¯Ù… Ø§ÙˆÙ„ Ù…ÛŒØ§ÛŒÙ… Ú†Ú© Ù…ÛŒ Ú©Ù†ÛŒÙ… Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `if` Ø§Ú¯Ø± Ú©Ù‡ `userSchema` Ù…Ø§ Ø¨Ù‡ Ù‡Ø± Ø¯Ù„ÛŒÙ„ÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø´Øª ÙØ§Ù†Ú©Ø´Ù† `next` Ø§ØªÙØ§Ù‚ Ø¨ÛŒÙˆÙØªÙ‡ . 

Ø¯Ø± ÙˆØ§Ù‚Ø¹ `this.isModified` Ù…ÛŒØ§Ø¯ Ú†Ú© Ù…ÛŒ Ú©Ù†Ù‡ Ú©Ù‡ `userSchema` Ù…Ø§ Ø§Ú¯Ø± Ù…Ø´Ú©Ù„ÛŒ Ù†Ø¯Ø§Ø´Øª Ù‡Ù…Ù‡ Ú†ÛŒ Ø§ÙˆÚ©ÛŒ Ø¨ÙˆØ¯ Ø¨Ø±Ù‡ Ø§Ø¯Ø§Ù…Ù‡ ÙØ§Ù†Ú©Ø´Ù† . 

Ø§Ù…Ø§ Ø§Ú¯Ø± Ù…Ø´Ú©Ù„ÛŒ Ø¨ÙˆØ¯ Ø¨Ø±Ù‡ Ø±ÙˆÛŒ `error` Ù‡Ø§ Ùˆ `error` Ù‡Ø§ Ø±Ùˆ Ù†Ø´ÙˆÙ† Ø¨Ø¯Ù‡.

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ ÙØ§Ù†Ú©Ø´Ù†  `password` , `confrimPassword`  Ø±Ùˆ Ù‚Ø¨Ù„ Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ Ø¯Ø± `data base` Ø°Ø®ÛŒØ±Ù‡ Ø´Ù† Ø±Ù…Ø²Ú¯Ø°Ø§Ø±ÛŒ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 


```javascript 
userSchema.pre("save", async function (next) {
  if (!this.isModified) {
    next();
  }
  //*new update for hasing most be get this in model

  const { hashPassword, hashConfirmPassword } = await hash(
    this.password,
    this.confirmPassword
  );
  this.password = hashPassword;
  this.confirmPassword = hashConfirmPassword;
});
```
**Ù†Ú©ØªÙ‡** : Ù…Ù…Ú©Ù†Ù‡ Ø¯Ø± Ø§ÙˆÙ„ Ú©Ø§Ø± Ø¨Ù‡ Ø§ÛŒÙ† ØµÙˆØ±Øª Ú©Ø¯ Ú©Ø§Ø± Ù†Ú©Ù†Ù‡ Ú©Ù‡ Ø¨Ù‡ ØµÙˆØ±Øª `middelware` Ø§Ù…Ø¯ÛŒÙ… `hash` Ú©Ø±Ø¯ÛŒÙ… . 

Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø§ØªÙØ§Ù‚ Ø±Ù…Ø² Ú¯Ø°Ø±Ø§ÛŒ Ø¯Ø±ÙˆÙ† ÛŒÚ© ÙØ§Ù†Ú©Ø´Ù† Ú©Ù‡ Ø¯Ø±ÙˆÙ† ÙÙˆÙ„Ø¯Ø± `middelware` Ù‡Ø³Øª Ø¯Ø§Ø±Ù‡ Ø§ØªÙØ§Ù‚ Ù…ÛŒ Ø§ÙØªÙ‡ . 

Ø§Ú¯Ø± Ú©Ù‡ Ø§ÙˆÙ„ Ú©Ø§Ø± Ù…Ø´Ú©Ù„ÛŒ Ù¾ÛŒØ´ Ø§Ù…Ø¯ Ø¨Ø§ Ø§ÛŒÙ† Ø±ÙˆØ´ `hash` Ú©Ø±Ø¯Ù† Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `midelware` ØªÙ…Ø§Ù…ÛŒ Ø¹Ù…Ù„ÛŒØ§Øª `hash` Ú©Ø±Ø¯Ù† Ø±Ùˆ 

Ù‡Ù…ÛŒÙ†Ø¬Ø§ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯ÛŒÙ… Ø¨Ø¯ÙˆÙ† `middelware` Ø§Ù…Ø§ Ø¨Ø¹Ø¯ Ø§Ø² Ú†Ù†Ø¯ Ø¨Ø§Ø² Ú©Ù‡ Ù…Ø´Ú©Ù„ÛŒ Ù†Ø¨ÙˆØ¯ Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… Ø¨Ø§Ø² ØªØ¨Ø¯ÛŒÙ„ Ø§Ø´ Ú©Ù†ÛŒÙ… Ø¨Ù‡ ÛŒÚ© ÙØ§Ù†Ú©Ø´Ù† Ø¬Ø¯Ø§ . 

Ø®Ø¨ `hash`  Ø¯Ø± ÙˆØ§Ù‚Ø¹ ÛŒÚ© ÙØ§Ù†Ú©Ø´Ù† Ù‡Ø³Øª Ú©Ù‡ `require`  Ø´Ø¯Ù‡ Ø¯Ø± ÛŒÚ© ÙØ§ÛŒÙ„ Ø¬Ø¯Ø§ Ø¯Ø§Ø±Ù‡ ÛŒÚ© Ø³Ø±ÛŒ Ø¹Ù…Ù„ÛŒØ§Øª Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ø±Ù…Ø²Ú¯Ø°Ø±ÛŒ Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯Ù‡ . 

```javascript 
const { hash } = require("../middleware/bcrypt");
```

Ø­Ø§Ù„Ø§ Ø§Ø²Ø´ Ø¯Ø±ÙˆÙ† ÙØ§Ù†Ú©Ø´Ù† Ú©Ù‡ ØªØ¹Ø±ÛŒÙ Ú©Ø±Ø¯ÛŒÙ… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… 

```javascript 
userSchema.pre("save", async function (next) {
  if (!this.isModified) {
    next();
  }
  //*new update for hasing most be get this in model

  const { hashPassword, hashConfirmPassword } = await hash(
    this.password,
    this.confirmPassword
  );
  this.password = hashPassword;
  this.confirmPassword = hashConfirmPassword;
});
```
Ø¯Ø±ÙˆÙ† ÙØ§Ù†Ú©Ø´Ù† `this.password` , `this.confrimPassword`  Ø¨Ù‡ `userSchema` Ú©Ù‡ Ø³Ø§Ø®ØªÛŒÙ… Ø§Ø´Ø§Ø±Ù‡ Ù…ÛŒ Ú©Ù†Ù†Ø¯ . 

Ùˆ `hashPassword` , `hashConfirmPassword`  Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ù¾Ø³ÙˆØ±Ø¯ Ú©Ø§Ø±Ø¨Ø± Ù‡Ø³ØªÙ†Ø¯ Ú©Ù‡ Ø§Ø² `req`  Ú¯Ø±ÙØªÙ‡ Ø´Ø¯Ù‡ Ùˆ Ø±Ù…Ø²Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯Ù‡ . 

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª `password` Ù‡Ø§ÛŒ Ú©Ù‡ Ø¯Ø±ÙˆÙ† `schema` Ù‡Ø³Øª Ø¨Ø§ Ù¾Ø³ÙˆØ±Ø¯ Ù‡Ø§ÛŒ Ú©Ù‡ `hash`  Ø´Ø¯Ù‡ `assignment` Ù…ÛŒØ´Ù‡

### create model connect to collection 

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ù†ÙˆØ¨Øª Ø¨Ù‡ Ø³Ø§Ø®Øª `model` Ù…ÛŒØ´Ù‡ Ùˆ ÛŒÚ© Ø§Ø³Ù… Ø¨Ø±Ø§ÛŒ `collection` Ø¯ÛŒØªØ§ Ø¨ÛŒØ³ ØªØ¹Ø±ÛŒÙ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ú©Ù‡ Ø§ÛŒÙ† `schema` Ø¯Ø±ÙˆÙ† `collection data base` Ø³Ø§Ø®ØªÙ‡ Ù…ÛŒØ´Ù‡ . 

```javascript
const userModel = mongoose.model("users", userSchema);

module.exports = userModel;

``` 

Ù…ÛŒØ§ÛŒÙ… `model`  Ø±Ùˆ Ø¯Ø±ÙˆÙ† ÛŒÚ© Ù…ØªØºÛŒÛŒØ± Ù‚Ø±Ø§Ø± Ù…ÛŒØ¯ÛŒÙ… Ùˆ `export` Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `mongoose.model` Ù…ÛŒØ§ÛŒÙ… Ù…Ø¯Ù„ Ø®ÙˆØ¯Ù…ÙˆÙ† Ø±Ùˆ Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ú©Ù‡ `users` Ù…ÛŒØ´Ù‡ Ø§Ø³Ù… `collection` Ú©Ù‡ Ø¯Ø§Ø´ØªÛŒÙ… . 

Ùˆ `userSchema` Ø¯Ø± ÙˆØ§Ù‚Ø¹ `schema` Ù‡Ø³Øª Ú©Ù‡ Ø³Ø§Ø®ØªÛŒÙ… 

Ùˆ  `userSchema` Ø¯Ø±ÙˆÙ† `collection users` Ø¯Ø± `mongodb atals` Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒØ´Ù‡ .

Ø¨Ø¹Ø¯Ø§ Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡  `controller` Ø±Ùˆ ØªØ¹Ø±ÛŒÙ Ú©Ø±Ø¯ÛŒÙ… Ø§Ø² Ø§ÛŒÙ† userModel Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 
# Midelware Folder 

![image](https://github.com/mosenn/MERN/assets/91747908/3ccd86f8-8e02-4271-8527-8b9ee86c1d14)


ÛŒÚ© ÙÙˆÙ„Ø¯Ø± Ø¯Ø± Ù¾Ø±ÙˆÚ˜Ù‡ Ø¯Ø§Ø±ÛŒÙ… Ø¨Ù‡ Ø§Ø³Ù… `midelware`  Ú©Ù‡ ÙØ§Ù†Ú©Ø´Ù† Ù‡Ø§ÛŒ Ú©Ù‡ Ù…Ù…Ú©Ù†Ù‡ Ø²ÛŒØ§Ø¯ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ù‡ . 

Ø¯Ø±ÙˆÙ† Ø§ÛŒÙ† ÙÙˆÙ„Ø¯Ø± ØªØ¹Ø±ÛŒÙ Ù…ÛŒ Ø´Ù‡ . 

Ù…Ø«Ù„ hash Ú©Ø±Ø¯Ù† ÛŒØ§ ÙˆÙ„ÛŒØ¯ÛŒØ´Ù† Ùˆ ... . 

Ø¨Ø±ÛŒÙ… Ø§ÙˆÙ„ `hash` Ø±Ùˆ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒÙ… Ú©Ù‡ Ú©Ù…ÛŒ Ø¨Ø§Ù„Ø§ ØªØ± Ø§Ø²Ø´ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ø±Ù…Ø²Ú¯Ø°Ø§Ø±ÛŒ Ù¾Ø³ÙˆØ±Ø¯ Ù‡Ø§ . 

Ø¯Ø±ÙˆÙ† ÙØ§ÛŒÙ„ `bcrypt.js` Ø§Ù…Ø¯ÛŒÙ… Ø¹Ù…Ù„ÛŒØ§Øª `hash` ÙˆÙ‡Ù…ÛŒÙ†Ø·ÙˆØ± `compare` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯ÛŒÙ… . 

Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ passowrd Ø¯Ø±ÙˆÙ† `data base` Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒØ´Ù‡ Ø¨Ù‡ ØµÙˆØ±Øª Ø±Ù…Ø²Ú¯Ø°Ø§Ø±ÛŒ Ù‡Ø³Øª Ú†ÙˆÙ† Ø®ÙˆØ¯Ù…ÙˆÙ† `hash` Ú©Ø±Ø¯ÛŒÙ… . 

Ùˆ Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ Ø¨Ø®ÙˆØ§ÛŒÙ… Ù…Ø«Ù„Ø§ Ø¨Ø±Ø§ÛŒ Ù„Ø§Ú¯ÛŒÙ† Ø´Ø¯Ù† Ù‡Ù…ÙˆÙ† password Ø±Ù…Ø²Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯Ù‡ Ø±Ùˆ Ø¨Ø§ Ù¾Ø³ÙˆØ±Ø¯ÛŒ Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø¨Ø±Ø§ÛŒ Ù„Ø§Ú¯ÛŒÙ† Ø´Ø¯Ù† ÙˆØ§Ø±Ø¯ Ù…ÛŒ Ú©Ù†Ù‡ 

Ù…Ù‚Ø§ÛŒØ³Ù‡ Ú©Ù†ÛŒÙ… Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ `compare` Ú©Ù†ÛŒÙ… ØªØ§ Ø§ÛŒÙ† Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø¨Ù‡ Ø¯Ø±Ø³ØªÛŒ Ø§Ù†Ø¬Ø§Ù… Ø´Ù‡ . 

Ø§ÙˆÙ„ Ù¾Ú©ÛŒØ¬ `bcryptjs` Ø±Ùˆ Ù…ÛŒØ§ÛŒÙ… `require` Ú©Ù†ÛŒÙ… 

```javascript 
const bcrypt = require("bcryptjs");
```

Ù‚Ø¯Ù… Ø¨Ø¹Ø¯ÛŒ Ù†ÙˆØ´ØªÙ† ÙØ§Ù†Ú©Ø´Ù† `hash`  Ù‡Ø³Øª . 

```javascript
const hash = async (password, ConfirmPassword) => {

}; 
```

Ø¨Ù‡ Ø§ÛŒÙ† Ø¯Ù„ÛŒÙ„ Ú©Ù‡ `bcryptjs` Ù…ØªØ¯ Ù‡Ø§ÛŒ Ø¯Ø±ÙˆÙ†Ø´ `promise base` Ù‡Ø³ØªÙ†Ø¯ Ù†ÛŒØ§Ø² Ù‡Ø³Øª Ø§Ø² `async / await`  Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… 

ÙØ§Ù†Ú©Ø´Ù† `hash`  Ø§Ø² Ù†ÙˆØ¹ `async`  Ù‡Ø³Øª Ú©Ù‡ 2 ØªØ§ `parameter` Ù…ÛŒ Ú¯ÛŒØ±Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ù¾Ø³ÙˆØ±Ø¯ Ù‡Ø§ÛŒ Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù‡. 

Ø§Ø² `controller` Ú©Ù‡ Ù†ÙˆØ´ØªÙ‡ Ø´Ø¯Ù‡ Ùˆ Ù…ØªØµÙ„ Ø¨Ù‡ ÛŒÚ© `route` Ù‡Ø³Øª Ùˆ `client`  Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù…Ø±ÙˆØ¨Ø· Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø¨Ù‡ `route` ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒØ´Ù‡ . 


 Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ ÛŒÚ© `if` ØªØ¹Ø±ÛŒÙ Ù…ÛŒØ´Ù‡ Ú©Ù‡ Ú†Ú© Ù…ÛŒ Ú©Ù†Ù‡ Ø¨Ø¨ÛŒÙ†Ù‡ `password` Ù‡Ø³Øª ÛŒØ§ Ù†Ù‡ Ø§Ú¯Ø± Ø¨ÙˆØ¯ Ø¨ÛŒØ§Ø¯ Ù¾Ø³ÙˆØ±Ø¯ Ø±Ùˆ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `bcryptjs` Ø±Ù…Ø²Ú¯Ø°Ø§Ø± Ù…ÛŒ Ú©Ù†ÛŒÙ… . 


 ```javascript 
const hash = async (password, ConfirmPassword) => {
  if (password) {
    const salt = await bcrypt.genSalt(10);
    const hashPassword = await bcrypt.hash(password, salt);
    const hashConfirmPassword = await bcrypt.hash(ConfirmPassword, salt);
    return {
      hashPassword,
      hashConfirmPassword,
    };
  }
};
```

Ø¯Ø±ÙˆÙ† `if` Ø§ÙˆÙ„ ÛŒÚ© `salt` Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ú©Ù‡ ÛŒÚ© `string` Ø±Ù†Ø¯Ù… Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒ Ú©Ù†Ù‡ Ú©Ù‡ Ú¯ÙØªÛŒÙ… ØªØ§ 10 `character` Ø§ÛŒÙ†Ú©Ø§Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ø¨Ø¯Ù‡ . 

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª `pasword` , `confirmPassword`  Ø±Ùˆ Ú¯ÙØªÛŒÙ… Ú©Ù‡ Ø¨ÛŒØ§Ø¯ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡  `bcrypt.hash`  Ú©Ù‡ Ø¯Ø§Ø±ÛŒÙ… Ø§Ø² Ù¾Ú©ÛŒØ¬ `bcryptjs` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯ÛŒÙ… .

Ùˆ `hash` ÛŒÚ© Ù…ØªØ¯ Ø¯Ø±ÙˆÙ†ÛŒ `bcryptjs` Ù‡Ø³Øª .  

Ùˆ Ø§Ù„Ø§Ù† Ø¨Ù‡ Ø¬Ø§ÛŒ Ù¾Ø³ÙˆØ±Ø¯ Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù‡ ÛŒÚ© `string` Ø¯Ø§Ø±ÛŒÙ… Ø¨Ø§ 10 Ú©Ø§Ø±Ø§Ú©ØªØ± 

Ùˆ Ù‡Ø± Ø¯Ùˆ Ù…ØªØºÛŒÛŒØ± `hashPassword` , `hashConfirmPassword`  Ø±Ùˆ return Ú©Ø±Ø¯ÛŒÙ…  . 

Ú©Ù‡ Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ø¯Ø± [model user.js](#has-passowrd) Ø§Ø²Ø´ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯ÛŒÙ… .

ÙØ§Ù†Ú©Ø´Ù† Ø¨Ø¹Ø¯ÛŒ Ú©Ø§Ø± `compare`  Ú©Ø±Ø¯Ù† Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ù…ÙØ¯Ø§Ø± Ø±Ù…Ø² Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯Ù‡ Ø¯Ø±ÙˆÙ† `data base` Ø±Ùˆ 

Ø¨Ø§ ÙˆØ±Ø¯ÛŒ Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± ÙˆØ§Ø±Ø¯ Ù…ÛŒ Ú©Ù†Ù‡ Ù…Ù‚Ø§ÛŒØ³Ù‡ Ù…ÛŒ Ú©Ù†Ù‡ .  Ø¯Ø± `controller` Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ `login` Ú©Ø§Ø±Ø¨Ø± Ø§Ø²Ø´ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… 

```javascript 
const compare = async (reqPassowrd, dbPassword) => {
  return await bcrypt.compare(reqPassowrd, dbPassword);
};
```

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ù‡Ø± Ø¯Ùˆ ÙØ§Ù†Ú©Ø´Ù† Ú©Ù‡ Ø¯Ø±ÙˆÙ† ÙÙˆÙ„Ø¯Ø± `midelware` Ø¯Ø±ÙˆÙ† ÙØ§ÛŒÙ„ `bcrypt.js` Ù‡Ø³ØªÙ†Ø¯ Ø±Ùˆ `export` Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ú©Ù‡ Ø¨ØªÙˆÙ†ÛŒÙ… Ø¯Ø± ÙØ§ÛŒÙ„ Ù‡Ø§ÛŒ Ø¯ÛŒÚ¯Ù‡ Ø¨Ù‡ Ø§ÙˆÙ†Ù‡Ø§ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… Ùˆ Ø§Ø²Ø´ÙˆÙ† Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… . 

```javascript
module.exports = {
  hash,
  compare,
};

```

# Validation Middleware 

Ø¯Ø±ÙˆÙ† ÙÙˆÙ„Ø¯Ø± `Middleware` ÛŒÚ© ÙØ§ÛŒÙ„ Ø¯Ø§Ø±ÛŒÙ… Ø¨Ù‡ Ø§Ø³Ù… `userValidation` Ú©Ù‡ Ù…Ø³Ø¦ÙˆÙ„ `valid` Ú©Ø±Ø¯Ù† Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯Ø±ÛŒØ§ÙØªÛŒ Ù‡Ø³ØªØ´ . 

Ú©Ù‡ Ø¯Ø±ÙˆÙ† [model user.js](#model-folder) Ø§Ø²Ø´ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯ÛŒÙ… Ù‡Ù…Ø±Ø§Ù‡ Ø¨Ø§ `statics` Ù‚Ø¨Ù„ Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ model Ø±Ùˆ Ø¨Ø³Ø§Ø²ÛŒÙ… . 

ÙˆÙ„ÛŒØ¯ÛŒØ´Ù† Ø±Ùˆ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡  Ù¾Ú©ÛŒØ¬ [yup](#yup) Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡ . 

ÛŒÚ© ÙØ§ÛŒÙ„ Ø¨Ù‡ Ø§Ø³Ù… `userValidation` Ø¯Ø±ÙˆÙ† ÙÙˆÙ„Ø¯Ø± `middleware` Ø¯Ø§Ø±ÛŒÙ… . 

![image](https://github.com/mosenn/MERN/assets/91747908/1e3c7bf0-38f6-495b-bb67-86bdd96e0586)

Ø¯Ø±ÙˆÙ† `userValidation` Ù…ÛŒØ§ÛŒÙ… `yup` Ø±Ùˆ `require` Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

```javascript
const yup = require("yup");
```

Ù‚Ø¯Ù… Ø¨Ø¹Ø¯ÛŒ ÛŒÚ© Ù…ØªØºÛŒÛŒØ± ØªØ¹Ø±ÛŒÙ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ùˆ ÛŒÚ© `shape` Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `yup` Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

```javascript 
const userRegisterValid = yup.object().shape({
});
```
 Ù…ÛŒØ§ÛŒÙ… Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ Ù…ØªØ¯ Ù‡Ø§ÛŒ Ø¯Ø±ÙˆÙ† `yup` ÙˆÙ„ÛŒØ¯ÛŒØ´Ù† Ø±Ùˆ Ø¨Ø±Ø§ÛŒ `userSchema` Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯ÛŒÙ… . 

 **Ù†Ú©ØªÙ‡** : Ù‡Ø± Ø¨Ø§Ø± Ú©Ù‡ Ø¨Ø®ÙˆØ§ÛŒÙ… ÛŒÚ© `schema` Ø±Ùˆ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `yup` ÙˆÙ„ÛŒØ¯ÛŒØ´Ù† Ú©Ù†ÛŒÙ… . Ø§Ø² Ù‡Ù…ÛŒÙ† Ø±ÙˆØ´ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… .

 Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ù…ÛŒØ§ÛŒÙ… `key` Ù‡Ø§ÛŒ Ú©Ù‡ Ø¯Ø±ÙˆÙ† `userSchema` Ø¯Ø§Ø±ÛŒÙ… ØªØ¹Ø±ÛŒÙ Ù…ÛŒ Ú©Ù†ÛŒÙ… . Ù†ÙˆØ¹ `type` Ø´ÙˆÙ† Ø±Ùˆ Ù…Ø´Ø®Øµ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

 Ùˆ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ Ù…ØªØ¯ Ù‡Ø§ÛŒ `yup` Ùˆ `regex` ÙˆÙ„ÛŒØ¯ÛŒØ´Ù† Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯ÛŒÙ… . 

 
```javascript 
const userRegisterValid = yup.object().shape({
    username: yup.string().trim().required().min(3, "username character +3 "),
});
```

Ø®Ø¨ Ø§ÛŒÙ†Ø¬Ø§ `username` Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `yup` ÙˆÙ„ÛŒØ¯ÛŒØ´Ù† Ø´Ø¯Ù‡ . 

Ø¯Ø± ÙˆØ§Ù‚Ø¹ `shape` Ú©Ù‡ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯ÛŒÙ… ÛŒÚ© `object` Ù‡Ø³Øª . 

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ `()username:yup.string` Ø¨Ù‡ Ù…Ù†Ø¸ÙˆØ± `string` Ø¨ÙˆØ¯Ù†Ù‡ . 

Ø§Ø² `()trimt` Ø¨Ø±Ø§ÛŒ Ø§Ø² Ø¨ÛŒÙ† Ø¨Ø±Ø¯Ù† ÙØ§ØµÙ„Ù‡ Ù‡Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯ÛŒÙ… . 

Ø§Ø² `()required` Ø¨Ù‡ Ø§ÛŒÙ† Ù…Ø¹Ù†ÛŒ Ú©Ù‡ Ø­ØªÙ…Ø§ `username` Ø¨Ø§ÛŒØ¯ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù‡ . 

Ø§Ø² `min` Ø¨Ø±Ø§ Ù…Ø´Ø®Øµ Ú©Ø±Ø¯Ù† ØªØ¹Ø¯Ø§Ø¯ `charcater` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯ÛŒÙ… . 

Ø¯Ø± Ø§Ø®Ø± ÛŒÚ© `string` Ø¨Ø±Ø§ÛŒ Ù†Ø´ÙˆÙ† Ø¯Ø§Ø¯Ù† Ù¾ÛŒØ§Ù… Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ `error` Ú¯Ø°Ø§Ø´ØªÛŒÙ… . 

Ø¨Ù‚ÛŒÙ‡ Ù…ÙˆØ§Ø±Ø¯ Ù‡Ù… Ø¨Ù‡ Ù‡Ù…ÛŒÙ† ØµÙˆØ±Øª Ù‡Ø³Øª  Ùˆ Ø¨Ø±Ø§ÛŒ `password` Ø§Ø² `regex` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯ÛŒÙ… . 

Ú©Ù‡ ÛŒØ¯ÙˆÙ†Ù‡ `hard password` Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ø«Ø¨Øª Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø± . 

Ø§Ú¯Ø± `email` Ù‡Ù… Ø¯Ø§Ø´ØªÛŒÙ… Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… Ø§Ø²  `regex` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… . 

Ø¯Ø± Ú©Ù„ Ù‡Ø± Ø¬Ø§ÛŒ Ú©Ù‡ Ù†ÛŒØ§Ø² Ø¨Ø§Ø´Ù‡ Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… Ø§Ø² `regex` Ø¯Ø± `yup` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… . 

Ú©Ù„ `userValidation`  Ø¨Ù‡ ØµÙˆØ±Øª Ø²ÛŒØ± Ù‡Ø³ØªØ´ : 

```javascript
const yup = require("yup");
const userRegisterValid = yup.object().shape({
  username: yup.string().trim().required().min(3, "username character +3 "),
  password: yup
    .string()
    .trim()
    .required("pasword 8 charcter a-A-2-@")
    .matches(
      /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/,
      "pasword 8 charcter a-A-2-@"
    )
    .min(8),
  confirmPassword: yup
    .string()
    .required()
    .oneOf([yup.ref("password"), null], "passwords is not match")
    .trim()
    .min(8, "passwords is not match"),
  pic: yup.string(),
});
```
Ø¯Ø± Ù‚Ø³Ù…Øª `password` Ø§Ø² `regex` Ùˆ Ù…ØªØ¯ `match` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡ . 

Ø¯Ø± Ù‚Ø³Ù…Øª `confirmPassword` Ø§Ø² `oneOf` Ø§Ø³ØªØ§Ø¯Ù‡ Ú©Ø±Ø¯ÛŒÙ… Ú©Ù‡ `ref` Ø²Ø¯Ù‡ Ø´Ø¯Ù‡ Ø¨Ù‡ `password` . 

Ø¯Ø± ÙˆØ§Ù‚Ø¹ `onOf` Ùˆ `ref` Ù…ÛŒØ§Ø¯ `confrimPassowrd` Ø±Ùˆ Ú†Ú© Ù…ÛŒ Ú©Ù†Ù‡ Ú©Ù‡ Ø¯Ù‚ÛŒÙ‚Ø§ Ø¹ÛŒÙ† Ø®ÙˆØ¯Ù‡ `password` Ø¨Ø§Ø´Ù‡ . 

Ø¯Ø± Ø§Ø®Ø± Ù…ÛŒØ§ÛŒÙ… `shape yup` Ú©Ù‡ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯ÛŒÙ… Ø±Ùˆ `export` Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

```javascript 
module.exports = userRegisterValid;
```

Ú©Ù‡ Ø¯Ø±ÙˆÙ† [model user.js](#model-folder) Ø§Ø²Ø´ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯Ù‡ Ø¨ÙˆØ¯ÛŒÙ… Ù‚Ø¨Ù„ Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ `schema` Ø¯Ø±ÙˆÙ† `data base` Ø°Ø®ÛŒØ±Ù‡ Ø´Ù‡ . 

# Controller Folder 

![image](https://github.com/mosenn/MERN/assets/91747908/491c7e3e-9c88-4fb0-ba35-172ce60b4aa7)

**Ù†Ú©ØªÙ‡** : Ø§Ø² `mvc` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . Ú©Ù‡ Ù…Ø®ÙÙ `model view controller` Ù‡Ø³Øª . 

Ú©Ù‡ ØªØ§ Ø¨Ù‡ Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ø§ `model` Ø§Ø´Ù†Ø§ Ø´Ø¯ÛŒÙ… . 

Ùˆ `view` Ø§ÛŒÙ† Ù¾Ø±ÙˆÚ˜Ù‡ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `reactjs` Ù‡Ù†Ø¯Ù„ Ù…ÛŒØ´Ù‡ Ùˆ ÙØ§ÛŒÙ„ `view` Ø¯Ø±ÙˆÙ† `server` Ù†Ø¯Ø§Ø±ÛŒÙ… . 

Ú©Ù‡ Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… `view` Ø±Ùˆ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… Ø¯Ø± Ø³Ù…Øª `server` 

Ø¯Ø± Ù…ÙˆØ±Ø¯ `controller` Ù‡Ù… Ø¯Ø± Ù‡Ù…ÛŒÙ† Ø¨Ø®Ø´ Ù…ÛŒ Ø®ÙˆØ§ÛŒÙ… Ø¯Ø± Ù…ÙˆØ±Ø¯Ø´ ØµØ­Ø¨Øª Ú©Ù†ÛŒÙ… . 

Ø®Ø¨ ÛŒÚ© ÙÙˆÙ„Ø¯Ø± Ø¯Ø§Ø±ÛŒÙ… Ø¨Ù‡ Ø§Ø³Ù… `controller` Ú©Ù‡ Ø¯Ø±ÙˆÙ† Ø§ÛŒÙ† ÙÙˆÙ„Ø¯Ø± ÙØ§ÛŒÙ„ Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ `controller route`  Ù‡Ø§ Ù‚Ø±Ø§Ø± Ø¯Ø§Ø±Ù‡ . 

Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ù‡Ø± api ÛŒÚ© `route` Ø¯Ø§Ø±Ù‡ Ùˆ Ù‡Ø± `route` ÛŒÚ© `controller` . 

Ø¯Ø± ÙˆØ§Ù‚Ø¹ `route` Ù‡Ø§ Ù‡Ù…ÙˆÙ† Ø§Ø¯Ø±Ø³ api Ù‡Ø³ØªÙ†Ø¯ Ú©Ù‡ Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… Ø§Ø²Ø´ÙˆÙ† `response` Ø¨Ú¯ÛŒØ±ÛŒÙ… ÛŒØ§ Ú†ÛŒØ²ÛŒ Ø±Ùˆ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒÙ… Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ Ù…ØªØ¯ `post`

Ùˆ `controller` Ù‡Ø§ ÙØ§Ù†Ú©Ø´Ù† Ù‡Ø§ÛŒ Ù‡Ø³ØªÙ†Ø¯ Ú©Ù‡ Ù…ÛŒØ§Ù† Ø¨Ø±Ø§ÛŒ `route` Ù‡Ø§ ØªØ¹Ø±ÛŒÙ Ù…ÛŒØ´Ù† . Ú©Ù‡ ÛŒÚ© Ø³Ø±ÛŒ Ø´Ø±Ø· Ø´Ø§ÛŒØ¯ Ú¯Ø°Ø§Ø´ØªÙ‡ Ø´Ù‡ . 

Ø¯Ø± Ú©Ù„ Ø¯Ø±ÙˆÙ†Ø´ÙˆÙ† ÛŒÚ© Ø³Ø±ÛŒ Ø¹Ù…Ù„ÛŒØ§Øª Ø§ØªÙØ§Ù‚ Ù…ÛŒ Ø§ÙØªÙ‡ Ùˆ `error` Ù‡Ø§ Ú©Ù†ØªØ±Ù„ Ù…ÛŒØ´Ù‡ . 

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª  Ø±Ùˆ Ø¨Ù‡ `route` Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒ Ú©Ù†Ù‡ Ùˆ `clinet` Ù…ÛŒ ØªÙˆÙ†Ù‡ `response` Ø±Ùˆ Ø¨Ø¨ÛŒÙ†Ù‡ . 

## user.js controller 

Ø¯Ø±ÙˆÙ† ÙØ§ÛŒÙ„ `user.js`  Ú©Ø§Ø± Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ´Ù‡ . 

Ù…Ø«Ù„ `register` , `login` Ùˆ ...  

Ø§ÙˆÙ„ Ø¨Ø¨Ù†ÛŒÙ… Ø¯Ø±ÙˆÙ† ÙØ§ÛŒÙ„ `user.js Ú†Ù‡ Ú†ÛŒØ²Ø§ÛŒ `require` Ø´Ø¯Ù‡ 

```javascript 
const { compare } = require("../middleware/bcrypt");
const userModel = require("../model/user");
const jwt = require("jsonwebtoken");
```

 Ø§ÛŒÙ†Ø¬Ø§ Ø§Ø² `compare` Ø¨Ø±Ø§ÛŒ Ù…Ù‚Ø§ÛŒØ³Ù‡ Ú©Ø±Ø¯Ù†  Ù¾Ø³ÙˆØ±Ø¯ÛŒ Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø¨Ø±Ø§ÛŒ Ù„Ø§Ú¯ÛŒÙ† ÙˆØ§Ø±Ø¯ Ù…ÛŒ Ú©Ù†Ù‡ . 

Ùˆ Ù¾Ø³ÙˆØ±Ø¯ÛŒ Ú©Ù‡ Ø¯Ø±ÙˆÙ† `data base` Ù‡Ø³Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ø¨Ù‡ `userModel` Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… Ø¯Ø± ÙˆØ§Ù‚Ø¹  [model](#model-folder)` Ù‡Ø³Øª Ú©Ù‡ Ø¨Ø±Ø§ÛŒ `user` Ù‡Ø§ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯ÛŒÙ… . 

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ `jwt` Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ø§Ù…Ø¯ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ø§Ø±Ø³Ø§Ù„ Ùˆ Ø³Øª Ú©Ø±Ø¯Ù† `token` Ø§Ø²Ø´ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ú©Ù‡ Ø¯Ø±ÙˆÙ† ÙØ§Ù†Ú©Ø´Ù† `loginUser` Ùˆ `profileUser` Ø§Ø²Ø´ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡ . 

**ÛŒØ§Ø¯Ø§ÙˆØ±ÛŒ** : `controller` Ù‡Ø§ Ø¯Ø± Ø§ØµÙ„ Ù‡Ù…Ú¯ÛŒ `function` Ù‡Ø³ØªÙ†Ø¯ 

**Ù†Ú©ØªÙ‡** : ØªÙ…Ø§Ù…ÛŒ `controller` Ù‡Ø§ ÙØ§Ù†Ú©Ø´Ù† Ù‡Ø§ÛŒ Ø§Ø² Ù†ÙˆØ¹ `async` Ù‡Ø³ØªÙ†Ø¯ 

Ø¨Ù‡ Ø§ÛŒÙ† Ø¯Ù„ÛŒÙ„ Ú©Ù‡  Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø± Ø¨Ø§ `data base` Ù†ÛŒØ§Ø² Ù‡Ø³Øª Ú©Ù‡ Ø§Ø² `await , async` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… . 

Ø§Ú¯Ø± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù†Ø´Ù‡ ØªÙˆÛŒ Ø§Ø±Ø³Ø§Ù„ `data` ÛŒØ§ Ø°Ø®ÛŒØ±Ù‡ Ú©Ø±Ø¯Ù† Ø¯Ø± `data base` Ø¨Ù‡ Ù…Ø´Ú©Ù„ Ù…ÛŒ Ø®ÙˆØ±ÛŒÙ… . 


### registerUser Controller 

Ù‡Ù…Ù†ÙˆØ·Ø± Ú©ÙÙ‡ Ú¯ÙØªÙ‡ Ø´Ø¯ ØªÙ…Ø§Ù…ÛŒ `controller` Ù‡Ø§ ÛŒÚ© ÙØ§Ù†Ú©Ø´Ù† Ù‡Ø³ØªÙ†Ø¯ . 

Ú©Ù‡ Ø§Ø² Ù†ÙˆØ¹ `async` Ù‡Ø³ØªÙ†Ø¯ . 

```javascript
const registerUser = async (req, res) => {
};
```

Ø¯Ø± ÙØ§Ù†Ú©Ø´Ù† `registerUser` Ù…ÛŒØ§ÛŒÙ… Ø¹Ù…Ù„ÛŒØ§Øª Ø«Ø¨Øª Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø± Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯ÛŒÙ… 

 Ø¨Ù‡ `route` Ùˆ `api` Ù…Ø¯ Ù†Ø¸Ø± Ù…Ø±Ø¨ÙˆØ· Ø¨Ø±Ø§ÛŒ Ø«Ø¨Øª Ù†Ø§Ù… Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒ Ú©Ù†ÛŒÙ… .

 Ø¯Ø± Ù‡Ø± `controller` Ú©Ù‡ Ø¨Ø±Ø§ÛŒ ÛŒØ§Ø¯Ø§ÙˆØ±ÛŒ ÛŒÚ© ÙØ§Ù†Ú©Ø´Ù† Ù‡Ø³ØªÙ†Ø¯ Ø§Ø² `try / catch` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

 ```javascript 
const registerUser = async (req, res) => {
  try {
  } catch (err) {
  }
};
```
Ù‡Ø± `controller` Ø±Ùˆ Ù…ÛŒØ§ÛŒÙ… `export` Ù…ÛŒ Ú©Ù†ÛŒÙ… Ú†ÙˆÙ† Ù…ÛŒ Ø®ÙˆØ§ÛŒÙ… Ø¯Ø±ÙˆÙ† `routes` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… .

```javascript 
module.exports = {
  registerUser,
};
```
Ø¯Ø± Ù‡Ø± `controller`  Ø¯Ùˆ ØªØ§ `parameter` Ø¯Ø§Ø±ÛŒÙ… Ø¨Ù‡ Ø§Ø³Ù… `req` , `res` .

Ú©Ù‡ `req` , `res` Ø§Ø²  `route`  Ù…ÛŒØ§Ù† .

ÛŒÚ© ÙÙˆÙ„Ø¯Ø± Ø¨Ù‡ Ø§Ø³Ù… `routes` Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø§Ø¯Ø±Ø³ api Ù‡Ø§ Ø±Ùˆ Ø§ÙˆÙ†Ø¬Ø§ ØªØ¹Ø±ÛŒÙ Ú©Ø±Ø¯ÛŒÙ… . 

![image](https://github.com/mosenn/MERN/assets/91747908/4f134f0e-fc2d-4295-8cd6-9da7bc8c7fc1)


Ùˆ   `clinet` Ø§ÛŒÙ† Ø§Ø¯Ø±Ø³ api Ù‡Ø§ Ø±Ùˆ Ù…ÛŒÚ¯ÛŒØ±Ù‡ Ú©Ù‡ Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ø§Ú¯Ø± Ù‡Ù…Ù‡ Ú†ÛŒ Ø®ÙˆØ¨ Ù¾ÛŒØ´ Ø¨Ø±Ù‡ ÛŒÚ© `response` Ø®ÙˆØ§Ù‡Ø¯ Ø¯Ø§Ø´Øª  . 

Ú©Ù‡ Ú©Ù…ÛŒ Ø¬Ù„ÙˆØªØ± ÙÙˆÙ„Ø¯Ø± `route` Ø±Ùˆ ØªÙˆØ¶ÛŒØ­ Ù…ÛŒØ¯ÛŒÙ… . 

Ø¨Ø± Ú¯Ø±Ø¯ÛŒÙ… Ø¨Ù‡ `registerUser` ÙØ§Ù†Ú©Ø´Ù† 

```javascript 
const registerUser = async (req, res) => {
  const errors = {};
  const { username, confirmPassword, password, pic } = req.body;
  try {
  } catch (err) {
  }
};
```

ÛŒÚ© Ù…ØªØºÛŒÛŒØ± Ø§Ø¨Ø¬Ú©Øª Ø¨Ù‡ Ø§Ø³Ù… `errors` Ø¨ÛŒØ±ÙˆÙ† Ø§Ø² Ø¨Ù„Ø§Ú© `try` Ø¯Ø§Ø±ÛŒÙ… .

Ø¨Ù‡ Ø§ÛŒÙ† Ø¯Ù„ÛŒÙ„ Ú©Ù‡ `message` Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ `yup` Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ø§ÛŒÙ†Ú©Ù‡ `username` Ú©Ø§Ø±Ø¨Ø± ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ù‡ Ø¯Ø± `data base` ÛŒØ§ Ù†Ù‡ Ø±Ùˆ Ù†Ø¯Ø§Ø±ÛŒÙ… . 

Ø¨Ù‡ Ù‡Ù…ÛŒÙ† Ø¯Ù„ÛŒÙ„ Ø§ÛŒÙ† `error` Ùˆ Ú†Ú© Ú©Ø±Ø¯Ù† Ø±Ùˆ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ ÛŒÚ© `if` Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯ÛŒÙ… Ùˆ `message error` Ø´Ùˆ Ø¯Ø±ÙˆÙ† `errors` Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… .

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ ÛŒÚ© `descracher` Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ù…Ù‚Ø§Ø¯ÛŒØ± Ú©Ù‡ `clinet` Ø¯Ø± `body` Ù…ÛŒ ÙØ±Ø³ØªÙ‡ Ø±Ùˆ Ú¯Ø±ÙØªÛŒÙ… . 

Ø¯Ø± ÙˆØ§Ù‚Ø¹ `form` Ú©Ù‡ Ø¨Ø±Ø§ÛŒ `register` Ø´Ø¯Ù† Ú©Ø§Ø±Ø¨Ø± Ø¯Ø± Ø³Ù…Øª `clinet` Ù‡Ø³Øª ÛŒÚ© Ø³Ø±ÛŒ `input` Ø¯Ø§Ø±Ù‡ . 

Ú©Ù‡ Ù…Ù‚Ø§Ø¯ÛŒØ± Ø§ÙˆÙ† Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒØ´Ù‡ Ø¨Ù‡ `api` Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ `register`




```javascript
  const { username, confirmPassword, password, pic } = req.body;
```

Ø¯Ø± Ø¨Ù„Ø§Ú© `try` ÙˆÙ„ÛŒØ¯ÛŒØ´Ù†ÛŒ Ú©Ù‡ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `yup` Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯ÛŒÙ… Ø¯Ø§Ø±ÛŒÙ… .

```javascript

const registerUser = async (req, res) => {
  const errors = {};
  const { username, confirmPassword, password, pic } = req.body;
  try {
    //* validation
    await userModel.userRegisterValid(req.body);

  } catch (err) {
};
```

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ù…ÛŒØ§ÛŒÙ… Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ Ù…ØªØ¯Ù‡ `findeOne` Ú†Ú© Ù…ÛŒ Ú©Ù†ÛŒÙ… Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ø¯Ø± Ø­Ø§Ù„ Ø«Ø¨Øª Ù†Ø§Ù… Ù‡Ø³Øª Ù‚Ø¨Ù„Ø§ Ø«Ø¨Øª Ù†Ø§Ù… Ú©Ø±Ø¯Ù‡ ØŸ 

Ø§Ú¯Ø± Ù‚Ø¨Ù„Ø§ Ø´Ø®ØµÛŒ Ø¨Ø§ Ø§Ú©Ø§Ù†Øª ÙˆØ§Ø±Ø¯ Ø´Ø¯Ù‡ Ø¯Ø±ÙˆÙ† `data base` ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´Øª  Ø¨ÙˆØ¯ ÛŒÚ© Ù¾ÛŒØ§Ù… Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† `error` Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒ Ú©Ù†ÛŒÙ… .

```javascript
const registerUser = async (req, res) => {
  const errors = {};
  const { username, confirmPassword, password, pic } = req.body;
  try {
    //* validation
    await userModel.userRegisterValid(req.body);
      const foundUser = await userModel.findOne({ username });
  } catch (err) {
};
```

ÛŒÚ© Ù…ØªÙÛŒÛŒØ± Ø¨Ù‡ Ø§Ø³Ù… `foundUser` ØªØ¹Ø±ÛŒÙ Ú©Ø±Ø¯ÛŒÙ… Ùˆ Ø¯Ø±ÙˆÙ† `data base` Ø¯Ø§Ø±ÛŒÙ… `username` Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ø«Ø¨Øª Ù†Ø§Ù… Ú†Ú© Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ø¨Ø¨ÛŒÙ†ÛŒÙ… Ø§ÛŒØ§ ÙˆØ§Ù‚Ø¹Ø§ Ø§ÛŒÙ† `user` Ø¯Ø±ÙˆÙ† `data base` Ù‡Ø³Øª ÛŒØ§ Ù†Ù‡ . 

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ ÛŒÚ© `if` Ø¯Ø§Ø±ÛŒÙ… . 


```javascript
const registerUser = async (req, res) => {
  const errors = {};
  const { username, confirmPassword, password, pic } = req.body;
  try {
    //* validation
    await userModel.userRegisterValid(req.body);
      const foundUser = await userModel.findOne({ username });
        if (foundUser) {
      errors.username = "this user before register";
          
    }
  } catch (err) {
};
```

Ø¯Ø± `if` Ú¯ÙØªÛŒÙ… Ø§Ú¯Ø± `foundUser` Ø¨ÙˆØ¯ Ø¨ÛŒØ§Ø¯ ÛŒÚ© Ù¾ÛŒØ§Ù… Ù…Ø¨Ù†ÛŒ Ø¨Ø± Ø§ÛŒÙ†Ú©Ù‡ Ø§ÛŒÙ† Ú©Ø§Ø±Ø¨Ø± Ù‚Ø¨Ù„Ø§ Ø«Ø¨Øª Ù†Ø§Ù… Ú©Ø±Ø¯Ù‡ Ø§ÛŒØ¬Ø§Ø¯ Ø´Ù‡ . 

Ùˆ Ø¯Ø± Ø§Ø¨Ø¬Ú©Øª `errors` Ø°Ø®ÛŒØ±Ù‡ Ø´Ù‡ . 

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ø³Ø§Ø®Øª Ø°Ø®ÛŒØ±Ù‡ Ø³Ø§Ø²ÛŒ Ø§Ú©Ø§Ù†Øª Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… Ø¯Ø± `data base` . 

```javascript
const registerUser = async (req, res) => {
  const errors = {};
  const { username, confirmPassword, password, pic } = req.body;
  try {
    //* validation
    await userModel.userRegisterValid(req.body);
      const foundUser = await userModel.findOne({ username });
        if (foundUser) {
      errors.username = "this user before register"; 
    }
   const users = await userModel.create({
      username,
      password,
      confirmPassword,
      pic,
    });
  } catch (err) {
};
```

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ù…ØªØ¯ `create` Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®Øª ÛŒÚ© `document`  Ù‡Ø± Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ø«Ø¨Øª Ù†Ø§Ù… Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯Ù‡ . 

ÛŒÚ© `document` Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒØ´Ù‡ Ø¯Ø±ÙˆÙ† `collection user` Ú©Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ `model` Ù‡Ø³Øª Ú©Ù‡ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯ÛŒÙ… . 

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ `users` Ø±Ùˆ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† `response` Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯Ù‡ . 

```javascript
const registerUser = async (req, res) => {
  const errors = {};
  const { username, confirmPassword, password, pic } = req.body;
  try {
    //* validation
    await userModel.userRegisterValid(req.body);
      const foundUser = await userModel.findOne({ username });
        if (foundUser) {
      errors.username = "this user before register"; 
    }
   const users = await userModel.create({
      username,
      password,
      confirmPassword,
      pic,
    });
    return res.status(201).json(users);
  } catch (err) {
};
```

Ú©Ù‡ Ø§Ø² `status code 201` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡ . 

```javascript 
    return res.status(201).json(users);
```

Ø¨Ø±ÛŒÙ… Ø³Ø±Ø§Øº Ø¨Ù„Ø§Ú© `catch` Ú©Ù‡ `error` Ù‡Ø§ Ù‡Ù†Ø¯Ù„ Ù…ÛŒØ´Ù‡ . 

Ú©Ù‡ Ø§Ú¯Ø± Ù…Ø´Ú©Ù„ÛŒ Ø¯Ø± `register` Ù¾ÛŒØ´ Ø§Ù…Ø¯ `error` Ù‡Ø§ Ùˆ Ù¾ÛŒØ§Ù… Ù‡Ø§ÛŒ Ù…Ø±ÙˆØ¨Ø· Ø¨Ù‡ `validation` Ø³Ù…Øª `client` Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒØ´Ù‡ .

```javascript
const registerUser = async (req, res) => {
  const errors = {};
  const { username, confirmPassword, password, pic } = req.body;
  try {
    //* validation
    await userModel.userRegisterValid(req.body);
      const foundUser = await userModel.findOne({ username });
        if (foundUser) {
      errors.username = "this user before register"; 
    }
   const users = await userModel.create({
      username,
      password,
      confirmPassword,
      pic,
    });
    return res.status(201).json(users);
  } catch (err) {
    err?.inner?.forEach((e) => {
      errors[e.path] = e.message;
    });
    return res.status(400).json(errors);
};
```
Ú©Ù‡ `err.inner`  Ø¯Ø± ØµÙˆØ±ØªÛŒ Ú©Ù‡ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´Øª ` ? ` ÛŒÚ© `forEach` Ø±ÙˆØ´ Ø²Ø¯Ù‡ Ù…ÛŒØ´Ù‡ Ùˆ ØªÙ…Ø§Ù…ÛŒ `message` Ù‡Ø§ Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒØ´Ù‡ . 

Ùˆ Ø¯Ø± Ù†Ù‡Ø§ÛŒØª ÛŒÚ© `404 status code` Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ù…Ø¨Ù†ÛŒ Ø¨Ø± Ø§ÛŒÙ†Ú©Ù‡ Ø®Ø·Ø§ÛŒ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ù‡ .

Ùˆ Ø¯Ø±ÙˆÙ† ÛŒÚ© `json` Ù‡Ø± Ø§Ù†Ú†Ù‡ Ø¯Ø±ÙˆÙ† `errors` Ø¯Ø§Ø±ÛŒÙ… Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒ Ú©Ù†ÛŒÙ… .


### LoginUser Controller 

Ø¯Ø± ÙØ§Ù†Ú©Ø´Ù† `loginUser` Ù…ÛŒØ§ÛŒÙ… Ù„Ø§Ú¯ÛŒÙ† Ø´Ø¯Ù† Ú©Ø§Ø±Ø¨Ø± Ø±Ùˆ Ú©Ù†ØªØ±Ù„ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ùˆ Ø§Ú¯Ø± Ú©Ø§Ø±Ø¨Ø± `login` Ø´Ø¯  ÛŒÚ© `token` Ø­Ø§ÙˆÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø± Ø¯Ø±ÙˆÙ† `cookie` Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒ Ø´Ù‡ .


```javascript 
const loginUser = async (req, res) => {
};
```

Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ø«Ø¨Øª Ù†Ø§Ù… Ú©Ø±Ø¯Ù‡ Ø¯Ø± Ù…ÛŒ ØªÙˆÙ†Ù‡ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `username` Ùˆ `password` Ù„Ø§Ú¯ÛŒÙ† Ú©Ù†Ù‡ . 

Ú©Ù‡ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ú†Ú© Ú©Ø±Ø¯Ù† Ø§ÛŒÙ†Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± `username` , `password` Ø±Ùˆ Ø¯Ø±Ø³Øª ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù‡ Ø±Ùˆ Ú†Ú© Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ø¯Ø± Ù‚Ø¯Ù… Ø§ÙˆÙ„ `username` Ùˆ `password` Ø±Ùˆ Ø§Ø² `req` Ù…ÛŒ Ú¯ÛŒØ±ÛŒÙ… . 
```javascript 
const loginUser = async (req, res) => {
  const { username, password } = req.body;
  try {
    const user = await userModel.findOne({ username });


  } catch (err) {

  }
```
Ø¨Ø¹Ø¯ Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ `username` Ùˆ `password` Ø±Ùˆ Ú¯Ø±ÙØªÛŒÙ… Ø§Ø² `req.body` Ù…ÛŒØ§ÛŒÙ… Ú†Ú© Ù…ÛŒ Ú©Ù†ÛŒÙ… Ú©Ù‡ Ù¾Ø³ÙˆØ±Ø¯ ÙˆØ§Ø±Ø¯ Ø´Ø¯Ù‡ Ø¯Ø±Ø³Øª Ø¨Ø§Ø´Ù‡ . 

Ø¯Ø± ÙˆØ§Ù‚Ø¹Ù‡ Ø¨Ø§ Ù¾Ø³ÙˆØ±Ø¯ÛŒ Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø«Ø¨Øª Ù†Ø§Ù… Ú©Ø±Ø¯Ù‡ ÛŒÚ©ÛŒ Ø¨Ø§Ø´Ù‡ . 

Ø§ÛŒÙ†Ø¬Ø§ Ù…ÛŒØ§ÛŒÙ… Ø§Ø² `compare` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ú©Ù‡ Ø¯Ø± Ø¨Ø®Ø´ `middelware` ØªÙˆØ¶ÛŒØ­ Ø´Ùˆ Ø¯Ø§Ø¯Ù‡ Ø¨ÙˆØ¯ÛŒÙ… .

```javascript 
const loginUser = async (req, res) => {
  const { username, password } = req.body;
  try {
    const user = await userModel.findOne({ username });
    const passowrdIsOky = await compare(password, user.password);
  } catch (err) {

  }
```
 
Ú©Ù‡ Ù†ÛŒØ§Ø² Ù‡Ø³Øª `password` Ú©Ù‡ Ø§Ø² Ø³Ù…Øª `clinet` Ø¯Ø±ÙˆÙ† `req.body` Ø¯Ø§Ø±ÛŒÙ… Ùˆ Ù¾Ø³ÙˆØ±Ø¯ÛŒ Ú©Ù‡ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `findOne` Ø§Ø² `data base` Ù…ÛŒÚ¯ÛŒØ±ÛŒÙ… Ø±Ùˆ Ø¨Ù‡ `compare` Ù¾Ø§Ø³ Ø¨Ø¯ÛŒÙ… . 

Ú©Ù‡ `compare` Ù…ÛŒØ§Ø¯ Ù¾Ø³ÙˆØ±Ø¯ Ù‡Ø§ Ø±Ùˆ Ù…Ù‚Ø§ÛŒØ³Ù‡ Ù…ÛŒ Ú©Ù†Ù‡ . 

Ú©Ù‡ `compare`  ÛŒÚ© `boolean` Ø¨Ø±Ú¯Ø´Øª Ù…ÛŒØ¯Ù‡ ÛŒØ§ `false` ÛŒØ§ `true` . 

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ø¯Ø±ÙˆÙ† `if` Ú¯ÙØªÛŒÙ… Ø§Ú¯Ø± `passwordIsOky` Ø¨ÙˆØ¯ . Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø§Ú¯Ø± `true` Ø¨ÙˆØ¯ . 

```javascript 
const loginUser = async (req, res) => {
  const { username, password } = req.body;
  try {
    const user = await userModel.findOne({ username });
    const passowrdIsOky = await compare(password, user.password);
    if (passowrdIsOky) {}
  } catch (err) {

  }
```
Ø¯Ø±ÙˆÙ† Ø§ÛŒÙ† `if` Ù…ÛŒØ§ÛŒÙ… ÛŒÚ© `token` Ø±Ùˆ `sign` Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ø¯Ø±ÙˆÙ† `token` Ø§Ø·Ù„Ø§Ø¹Ø§ØªÛŒ Ø±Ùˆ Ú©Ù‡ Ù…ÛŒ Ø®ÙˆØ§ÛŒÙ… Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ú©Ù‡ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯Ù† `token` Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `jsonwebtoken` Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ´Ù‡ . 



```javascript 
const loginUser = async (req, res) => {
  const { username, password } = req.body;
  try {
    const user = await userModel.findOne({ username });
    const passowrdIsOky = await compare(password, user.password);
    if (passowrdIsOky) {
  const userToken = await jwt.sign(
        {
          id: user._id,
          username: user.username,
          pic: user.pic,
        },
        process.env.JWT_SECRET,
        {}
      );

}
  } catch (err) {

  }
```

Ø§ÛŒÙ† `token` Ø±Ùˆ Ø¯Ø±ÙˆÙ† `cookie` Ø³Ù…Øª `server` Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø±Ùˆ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `json` Ø¨Ù‡ `client` Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 



```javascript 
const loginUser = async (req, res) => {
  const { username, password } = req.body;
  try {
    const user = await userModel.findOne({ username });
    const passowrdIsOky = await compare(password, user.password);
    if (passowrdIsOky) {
  const userToken = await jwt.sign(
        {
          id: user._id,
          username: user.username,
          pic: user.pic,
        },
        process.env.JWT_SECRET,
        {}
      );
      return res
        .status(200)
        .cookie("userToken", userToken, {
          secure: "false",
          sameSite: "none",
        })
        .json({
          id: user._id,
          username,
          pic: user.pic,
        });
}
  } catch (err) {

  }
```
 
Ú©Ù‡ ÛŒÚ© Ø³Ø±ÛŒ `option` Ø¯Ø§Ø±ÛŒÙ… Ø¨Ø±Ø§ÛŒ `cookie` Ù…Ø«Ù„ `secure` Ùˆ `sameSite` Ø¨Ø±Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ú©Ø±Ø¯Ù† `cookie` Ø¯Ø± Ø³Ù…Øª Ø³Ø±ÙˆØ± Ù†ÛŒØ§Ø² Ù‡Ø³Øª Ú©Ù‡ `credinatial ` Ù‡Ù… Ø³Øª Ú©Ù†ÛŒÙ… . 

Ú©Ù‡ Ø§ÛŒÙ†Ú©Ø§Ø±Ùˆ Ø¯Ø± `cors` Ø¯Ø± ÙØ§ÛŒÙ„ `index.js` Ø§Ù†Ø¬Ø§Ù… Ø¯Ø§Ø¯ÛŒÙ… . 

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ ` if ` ÛŒÚ© `else` Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ `throw ` Ù…ÛŒ Ú©Ù†Ù‡ `err` Ø±Ùˆ . 

```javascript 
const loginUser = async (req, res) => {
  const { username, password } = req.body;
  try {
    const user = await userModel.findOne({ username });
    const passowrdIsOky = await compare(password, user.password);
    if (passowrdIsOky) {
  const userToken = await jwt.sign(
        {
          id: user._id,
          username: user.username,
          pic: user.pic,
        },
        process.env.JWT_SECRET,
        {}
      );
      return res
        .status(200)
        .cookie("userToken", userToken, {
          secure: "false",
          sameSite: "none",
        })
        .json({
          id: user._id,
          username,
          pic: user.pic,
        });
} else {
      throw "err";
    }
  } catch (err) {
    console.log(err);
    return res.status(400).json("user or password is worng");
  }
```
Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ø¨Ù„Ø§Ú© `catch` Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… . 

Ø§Ú¯Ø± `error` Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… Ùˆ `login` Ú©Ø§Ø±Ø¨Ø± Ø¨Ù‡ Ù…Ø´Ú©Ù„ÛŒ Ø¨Ø®ÙˆØ±Ù‡ Ø¯Ø± Ø¨Ù„Ø§Ú© `catch` Ù‡Ù†Ø¯Ù„ Ù…ÛŒØ´Ù‡ Ùˆ Ø¨Ù‡ Ø³Ù…Øª `client` Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒØ´Ù‡ . 

Ú©Ù‡ Ø§ÛŒÙ†Ø¬Ø§ Ø§Ú¯Ø± Ú©Ø§Ø±Ø¨Ø± `username` ÛŒØ§ `password` Ø®ÙˆØ¯Ø´Ùˆ Ø§Ø´ØªØ¨Ø§Ù‡ Ø¨Ø²Ù†Ù‡ . 

Ø¯Ø± Ø¨Ù„Ø§Ú© `catch` ÛŒÚ© `json` Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯Ù‡ Ú©Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ ÛŒÚ© `string` Ù‡Ø³Øª . `user or password is worng` . 

Ø§Ú¯Ø± Ø³ÙˆØ§Ù„Ù‡ Ú©Ù‡ `username` Ú†Ø·ÙˆØ±ÛŒ Ú†Ú© Ù…ÛŒØ´Ù‡ . 

Ø¯Ø§Ø±ÛŒÙ… `username` Ø±Ùˆ Ø§Ø² Ø¯Ø±ÙˆÙ† `data base` Ù…ÛŒ Ú¯ÛŒØ±ÛŒÙ… Ùˆ Ø¨Ù‡ Ù¾Ø³ÙˆØ±Ø¯Ø´ Ø¯Ø³ØªØ±Ø³ÛŒ Ù…ÛŒ Ú¯ÛŒØ±ÛŒÙ… .

Ø¨Ù‡ `compare` Ù¾Ø§Ø³ Ù…ÛŒØ¯ÛŒÙ… . 

```javascript
  const user = await userModel.findOne({ username });
   const passowrdIsOky = await compare(password, user.password);
```

Ø§ÛŒÙ†Ø¬Ø§Ø³Øª Ú©Ù‡ Ø§Ú¯Ø± `username` Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± ÙˆØ§Ø±Ø¯ Ù…ÛŒ Ú©Ù†Ù‡ Ø¯Ø±ÙˆÙ† `data base` Ù†Ø¨Ø§Ø´Ù‡ . 

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª `user.password` Ù‡Ù… ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ù‡ Ø¨Ø§ Ø§Ø±ÙˆØ± Ù…ÙˆØ§Ø¬Ù‡ Ù…ÛŒØ´Ù‡ 

Ø¯Ø± Ù†ØªÛŒØ¬Ù‡ Ø¨Ù„Ø§Ú© `else` Ø§Ø¬Ø±Ø§ Ù…ÛŒØ´Ù‡ Ú©Ù‡ Ø¯Ø§Ø±Ù‡ `throw` Ù…ÛŒ Ú©Ù†Ù‡ ÛŒÚ© `error` Ø±Ùˆ . 

```javascript 
else {
      throw "err";
    }
```

Ùˆ Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ `throw` Ø¯Ø§Ø±ÛŒÙ… Ø¨Ù„Ø§Ú© catch Ø§Ø¬Ø±Ø§ Ù…ÛŒØ´Ù‡ . 

```javascript 
catch (err) {
    console.log(err);
    return res.status(400).json("user or password is worng");
  }
```

Ø§ÛŒÙ†Ø¬ÙˆØ±ÛŒ Ù…ÛŒØ´Ù‡ Ú©Ù‡ Ø¨Ø§ Ù…ØªØºÛŒÛŒØ± `paswordIsOkey` Ù¾Ø³ÙˆØ±Ø¯ Ú©Ø§Ø±Ø¨Ø± Ø±Ùˆ Ú†Ú© Ù…ÛŒ Ú©Ù†Ù‡ . 

Ùˆ Ú†ÙˆÙ† Ø¯Ø§Ø±ÛŒÙ… `findOne` Ù…ÛŒ Ø²Ù†ÛŒÙ… `username` Ø±Ùˆ Ø§Ú¯Ø± Ù†Ø¨Ø§Ø´Ù‡ Ø¨Ø§Ø² Ø¨Ù‡ Ø§Ø±ÙˆØ± Ù…ÛŒ Ø®ÙˆØ±ÛŒÙ… .

Ø¯Ø± Ù†ØªÛŒØ¬Ù‡ Ù¾ÛŒØ§Ù… Ø¯Ø±ÙˆÙ†  Ø¨Ù„Ø§Ú© `catch` Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† ÛŒÚ© `error` Ø¨Ù‡ Ø³Ù…Øª `clinet` Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒØ´Ù‡ .

### profileUser Controller 


ÙØ§Ù†Ú©Ø´Ù† `profileUser`  Ù…ÛŒØ§Ø¯ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ `login` Ø´Ø¯Ù‡ Ø±Ùˆ Ø§Ø² Ø¯Ø±ÙˆÙ† `token` Ú©Ù‡ Ø¯Ø±ÙˆÙ† `cookie` Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯Ù‡ Ù…ÛŒÚ¯ÛŒØ±Ù‡ .

Ø¯Ø± ØµÙˆØ±ØªÛŒ Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± `login` Ø´Ø¯ Ùˆ `token` Ú©Ù‡ Ø¯Ø±ÙˆÙ† `cookie` Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯Ù‡ Ø±Ùˆ 

Ù…ÛŒ Ú¯ÛŒØ±Ù‡ Ùˆ Ø§ÙˆÙ„ `token` Ø±Ùˆ Ù…ÛŒØ§Ø¯ `verify` Ù…ÛŒ Ú©Ù†Ù‡   . 

Ùˆ `token` Ø­Ø§ÙˆÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±ÛŒ Ù‡Ø³Øª Ú©Ù‡ `login`  Ø´Ø¯Ù‡ . 



```javascript 
const profileUser = async (req, res) => {
try {
  } catch (err) {
  } 
};
```

Ø¯Ø±ÙˆÙ† Ø¨Ù„Ø§Ú© `try` Ù…ÛŒØ§ÛŒÙ… `cookie` Ú©Ù‡ Ø³Øª Ú©Ø±Ø¯ÛŒÙ… Ø±Ùˆ Ù…ÛŒÚ¯ÛŒØ±ÛŒÙ… Ø§Ø² Ø¯Ø§Ø®Ù„ `req.cookie`

```javascript 
const profileUser = async (req, res) => {
try {
   const { userToken } = req.cookies;
  } catch (err) {
  } 
};
```

Ú©Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ ØªÙˆÚ©Ù† Ù…Ø§ Ù‡Ø³Øª Ø­Ø§ÙˆÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø± Ú©Ù‡ Ù„Ø§Ú¯ÛŒÙ† Ø´Ø¯Ù‡ .

Ø¨Ø±Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù†ÛŒØ§Ø² Ù‡Ø³Øª Ú©Ù‡ `token` Ø±Ùˆ `verify` Ú©Ù†ÛŒÙ… .

ÛŒÚ© `if` Ø¯Ø§Ø±ÛŒÙ… Ú¯ÙØªÛŒÙ… Ø§Ú¯Ø± Ú©Ù‡ `userToken` ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´Øª . 

Ø¨ÛŒØ§Ø¯ `token` Ø±Ùˆ `verify` Ú©Ù†Ù‡ . 

Ø¯Ø± `jwt.verify` Ù…Ù‚Ø¯Ø§Ø± Ø§ÙˆÙ„ Ø§Ø³Ù… `coockie` Ù‡Ø³Øª Ù…Ù‚Ø¯Ø§Ø± Ø¯ÙˆÙ… `secert` Ú©Ù‡ Ù…ÙˆÙ‚Ø¹ Ø³Øª Ú©Ø±Ø¯Ù† `token` ØªØ¹ÛŒÛŒÙ† Ø´Ø¯Ù‡ .|

Ù…Ù‚Ø¯Ø§Ø± Ø§Ø®Ø± Ø¯Ø± ÙˆØ§Ù‚Ø¹ ÛŒÚ© ` { } ` Ø®Ø§Ù„ÛŒ Ù‡Ø³Øª . 

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `res.json` Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø±Ùˆ Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

```javascript 
const profileUser = async (req, res) => {
try {
   const { userToken } = req.cookies;
    if (userToken) {
      const user = await jwt.verify(userToken, process.env.JWT_SECRET, {});
      return res.status(200).json(user);
    }
  } catch (err) {
  } 
};
```

Ø¯Ø± Ù‚Ø³Ù…Øª `catch` Ø¯Ø± ØµÙˆØ±ØªÛŒ Ú©Ù‡ `token` ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø´Øª ÛŒÚ© Ø§Ø±ÙˆØ± Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 


```javascript 
const profileUser = async (req, res) => {
try {
   const { userToken } = req.cookies;
    if (userToken) {
      const user = await jwt.verify(userToken, process.env.JWT_SECRET, {});
      return res.status(200).json(user);
    }
  } catch (err) {
 return res.status(401).json({ error: "Invalid or expired token" });
  } 
};
```

### logoutUser controller 

ÙØ§Ù†Ú©Ø´Ù† `logoutUser` Ø¯Ø± ÙˆØ§Ù‚Ø¹ `token` Ø±Ùˆ Ø§Ø² Ø¯Ø±ÙˆÙ† `cookie` Ù…ÛŒØ§ÛŒØ¯ `remove` Ù…ÛŒ Ú©Ù†Ù‡ Ø¯Ø± Ù†Ù‡Ø§ÛŒØª 

Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ `login` Ù‡Ø³Øª Ù…ÛŒØ§Ø¯ `logout` Ù…ÛŒØ´Ù‡ , ÛŒÚ© Ù¾ÛŒØ§Ù… Ù…Ø¨Ù†ÛŒ Ø¨Ø± `logout` Ø´Ø¯Ù† Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯Ù‡ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `json` .
```javascript
const logoutUser = async (req, res) => {
  try {
    return res.cookie("userToken", "").status(200).json("user is logout");
  } catch (err) {
    console.log("logout controll err", err);
  }
};
```


### exports all controller 

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª ØªÙ…Ø§Ù…ÛŒ `controller` Ù‡Ø§ Ø±Ùˆ `export` Ù…ÛŒ Ú©Ù†ÛŒÙ… .

```javascript
module.exports = {
  registerUser,
  loginUser,
  profileUser,
  logoutUser,
};
```


# Routes Folder

![image](https://github.com/mosenn/MERN/assets/91747908/8d19effd-5f86-4020-90e8-0f4eed46bf38)

Ø¯Ø±ÙˆÙ† ÙÙˆÙ„Ø¯Ø± `routes` Ù…ÛŒØ§ÛŒÙ… Ø§Ø² `controller` Ù‡Ø§ÛŒ Ú©Ù‡ Ù†ÙˆØ´ØªÛŒÙ… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ùˆ Ø¨Ø±Ø§ÛŒ Ù‡Ø± `controller` ÛŒÚ© Ø§Ø¯Ø±Ø³ ØªØ¹ÛŒÛŒÙ† Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ú©Ù‡ Ù…ÛŒØ´Ù‡ `api` Ø±ÛŒØ³Ù¾Ø§Ù†Ø³ `controller` Ù‡Ø§Ù…ÙˆÙ† Ø±Ùˆ  Ø¯Ø±ÙˆÙ† `api` Ú©Ù‡ Ù…ÛŒ Ù†ÙˆÛŒØ³ÛŒÙ…  Ø¯Ø§Ø±ÛŒÙ… .

Ø¯Ø± Ù‚Ø¯Ù… Ø§ÙˆÙ„ Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ `Router` Ø±Ùˆ Ø§Ø² Ø¯ÙˆØ±Ù† `express` ØµØ¯Ø§ Ø¨Ø²Ù†ÛŒÙ… Ùˆ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… .

```javascript
const userRoute = require("express").Router();
```

Ø¯Ø± Ù‚Ø¯Ù… Ø¨Ø¹Ø¯ÛŒ ØªÙ…Ø§Ù…ÛŒ `controller` Ù‡Ø§ÛŒ Ú©Ù‡ Ù†ÙˆØ´ØªÛŒÙ… Ø±Ùˆ `export` Ù…ÛŒ Ú©Ù†ÛŒÙ… 

```javascript 
const {
  registerUser,
  loginUser,
  profileUser,
  logoutUser,
} = require("../controller/user");
```

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ù…ÛŒØ§ÛŒÙ… `route` Ù‡Ø§Ø±Ùˆ Ù…ÛŒ Ù†ÙˆÛŒØ³ÛŒÙ… Ùˆ `controller` Ù‡Ø§ Ø±Ùˆ Ø¨Ù‡Ø´ Ù¾Ø§Ø³ Ù…ÛŒØ¯ÛŒÙ… 

```javascript 
//* POST create user (register user)
userRoute.post("/register", registerUser);
//* POST login user
userRoute.post("/login", loginUser);
//* Get user online with cookie ( jwt user token)
userRoute.get("/profile", profileUser);
//* logout
userRoute.post("/logout", logoutUser);
```

Ø¯Ø± Ù‡Ø± Ø§Ø¯Ø±Ø³ÛŒ Ù…ÛŒØ§Ø¯ ÙØ§Ù†Ú©Ø´Ù† Ú©Ù‡ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† contorller Ù†ÙˆØ´ØªÛŒÙ… Ø§Ø¹Ù…Ø§Ù„ Ù…ÛŒØ´Ù‡ .

Ùˆ Ø±ÛŒØ³Ù¾Ø§Ù†Ø³ Ø±Ùˆ Ø¨Ù‡ Ù…Ø§ Ø¨Ø±Ú¯Ø´Øª Ù…ÛŒØ¯Ù‡  . 

Ú©Ø§ÙÛŒÙ‡ Ú©Ù‡ `userRoute` Ú©Ù‡ Ø¯Ø§Ø±ÛŒÙ… Ø¨ÛŒØ§ÛŒÙ… `export` Ú©Ù†ÛŒÙ… Ùˆ Ø¯Ø±ÙˆÙ† `index.js` Ø§Ø²Ø´ÙˆÙ† Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… . 

```javascript

module.exports = userRoute;
```

Ø¯Ø±ÙˆÙ† `index.js` Ù…ÛŒØ§ÛŒÙ… Ø§Ø² `route` Ù‡Ø§ÛŒ Ú©Ù‡ Ù†ÙˆØ´ØªÛŒÙ… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

```javascript 
app.use("/", require("./routes/user"));
```

Ø¨Ù‡ Ø§ÛŒÙ† Ø´Ú©Ù„ Ø§Ø²Ø´ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

# Posts 

Ø¯Ø± Ø§ÛŒÙ† Ø¨Ø®Ø´ Ù‡Ø± Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ù„Ø§Ú¯ÛŒÙ† Ú©Ø±Ø¯Ù‡ Ù…ÛŒ ØªÙˆÙ†Ù‡ ÛŒÚ© Ù¾Ø³Øª Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†Ù‡ . 

Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ø³Øª Ø±Ùˆ Ø³Ù…Øª Ø³Ø±ÙˆØ± Ø¯Ø§Ø±ÛŒÙ… Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ Ú©Ø§Ø±Ø¨Ø± . 


### Post Schema

Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¨ØªÙˆÙ†ÛŒÙ… Ø§ÛŒØ¬Ø§Ø¯ `post` Ø±Ùˆ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… Ø§ÙˆÙ„ Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ ÛŒÚ© `schema` Ù¾Ø³Øª Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… . 

Ù…ÛŒØ§ÛŒÙ… Ø¯Ø±ÙˆÙ† ÙÙˆÙ„Ø¯Ø± `model` Ùˆ ÛŒÚ© ÙØ§ÛŒÙ„ Ø¨Ù‡ Ø§Ø³Ù… `post` Ù…ÛŒ Ø³Ø§Ø²ÛŒÙ… : 

<img src='https://github.com/mosenn/MERN/assets/91747908/c327c675-2efb-4e98-ba60-6ea2278e6159' alt='create model in express' />

Ù…ÛŒØ§ÛŒÙ… Ø¯Ø±ÙˆÙ† Ø§ÛŒÙ† ÙØ§ÛŒÙ„ `model`  Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ `post` Ø±Ùˆ Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒ Ú©Ù†ÛŒÙ… : 

```javascript 
const mongoose = require("mongoose");
const commentModel = require("./comment");

const postSchema = new mongoose.Schema(
  {
    title: {
      type: String,
      required: true,
    },

    summery: {
      type: String,
      required: true,
    },

    content: {
      type: String,
      required: true,
    },
    cover: {
      type: String,
      required: true,
    },

    author: {
      type: mongoose.Schema.Types.ObjectId,
      ref: "users",
    },
  },
  {
    timestamps: true,
  }
);
const postModel = mongoose.model("posts", postSchema);
module.exports = postModel;

```

Ù…ÙˆÙ‚Ø¹ Ø³Ø§Ø®Øª `schema post` Ø§Ù…Ø¯ÛŒÙ… 1 `ref` Ø²Ø¯ÛŒÙ…  Ø¨Ù‡ `author` . 

Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¨ØªÙˆÙ†ÛŒÙ… Ù…ØªÙˆØ¬Ù‡ Ø´ÛŒÙ… Ú†Ù‡ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø§Ù…Ø¯Ù‡ `post` Ø±Ùˆ Ø³Ø§Ø®ØªÙ‡ . 

Ø§ÛŒÙ† Ú©Ø§Ø± Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `ObjectId` Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ´Ù‡ . 

Ø¨Ù‡ `id` Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ù¾Ø³Øª Ø±Ùˆ Ø³Ø§Ø®ØªÙ‡ Ø¯Ø³ØªØ±Ø³ÛŒ Ù…ÛŒ Ú¯ÛŒØ±ÛŒÙ… Ùˆ Ù…ØªÙˆØ¬Ù‡ Ù…ÛŒ Ø´ÛŒÙ… Ú©Ù‡ Ú†Ù‡ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ù¾Ø³Øª Ø±Ùˆ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯Ù‡ . 

Ú©Ù‡ Ø§ÛŒÙ†Ø¬Ø§ Ù…ÙˆÙ‚Ø¹ Ø³Ø§Ø®Øª Ù¾Ø³Øª Ù†ÛŒØ§Ø² Ù‡Ø³Øª Ú©Ù‡ `id` Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ `login` Ù‡Ø³Øª Ø¨Ø±Ø§ÛŒ `author` Ø³Øª Ú©Ù†ÛŒÙ…  .

Ú©Ù‡ Ú©Ù…ÛŒ Ù¾Ø§ÛŒÛŒÙ† ØªØ± Ø¨Ù‡ Ø§ÛŒÙ† Ù…ÙˆØ¶ÙˆØ¹ Ù¾Ø±Ø¯Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ .  

Ùˆ Ú¯Ø±ÙØªÙ† Ù¾Ø³Øª Ù‡Ø§ÛŒ Ú©Ù‡ Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯Ù‡ Ø±Ùˆ Ø¨Ø±Ø§Ø´ÙˆÙ† api Ù…ÛŒ Ù†ÙˆÛŒØ³ÛŒÙ… Ú©Ù‡ Ø¯Ø± Ø³Ù…Øª Ú©Ù„Ø§ÛŒÙ†Øª Ø¨ØªÙˆÙ†ÛŒÙ… `post` Ù‡Ø§ÛŒ Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ Ø±Ùˆ Ù†Ù…Ø§ÛŒØ´ Ø¨Ø¯ÛŒÙ… . 

### Post controller 


Ø¯Ø±ÙˆÙ† `controller` Ù…ÛŒØ§ÛŒÙ… ÙØ§ÛŒÙ„ `post.js` Ø±Ùˆ Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

<img src='https://github.com/mosenn/MERN/assets/91747908/d45d0a00-c91c-425d-8408-9a5417240a28' alt='expressjs server'>

Ø¯Ø±ÙˆÙ† `controller post` Ù‚Ø±Ø§Ø± Ø¹Ù…Ù„ÛŒØ§Øª `crud` Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ø¨Ø¯ÛŒÙ… . 
.
Ù¾Ø³Øª Ø±Ùˆ Ø¨Ø³Ø§Ø²ÛŒÙ… , Ù¾Ø³Øª Ù‡Ø§ÛŒ Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ Ø¯Ø±ÙˆÙ† Ø¯ÛŒØªØ§ Ø¨ÛŒØ³ Ø±Ùˆ Ø¨Ú¯ÛŒØ±ÛŒÙ… Ùˆ Ø¨ÙØ±Ø³ÛŒØªÙ… Ø³Ù…Øª Ú©Ù„Ø§ÛŒÙ†Øª  ,  Ø§Ù¾Ø¯ÛŒØª Ú©Ù†ÛŒÙ… , Ù¾Ø§Ú© Ú©Ù†ÛŒÙ… 

**Ù†Ú©ØªÙ‡ :** Ø¯Ø± ÙˆØ§Ù‚Ø¹ `crud`  Ù…Ø®ÙÙ `create` , `read` , `update` , `delete` Ù‡Ø³Øª . 


### Create post controller

Ø§ÙˆÙ„ÛŒÙ† Ú©Ø§Ø±ÛŒ Ú©Ù‡ ØµÙˆØ±Øª Ù…ÛŒÚ¯ÛŒØ±Ù‡ Ø³Ø§Ø®Øª `post` Ù‡Ø³Øª . 

Ù¾Ø³ Ù…ÛŒØ§ÛŒÙ… ÙØ§Ù†Ú©Ø´Ù† Ú©Ù‡ Ù‚Ø±Ø§Ø± Ø³Ø§Ø®Øª Ù¾Ø³Øª Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ø¨Ø¯Ù‡ Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ø¯Ø± ÙˆØ§Ù‚Ø¹ `controller` Ú©Ù‡ Ù‚Ø±Ø§Ø± Ù‡Ø³Øª `controller` Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ø¨Ø¯Ù‡ ÛŒØ§ Ù‡Ù…ÙˆÙ† Ú©Ù†ØªØ±Ù„ Ú©Ù†Ù‡ . 

```javascript 
const createPost = async (req, res) => {

};
```

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ù…Ù‚Ø§Ø¯ÛŒØ± Ú©Ù‡ Ù†ÛŒØ§Ø² Ù‡Ø³Øª Ø±Ùˆ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… Ø§Ø² `req.body`  Ù…ÛŒÚ¯ÛŒØ±ÛŒÙ… Ú©Ù‡ Ø§ÛŒÙ† Ù…Ù‚Ø§Ø¯ÛŒØ± Ø§Ø² Ø³Ù…Øª ÙØ±Ø§Ù†Øª Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒØ´Ù‡ . 

Ùˆ Ø§Ù„Ø¨ØªÙ‡ Ø¯Ø±ÙˆÙ† `schema post` Ù‡Ù… Ù‡Ù…ÛŒÙ† Ù…Ù‚Ø§Ø¯ÛŒØ± ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ . 

```javascript 
const createPost = async (req, res) => {
  const { content, title, summery, cover } = req.body;
```

Ø®Ø¨ Ù†ÛŒØ§ Ù‡Ø³Øª `model post` Ú©Ù‡ Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯Ù‡ Ø±Ùˆ Ø¯Ø±ÙˆÙ† Ø¨Ù„Ø§Ú©  try ØµØ¯Ø§ Ø¨Ø²Ù†ÛŒÙ… Ùˆ Ù¾Ø³Øª Ø®ÙˆØ¯Ù…ÙˆÙ† Ø±Ùˆ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ Ù…ØªØ¯ `create` Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÛŒÙ… . 

Ø¯Ù‚ÛŒÙ‚Ø§ Ù…Ø«Ù„ Ø³Ø§Ø®Øª Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¯Ø± Ù‚Ø³Ù…Øª `register` . 

```javascript 
const createPost = async (req, res) => {
  const { content, title, summery, cover } = req.body;
  try {
    const { userToken } = req.cookies;
    if (userToken) {
      const user = await jwt.verify(userToken, process.env.JWT_SECRET, {});
      const post = await postModel.create({
        content,
        title,
        summery,
        cover,
        author: user.id,
      });
      return res.status(201).json({ data: post, message: "post is create" });
    }
  } catch (err) {
    console.log("Create Post", err);
    return err;
  }
};
```
Ø¯Ø±ÙˆÙ† Ø¨Ù„Ø§Ú© `try` Ø¯Ø± Ú©Ø¯ Ø¨Ø§Ù„Ø§ Ø§ÙˆÙ„ `userToken` Ø±Ùˆ Ø§Ø² `req.cookies` Ú¯Ø±ÙØªÛŒÙ… . 

Ø§Ú¯Ø± ÛŒØ§Ø¯ØªÙˆÙ† Ø¨Ø§Ø´Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± `login` Ù…ÛŒØ´Ù‡ Ø¯Ø± Ø³Ø§ÛŒØª ÛŒÚ© `token` Ø¯Ø± `cookie` Ø³Ø±ÙˆØ± Ù…ÛŒØ§Ø¯ set Ù…ÛŒØ´Ù‡ . 

Ú©Ù‡ Ø§ÛŒÙ† `cookie` Ø­Ø§ÙˆÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±ÛŒ Ù‡Ø³Øª Ú©Ù‡ `login` Ø´Ø¯Ù‡ . 

Ùˆ Ø¨ÙˆØ¯Ù† Ø§ÛŒÙ† `cookie` Ù†Ø´ÙˆÙ† Ø¯Ù‡Ù†Ø¯Ù‡ Ø§ÛŒÙ† Ù…ÙˆØ¶ÙˆØ¹ Ù‡Ø³Øª Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ù…Ø§ Ù„Ø§Ú¯ÛŒÙ† Ø´Ø¯Ù‡ . 

Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù…ÛŒ Ø®ÙˆØ§ÛŒÙ… ÙÙ‚Ø· Ú©Ø§Ø±Ø¨Ø± Ù‡Ø§ÛŒ Ú©Ù‡ Ù„Ø§Ú¯ÛŒÙ† Ù‡Ø³ØªÙ†Ø¯ Ø¨ØªÙˆÙ†Ù†Ø¯ post Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†Ù†Ø¯ . 

```javascript
  try {
    const { userToken } = req.cookies;
    if (userToken) {
      const user = await jwt.verify(userToken, process.env.JWT_SECRET, {});
      const post = await postModel.create({
        content,
        title,
        summery,
        cover,
        author: user.id,
      });
      return res.status(201).json({ data: post, message: "post is create" });
    }
```

Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… Ø§ÙˆÙ„ Ú†Ú© Ú©Ù†ÛŒÙ… Ø¨Ø¨ÛŒÙ†Ù… Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ù…Ø§ Ù„Ø§Ú¯ÛŒÙ† Ø´Ø¯Ù‡ ÛŒØ§ Ù†Ù‡ Ú©Ù‡ Ø§ÛŒÙ†Ú©Ø§Ø± Ø±Ùˆ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `userToken` Ø§Ù†Ø¬Ø§Ù… Ø¯Ø§Ø¯ÛŒÙ…  . 

Ù‚Ø¯Ù… Ø¨Ø¹Ø¯ÛŒ Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… Ø¨Ù‡ `id` Ú©Ø§Ø±Ø¨Ø± Ú©Ù‡ Ù„Ø§Ú¯ÛŒÙ† Ø´Ø¯Ù‡ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… Ú†ÙˆÙ† Ù…ÛŒ Ø®ÙˆØ§ÛŒÙ… Ø¨Ø¯ÙˆÙ†ÛŒÙ… Ú©Ø¯ÙˆÙ… Ú©Ø§Ø±Ø¨Ø± Ø¯Ø§Ø±Ù‡ ÛŒÚ© Ù¾Ø³Øª Ø±Ùˆ Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒ Ú©Ù†Ù‡ . 

Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¨Ù‡ `id` Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ù„Ø§Ú¯ÛŒÙ† Ø´Ø¯Ù‡ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ú¯ÛŒØ±ÛŒÙ… Ù†ÛŒØ§ Ø¯Ø§Ø±ÛŒÙ… ØªÙˆÚ©Ù† Ø®ÙˆØ¯Ù…ÙˆÙ† Ø±Ùˆ `verify` Ú©Ù†ÛŒÙ… Ùˆ `id` Ø±Ùˆ Ø¨Ú©Ø´ÛŒÙ… Ø¨ÛŒØ±ÙˆÙ† . 

Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ `author` Ø¯Ø± `schema post` ÛŒÚ© `type objectId` Ù‡Ø³Øª Ú©Ù‡ `ref` Ø²Ø¯Ù‡ Ø´Ø¯Ù‡ Ø¨Ù‡ `schema users` . 

Ù…ÛŒ ØªÙˆÙ†ÛŒØ¯ `schema post` Ø±Ùˆ Ø¨Ø§Ø² Ú†Ú© Ú©Ù†ÛŒØ¯ .

Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `ref` Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… Ù…ØªÙˆØ¬Ù‡ Ø´ÛŒÙ… Ú©Ù‡ Ú†Ù‡ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú†Ù‡ Ù¾Ø³ØªÛŒ Ø±Ùˆ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯Ù‡ . 

Ú©Ù‡ Ø§Ø² Ø§ÛŒÙ† Ù…ÙˆØ¶ÙˆØ¹ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ùˆ Ù¾Ø³Øª Ù‡Ø§ÛŒ Ù‡Ø± Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø±Ùˆ Ø¯Ø± `panel` Ø®ÙˆØ¯Ø´ Ù†Ø´ÙˆÙ† Ù…ÛŒ Ø¯ÛŒÙ… . 

Ùˆ Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± Ù…ÙˆÙ‚Ø¹ Ú¯Ø±ÙØªÙ† Ù‡Ù…Ù‡ ÛŒ Ù¾Ø³Øª Ù‡Ø§ÛŒ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `author` Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯Ù‡ Ù…ÛŒØ§ÛŒÙ… Ù†Ø´ÙˆÙ† Ù…ÛŒØ¯ÛŒÙ… . 

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª ÛŒÚ© `response` Ú©Ù‡ Ø­Ø§ÙˆÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø³Øª Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ Ùˆ Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± ÛŒÚ© `message` Ù‡Ø³Øª Ø±Ùˆ Ø¨Ù‡ Ø³Ù…Øª Ú©Ù„Ø§ÛŒÙ†Øª Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

```javascript
return res.status(201).json({ data: post, message: "post is create" });
```

Ø¯Ø±ÙˆÙ† Ø¨Ù„Ø§Ú© `catch` Ù‡Ù… Ø§Ø±ÙˆØ± Ù‡Ø§ Ø±Ùˆ Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ø§Ú¯Ø± Ú©Ù‡ Ù…Ø´Ú©Ù„ÛŒ Ù¾ÛŒØ´ Ø§Ù…Ø¯Ù‡ Ø¨Ø§Ø´Ù‡ . 

Ù‡Ù… Ù„Ø§Ú¯ Ø³Ù…Øª Ø³Ø±ÙˆØ± Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ù…ØªÙˆØ¬Ù‡ Ø´ÛŒÙ… `error` Ú©Ù‡ Ø¯Ø±ÙˆÙ† Ú©Ù†Ø³ÙˆÙ„ Ù‡Ø³Øª Ù…Ø§Ù„Ù‡ Ú†Ù‡ Ø¨Ø®Ø´ÛŒ Ø§Ø² Ú©Ø¯ Ù‡Ø³Øª . 

Ùˆ Ù‡Ù… Ø®ÙˆØ¯Ù‡ `error` Ø¨Ù‡ Ø³Ù…Øª `client` Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯Ù‡ Ú©Ù‡ `client` Ù‡Ù… Ù…ØªÙˆØ¬Ù‡ `error` Ø´Ù‡ . 

```javascript
catch (err) {
    console.log("Create Post", err);
    return err;
  }
```

## Get all post controller

Ø¨Ø¹Ø¯ Ø§Ø² Ø§ÛŒØ¬Ø§Ø¯ `post` ØªÙˆØ³Ø· Ú©Ø§Ø±Ø¨Ø± . 

Ù†ÙˆØ¨Øª Ú¯Ø±ÙØªÙ† ØªÙ…Ø§Ù…ÛŒ Ù¾Ø³Øª Ù‡Ø§ÛŒ Ù‡Ø³Øª Ú©Ù‡ Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯Ù‡ . 

Ù¾Ø³ Ù†ÛŒØ§Ø² Ø¨Ù‡ ÛŒÚ© `controller` Ø¯Ø§Ø±ÛŒÙ… . 

**ÛŒØ§Ø¯Ø§ÙˆØ±ÛŒ : ** Ù‡Ø± `controller` Ø¯Ø± ÙˆØ§Ù‚Ø¹ ÛŒÚ© `function` Ù‡Ø³Øª Ú©Ù‡ Ø¹Ù…Ù„ÛŒØ§ØªÛŒ Ø¯Ø±ÙˆÙ†Ø´ ØµÙˆØ±Øª Ù…ÛŒÚ¯ÛŒØ±Ù‡ . 

```javascript 
const posts = async (req, res) => {

};
```

Ø®Ø¨ `controller posts` Ø±Ùˆ Ø¨Ù‡ Ø·ÙˆØ± Ú©Ø§Ù…Ù„ Ø¨Ø¨ÛŒÙ†ÛŒÙ… : 

```javascript
const posts = async (req, res) => {
  try {
    const posts = await postModel
      .find()
      .populate("author", "username", "pic", "_id")
      .sort({ createdAt: -1 });
    return res.status(200).json(posts);
  } catch (err) {
    console.log("All Post Err", err);
    return res.status(500).json({ message: "server is proplem", err: err });
  }
};
```

Ø¯Ø± Ú©Ø¯ Ø¨Ø§Ù„Ø§ Ø¯Ø§Ø±ÛŒÙ… Ø§Ø² `postModel` Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ Ù…ØªØ¯ `find` Ø¨Ù‡ ØªÙ…Ø§Ù…ÛŒ Ù¾Ø³Øª Ù‡Ø§ Ø¯Ø³ØªØ±Ø³ÛŒ Ù…ÛŒ Ú¯ÛŒØ±ÛŒÙ… . 

Ø§Ù…Ø§ Ø§Ú¯Ø± Ø¯Ù‚Øª Ú©Ù†ÛŒØ¯ Ø¨Ø¹Ø¯ Ø§Ø² `find` Ø§Ø² ÛŒÚ© Ù…ØªØ¯ Ø¯ÛŒÚ¯Ù‡ Ù‡Ù… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡ Ø¨Ù‡ Ø§Ø³Ù… `populate` .  

Ù…ØªØ¯ `populate`  Ø¯Ùˆ ØªØ§ `parameter`  Ù…ÛŒÚ¯ÛŒØ±Ù‡ . 

Ù¾Ø§Ø±Ø§Ù…ØªØ± Ø§ÙˆÙ„ Ù…Ù‚Ø¯Ø§Ø±ÛŒ Ù‡Ø³Øª Ú©Ù‡ Ù…ÛŒ Ø®ÙˆØ§ÛŒÙ… ÛŒÙ‡ Ù‡Ù…Ø±Ø§Ù‡ `post` Ù‡Ø§ Ù¾ÛŒØ¯Ø§ Ø´Ù‡ . 

Ø§Ù„Ø§Ù† Ù…ÛŒØ§Ø¯ Ù¾Ø³Øª Ù‡Ø§ Ø±Ùˆ Ú©Ù‡ Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù‡ Ù…ÛŒØ±Ù‡ Ø¯Ø§Ø®Ù„ `collection users` Ø¨Ø§ ØªÙˆØ¬Ù‡ Ø¨Ù‡ `objectId` Ù…Ø´Ø®ØµØ§Øª Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ù¾Ø³Øª Ø±Ùˆ Ø³Ø§Ø®ØªÙ‡  Ù¾ÛŒØ¯Ø§ Ù…ÛŒ Ú©Ù†Ù‡  . 

Ù¾Ø§Ø±Ø§Ù…ØªØ± Ø¯ÙˆÙ… `populate` Ø¨Ù‡ Ø§ÛŒÙ† Ø§Ø´Ø§Ø±Ù‡ Ø¯Ø§Ø±Ù‡ Ú©Ù‡ Ø§Ø² `user` Ú©Ù‡ Ù¾ÛŒØ¯Ø§ Ø´Ø¯Ù‡ Ø¨Ù‡ Ù‡Ù…Ø±Ø§Ù‡ Ù¾Ø³Øª Ø¯Ø§Ø±Ù‡ Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒØ´Ù‡ , Ú†Ù‡ Ù…Ù‚Ø§Ø¯ÛŒØ±ÛŒ Ø±Ùˆ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù‡ . 

Ú©Ù‡ Ú¯ÙØªÛŒÙ… `username` Ùˆ `pic` Ùˆ Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± `_id` Ø±Ùˆ Ø¨Ù‡ Ù‡Ù…Ø±Ø§Ù‡ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù‡ . 

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ù…ØªØ¯ `sort` Ø±Ùˆ  Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯ÛŒÙ… 

Ú©Ù‡ Ø¯ÛŒØªØ§ Ø±Ùˆ Ø¨Ø± Ø§Ø³Ø§Ø³ `createAt`  Ú©Ù‡ Ø¯Ø±ÙˆÙ† Ù‡Ø± `document post` ÙˆØ¬Ùˆ Ø¯Ø§Ø±Ù‡ Ù…ÛŒØ§Ø¯ `sort` Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯Ù‡ . 

Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ù‡Ø± Ù¾Ø³Øª Ø¬Ø¯ÛŒØ¯ÛŒ Ú©Ù‡ Ø³Ø§Ø®ØªÙ‡ Ù…ÛŒØ´Ù‡ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ø§ÙˆÙ„ÛŒÙ† Ù¾Ø³Øª Ø¯Ø± `response` Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒØ´Ù‡  . 

### User post controller 

ÛŒÚ© `controller` Ø¯Ø§Ø±ÛŒÙ… Ø¨Ù‡ Ø§Ø³Ù… `userPost` Ú©Ù‡  Ø§ÛŒÙ† `controller`  Ù…ÛŒØ§Ø¯ `post` Ù‡Ø§ Ø±Ùˆ Ø¨Ø± Ø§Ø³Ø§Ø³ `author` Ù…ÛŒ Ú¯ÛŒØ±Ù‡ . 

Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ù…ÛŒØ§Ø¯ Ù¾Ø³Øª Ù‡Ø§ Ø±Ùˆ Ø¨Ø± Ø§Ø³Ø§Ø³ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ø§ÙˆÙ† Ù¾Ø³Øª Ø±Ùˆ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯Ù‡ Ù…ÛŒÚ¯ÛŒØ±Ù‡ . 

ÛŒØ¹Ù†ÛŒ Ù¾Ø³Øª Ù‡Ø§ÛŒ Ú©Ù‡ ØªÙˆØ³Ø· ÛŒÚ© Ú©Ø§Ø±Ø¨Ø± Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯Ù‡ Ø±Ùˆ `response` Ù…ÛŒØ¯Ù‡ .

Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ù…Ø«Ø§Ù„ : 

Ú©Ø§Ø±Ø¨Ø± Ù…Ø­Ø³Ù† Ù…ÛŒØ§Ø¯ 10 ØªØ§ `post` Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒ Ú©Ù†Ù‡ . 

Ùˆ Ù…ÛŒ Ø®ÙˆØ§ÛŒÙ… ØªÙ…Ø§Ù…ÛŒ Ù¾Ø³Øª Ù‡Ø§ÛŒ Ú©Ù‡ ØªÙˆØ³Ø· Ú©Ø§Ø±Ø¨Ø± Ù…Ø­Ø³Ù† Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯Ù‡ Ø±Ùˆ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… . 

Ùˆ Ø¯Ø± `panel` Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø®ÙˆØ¯Ø´ Ù†Ù…Ø§ÛŒØ´ Ø¨Ø¯ÛŒÙ… . 

Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ø§Ø± Ùˆ Ø¯Ø§Ø´ØªÙ† Ù¾Ø³Øª Ù‡Ø§ÛŒ ÛŒÚ© Ú©Ø§Ø±Ø¨Ø± `controller userPost` Ø±Ùˆ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯ÛŒÙ… . 
```javascript
const userPost = async (req, res) => {

};
```
Ú©Ù‡ Ø¯Ø±ÙˆÙ†Ø´ Ú©Ø¯ Ù‡Ø§ÛŒ Ø²ÛŒØ± Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… : 

```javascript
//*method Get author post
  const { userToken } = req.cookies;
  try {
    // console.log("User Token", userToken);
    if (userToken) {
      const user = await jwt.verify(userToken, process.env.JWT_SECRET, {});
      const userPost = await postModel.find({ author: user.id });
      return res.status(200).json(userPost);
    }
  }catch (err) {
    console.log("User Post Error", err);
    return res
      .status(500)
      .json({ message: "server is proplem about user post", err: err });
  }
```

Ú†Ú© Ú©Ø±Ø¯ÛŒÙ… Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ú©Ù‡ Ø§Ú¯Ø± `userToken`  Ø¨ÙˆØ¯ Ø¨ÛŒØ§Ø¯ Ø§ÛŒÙ† Ø§ØªÙØ§Ù‚ Ø¨ÛŒÙˆÙØªÙ‡ . 

Ø§Ú¯Ø± Ú©Ø§Ø±Ø¨Ø± Ù…Ø§ Ù„Ø§Ú¯ÛŒÙ† Ø¨ÙˆØ¯ . 

Ø§Ú¯Ø± Ú©Ù‡ Ú†Ú© Ù†Ú©Ù†ÛŒÙ… Ùˆ Ø¨Ø®ÙˆØ§ÛŒÙ… Ø§Ø² `jwt.verify` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… Ø¨Ø§ Ø§Ø±ÙˆØ± Ø³Ù…Øª Ø³Ø±ÙˆØ± Ù…ÙˆØ§Ø¬Ù‡ Ù…ÛŒ Ø´ÛŒÙ… . 

Ú†ÙˆÙ† Ø¯Ø§Ø±ÛŒÙ… `user.id` Ø±Ùˆ Ø§Ø² `token` Ú©Ù‡ Ø¯Ø± `cookie` Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯Ù‡ Ø¯Ø±ÛŒØ§ÙØª Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ø¯Ø± Ù†ØªÛŒØ¬Ù‡ Ú¯ÙØªÛŒÙ… `postModel` Ø¨ÛŒØ§Ø¯ `find` Ø´Ù‡ ØªÙˆØ³Ø· `author` Ú©Ù‡ ÛŒÚ© Ø§Ø¨Ø¬Ú©Øª Ù‡Ø³Øª . 

Ù…ÛŒØ§Ø¯ `author` Ø±Ùˆ Ù¾ÛŒØ¯Ø§ Ù…ÛŒÚ©Ù†Ù‡ Ø¨Ø¹Ø¯Ø´ Ù…ÛŒØ§Ø¯ ØªÙˆØ³Ø· `user.id` Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯Ù‡ .

Ø¯Ø± Ù†ØªÛŒØ¬Ù‡ `post` Ù‡Ø§ÛŒ Ú©Ù‡ ØªÙˆØ³Ø·  Ú©Ø§Ø±Ø¨Ø±  Ù…Ø¯ Ù†Ø¸Ø± Ù…Ø§ Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯Ù‡ Ù¾ÛŒØ¯Ø§ Ù…ÛŒØ´Ù‡ Ùˆ Ø¨Ù‡ Ø³Ù…Øª Ú©Ù„Ø§ÛŒÙ†Øª Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒØ´Ù‡ . 

Ø§ÛŒÙ†Ø¬ÙˆØ±ÛŒ Ù…ÛŒØ´Ù‡ Ú©Ù‡ ØªÙ…Ø§Ù… Ù¾Ø³Øª Ù‡Ø§ÛŒ Ú©Ù‡ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ù…Ø«Ø§Ù„ ØªÙˆØ³Ø· Ú©Ø§Ø±Ø¨Ø± Ù…Ø­Ø³Ù† Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯Ù‡ Ø®ÙˆØ§Ù‡ÛŒÙ… Ø¯Ø§Ø´Øª . 

Ø¯Ø± ØµÙˆØ±Øª Ø¯Ø§Ø´ØªÙ† Ø§Ø±ÙˆØ± Ù‡Ù… Ø¨Ù„Ø§Ú© `catch` Ø§ØªÙØ§Ù‚ Ù…ÛŒ Ø§ÙØªÙ‡ 

```javascript
catch (err) {
    console.log("User Post Error", err);
    return res
      .status(500)
      .json({ message: "server is proplem about user post", err: err });
  }
```

### Edit post controller 

Ø®Ø¨ Ø´Ø§ÛŒØ¯ Ú©Ø§Ø±Ø¨Ø± Ù…Ø§ Ø®ÙˆØ§Ø³Øª Ù¾Ø³ØªÛŒ Ú©Ù‡ Ø³Ø§Ø®ØªÙ‡ Ø±Ùˆ edit Ú©Ù†Ù‡ . 

Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ø§Ø± Ù‡Ù… Ù†ÛŒØ§Ø² Ø¨Ù‡ ÛŒÚ© `controller` Ø¯Ø§Ø±ÛŒÙ… Ø¨Ù‡ Ø§Ø³Ù… `editPost` .  

```javascript
//* method Put  edit post
const editPost = async (req, res) => {

};
```

Ø¨Ø±Ø§ÛŒ `edit` Ú©Ø±Ø¯Ù† . Ù†ÛŒØ§Ø² Ù‡Ø³Øª Ú©Ù‡ Ù…Ù‚Ø§Ø¯ÛŒØ± Ø¬Ø¯ÛŒØ¯ Ø±Ùˆ Ø¨Ú¯ÛŒØ±ÛŒÙ… Ùˆ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ù…Ù‚Ø§Ø¯ÛŒØ± Ù‚Ø¨Ù„ÛŒ Ú©Ù†ÛŒÙ… . 

Ø®Ø¨ Ù…ÛŒØ§ÛŒÙ… Ù…Ù‚Ø§Ø¯ÛŒØ± Ø¬Ø¯ÛŒØ¯ Ø±Ùˆ Ø§Ø² `req.body` Ù…ÛŒ Ú¯ÛŒØ±ÛŒÙ… . 

Ø®Ø¨ Ø³ÙˆØ§Ù„ Ø§ÛŒÙ†Ø¬Ø§Ø³Øª Ø§Ø² Ú©Ø¬Ø§ Ù…Ø´Ø®Øµ Ù…ÛŒØ´Ù‡ Ú©Ù‡ Ú†Ù‡ Ù¾Ø³ØªÛŒ Ø±Ùˆ Ù…ÛŒ Ø®ÙˆØ§ÛŒÙ… `edit`  Ú©Ù†ÛŒÙ… ØŸ 

Ø§ÛŒÙ†Ú©Ù‡ Ú†Ø·ÙˆØ±ÛŒ Ù…ØªÙˆØ¬Ù‡ Ù…ÛŒØ´ÛŒÙ… Ú©Ù‡ Ú†Ù‡ Ù¾Ø³ØªÛŒ Ù‚Ø±Ø§Ø± Ù‡Ø³Øª edit Ø´Ù‡ . Ø§ÛŒÙ†Ú©Ø§Ø± ØªÙˆØ³Ø· Ø§ÛŒØ¯ÛŒ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒÚ¯ÛŒØ±Ù‡ . 

```javascript 
//* method Put  edit post
const editPost = async (req, res) => {
  const id = req.params.id;
  // console.log("Edit post Id ", id);
  const { userToken } = req.cookies;
  const { summery, title, content, cover } = req.body;
};
```

Ø§Ú¯Ø± Ø¯Ù‚Øª Ú©Ù†ÛŒØ¯  ÛŒÚ© `const id = req.params.id` Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ `id` Ù¾Ø³Øª Ù‡Ø³ØªØ´  Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `req.params.id` Ø§ÛŒÙ† `id` Ø±Ùˆ Ú¯Ø±ÙØªÛŒÙ… . 

Ø®Ø¨ Ø§ÛŒÙ† `req.params.id` Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø§Ø² Ù…Ø³Øª `client` Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒØ´Ù‡ Ø¯Ø±ÙˆÙ† `address api` Ú©Ù‡ Ù†ÙˆØ´ØªÛŒÙ… 

Ú©Ù‡ Ø¯Ø±ÙˆÙ† `route` Ø§Ú¯Ø± Ù†Ú¯Ø§Ù‡ Ú©Ù†ÛŒÙ… `id:/` Ø¨Ø±Ø§ÛŒ `controller editpost` Ø³Øª Ø´Ø¯Ù‡ . 

```javascript 
postRouter.put("/editpost/:id", editPost);
```
**Ù†Ú©ØªÙ‡ :** Ù‡Ù…ÛŒØ´Ù‡ Ø¨Ø±Ø§ÛŒ `delete` Ùˆ `edit` Ù†ÛŒØ§Ø² Ø¨Ù‡ `ObjectId` Ø¯Ø§Ø±ÛŒÙ… 

Ú©Ù‡ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `id` Ù¾Ø³Øª Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… Ø¨Ú¯ÛŒÙ… Ú©Ù‡ Ú©Ø¯ÙˆÙ… Ù¾Ø³Øª Ù‚Ø±Ø§Ø± Ù‡Ø³Øª Ø¯Ø± `data base` Ø¨ÛŒØ§Ø¯ Ùˆ `edit`  Ø´Ù‡ . 

Ø®Ø¨ Ù‡Ø± Ú©Ø§Ø±Ø¨Ø±ÛŒ Ù…ÛŒ ØªÙˆÙ†Ù‡ ÙÙ‚Ø· Ù¾Ø³Øª Ø®ÙˆØ¯Ø´Ùˆ Ø±Ùˆ Ø¨ÛŒØ§Ø¯ Ø§Ù¾Ø¯ÛŒØª Ú©Ù†Ù‡

Ù¾Ø³  Ø¨Ù‡ `user.id` Ù‡Ù… Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ø§Ø² Ø¯Ø§Ø®Ù„ `token` Ù…ÛŒ Ú¯ÛŒØ±ÛŒÙ… . 

Ø¨Ù‡ Ú©Ù„ `controller editPost` Ù†Ú¯Ø§Ù‡ Ú©Ù†ÛŒÙ… : 

Ø¯Ø±ÙˆÙ† Ø¨Ù„Ø§Ú© `try` Ú¯ÙØªÛŒÙ… Ø§Ú¯Ø± Ú©Ù‡ `userToken` Ø¨ÙˆØ¯ Ø¨Ø¹ Ù…Ø¹Ù†ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø§Ú¯Ø± Ú©Ø§Ø±Ø¨Ø± `login` Ø¨ÙˆØ¯ . 

Ø¨ÛŒØ§Ø¯ Ø¯Ø±ÙˆÙ† `postModel`  Ø§Ø² Ù…ØªØ¯ `findByIdAndUpdate` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯ÛŒÙ… . 

ØªØ§ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `id`  Ú©Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ù‡Ù…ÙˆÙ† `objectId` Ù‡Ø³Øª Ú©Ù‡ Ø§Ø² `req.params.id` Ø¯Ø§Ø±Ù‡ Ú¯Ø±ÙØªÙ‡ Ù…ÛŒØ´Ù‡ . 

Ø¨Ø§ `id` Ø¨ÛŒØ§Ø¯ `post` Ø±Ùˆ Ù¾ÛŒØ¯Ø§ Ú©Ù†Ù‡ Ùˆ Ø¯Ø± Ù†ØªÛŒØ¬Ù‡ Ù…Ù‚Ø§Ø¯ÛŒØ± Ø¬Ø¯ÛŒØ¯ Ú©Ù‡ Ø§Ø² `req.body` Ù…ÛŒØ§ÛŒØ¯ Ø±Ùˆ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ù…Ù‚Ø§Ø¯ÛŒØ± Ù‚Ø¨Ù„ÛŒ Ø´Ù‡ . 


```javascript 
//* method Put  edit post
const editPost = async (req, res) => {
  const id = req.params.id;
  // console.log("Edit post Id ", id);
  const { userToken } = req.cookies;
  const { summery, title, content, cover } = req.body;
  try {
    if (userToken) {
      const post = await postModel.findByIdAndUpdate(
        id,
        {
          title: title,
          summery: summery,
          content: content,
          cover: cover,
        },
        {
          new: true,
        }
      );
      // console.log(post);
      await post.save();
      return res.status(200).json(post);
    }
  } catch (err) {
    console.log("Edit Post Error Controller", err);
    return res
      .status(400)
      .json({ message: "post is not edit", errMessage: err });
  }
};
```

ØªÙˆØ¬Ù‡ Ú©Ù†ÛŒØ¯ Ú©Ù‡ Ø¨Ù‡ `if` Ú©Ù‡ Ø¯Ø§Ø±Ù‡ `userToken` Ø±Ùˆ Ú†Ú© Ù…ÛŒ Ú©Ù†Ù‡ Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… Ø¯Ø± ØºÛŒØ± Ø§ÛŒÙ†ØµÙˆØ±Øª Ø³Ù…Øª Ø³Ø±ÙˆØ± Ø¨Ù‡ Ø§Ø±Ø±ÙˆØ± Ù…ÛŒ Ø®ÙˆØ±ÛŒÙ… . 

```javascript
 if (userToken) {
}
```

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ `post` Ú©Ù‡ ØªØºÛŒÛŒØ± Ú©Ø±Ø¯Ù‡ Ø±Ùˆ  Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ Ù…ØªØ¯ `save` Ø¯Ø± Ø¯ÛŒØªØ§ Ø¨ÛŒØ³ Ø°Ø®ÛŒØ±Ù‡ Ú©Ø±Ø¯ÛŒÙ… . 

```javascript
  await post.save();
```
Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ø¨Ø¹Ø¯ Ø§Ø² Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯Ù† `post` Ø¯Ø± Ø¯ÛŒØªØ§ Ø¨ÛŒØ³ Ø§Ù…Ø¯ÛŒÙ… Ø¨Ù‡ Ø³Ù…Øª `client` ÙØ±Ø³ØªØ§Ø¯ÛŒÙ… . 

```javascript
      await post.save();
      return res.status(200).json(post);
```

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ø¯Ø± Ø¨Ù„Ø§Ú© `catch` Ø§Ø±ÙˆØ± Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… . 

```javascript 
catch (err) {
    console.log("Edit Post Error Controller", err);
    return res
      .status(500)
      .json({ message: "post is not edit", errMessage: err });
  }
```

Ø®Ø¨ Ø³Ø§Ø®Øª `controller editpost` Ø±Ùˆ Ù‡Ù… Ø§Ù†Ø¬Ø§Ù… Ø¯Ø§Ø¯ÛŒÙ… . 

### Delete post 

Ø¨Ø±ÛŒÙ… Ø³Ø±Ø§Øº `delete` Ú©Ù‡ Ø¯ÛŒÚ¯Ù‡ Ø¹Ù…Ù„ÛŒØ§Øª `crud` Ø±Ùˆ ØªÚ©Ù…ÛŒÙ„ Ú©Ù†ÛŒÙ… . 

```javascript 
//*method Delete Post
const deleteUserPost = async (req, res) => {
  const id = req.params.id;
  console.log("ID", id);
  const { userToken } = req.cookies;
};
```

Ø§ÛŒÙ†Ø¬Ø§ Ù‡Ù… Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¨ØªÙˆÙ†ÛŒÙ… `post` Ù…Ø¯ Ù†Ø¸Ø±Ùˆ `delete` Ú©Ù†ÛŒÙ… Ú©Ù‡ Ø¨Ø¯ÙˆÙ†ÛŒÙ… Ú†Ù‡ Ù¾Ø³ØªÛŒ Ø¯Ø§Ø±Ù‡ `delete` Ù…ÛŒØ´Ù‡ Ù†ÛŒØ§Ø² Ø¨Ù‡ `ObjectId` Ø¯Ø§Ø±ÛŒÙ… . 

Ú©Ù‡ Ø§ÛŒÙ† `objectId` Ø¨Ù‡ Ù‡Ù…Ø±Ø§Ù‡ Ø¯ÛŒØªØ§ Ù‡Ø³Øª  . 

Ú©Ù‡ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ Ø¯ÛŒØªØ§ÛŒ Ú©Ù‡ Ø³Ù…Øª `client` Ú¯Ø±ÙØªÙ‡ Ù…ÛŒØ´Ù‡ , `objecetId` Ø±Ùˆ Ø¨Ù‡ Ø³Ù…Øª `server` Ø¯Ø±ÙˆÙ† Ø§Ø¯Ø±Ø³ `api` ÙØ±Ø³ØªØ§Ø¯Ù‡ Ù…ÛŒØ´Ù‡ Ú©Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ù‡Ù…ÙˆÙ† `params` Ù‡Ø³Øª  . 

```javascript 
//*method Delete Post
const deleteUserPost = async (req, res) => {
  const id = req.params.id;
  console.log("ID", id);
  const { userToken } = req.cookies;
  try {
    if (userToken) {
      const userPost = await postModel.findByIdAndRemove(id);
      if (!userPost) {
        return res.status(404).json("this post is not exist");
      }
      return res.status(200).json(userPost);
    }
  } catch (err) {
    console.log("Delete Post Error", err);
  }
};
```

Ø¨Ø§Ø² Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ú†Ú© Ù…ÛŒ Ú©Ù†ÛŒÙ… Ø¨Ø¨ÛŒÙ†ÛŒÙ… Ú©Ù‡ `userToken` Ù‡Ø³Øª ÛŒØ§ Ù†Ù‡ Ø§Ú¯Ø± Ú©Ø§Ø±Ø¨Ø± `login` Ø¨ÙˆØ¯ Ø¨ØªÙˆÙ†Ù‡ `delete` Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ø¨Ø¯Ù‡ . 

Ú©Ù‡ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `postModel` , Ùˆ Ù…ØªØ¯ `findByIdAndRemove` Ú©Ø§Ø± Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ø¯Ø§Ø¯ÛŒÙ… . 

Ú©Ù‡ Ù…ØªØ¯ `findByIdAndRemove`  Ú©Ù‡ ØµØ±ÙØ§ Ù¾Ø³Øª Ø±Ùˆ Ø§ÙˆÙ„ Ù¾ÛŒØ¯Ø§ Ù…ÛŒ Ú©Ù†Ù‡ Ùˆ Ø¨Ø¹Ø¯  Ø¨Ø§ ØªÙˆØ¬Ù‡ Ø¨Ù‡ `id` Ù…ÛŒØ§Ø¯ Ù¾Ø³Øª Ø±Ùˆ Ù¾Ø§Ú© Ù…ÛŒ Ú©Ù†Ù‡ . 

ÛŒÚ© `if` Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ø§Ú¯Ø± `id` Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø§ÙˆÙ† Ù¾Ø³Øª ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø´Øª Ø¨ÛŒØ§Ø¯ ÛŒÚ© Ù¾ÛŒØ§Ù… Ø¨Ù‡ Ø³Ù…Øª `client` Ø§Ø±Ø³Ø§Ù„ Ú©Ù†Ù‡ : 

```javascript
     if (!userPost) {
        return res.status(404).json("this post is not exist");
      }
```

Ø¯Ø±ÙˆÙ† Ø¨Ù„Ø§Ú© `catch` Ù‡Ù… Ø§Ø±ÙˆØ± Ø²ÛŒØ± Ø±Ùˆ Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒ Ú©Ù†ÛŒÙ… : 

```javascript 
catch (err) {
    console.log("Delete Post Error", err);
    return res
      .status(500)
      .json({ message: "server is proplem(delete)", err: err });
  }
```

ÛŒÚ© Ø¨Ø§Ø± Ø¯ÛŒÚ¯Ù‡ Ú©Ù„ `controller` Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ `delete` Ø±Ùˆ Ø¨Ø¨Ù†ÛŒÙ… : 

```javascript
//*method Delete Post
const deleteUserPost = async (req, res) => {
  const id = req.params.id;
  console.log("ID", id);
  const { userToken } = req.cookies;
  try {
    if (userToken) {
      const userPost = await postModel.findByIdAndRemove(id);
      if (!userPost) {
        return res.status(404).json("this post is not exist");
      }
      return res.status(200).json(userPost);
    }
  } catch (err) {
    console.log("Delete Post Error", err);
    return res
      .status(500)
      .json({ message: "server is proplem(delete)", err: err });
  }
};
```

# Post Router 

ØªÙ…Ø§Ù…ÛŒ `controller` Ù‡Ø§ÛŒ Ú©Ù‡ Ù†ÙˆØ´ØªÛŒÙ… Ù†ÛŒØ§Ø² Ù‡Ø³Øª Ú©Ù‡ Ø¨Ø±Ø§ÛŒ Ø§Ø¬Ø±Ø§ Ø´Ø¯Ù† ÛŒÚ© `address` Ø¯Ø± ÙˆØ§Ù‚Ø¹ ÛŒÚ© `api` Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù†Ø¯ . 

Ø¨Ù‡ Ù‡Ù…ÛŒÙ† Ø¯Ù„ÛŒÙ„ ÛŒÚ© ÙØ§ÛŒÙ„ Ø¬Ø¯ÛŒØ¯ Ø¨Ù‡ Ø§Ø³Ù… `post.js` Ø¯Ø± ÙÙˆÙ„Ø¯Ø± `routes` Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 


<img src='https://github.com/mosenn/MERN/assets/91747908/e4b2ed94-8a27-4615-8cd6-48c93c8e0056' alt='router in expressjs'>


Ø¯Ø±ÙˆÙ† ÙØ§ÛŒÙ„ Ø®ÙˆØ¯Ù…ÙˆÙ† Ù…ÛŒØ§ÛŒÙ… Ø§ÙˆÙ„ `express.Router`  Ø±Ùˆ `require` Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ø¨Ø¹Ø¯ Ù…ÛŒØ§ÛŒÙ… ØªÙ…Ø§Ù…ÛŒ `controller `  Ù‡Ø§ ÛŒ Ú©Ù‡ Ø¨Ø±Ø§ÛŒ `post` Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯ÛŒÙ… Ø±Ùˆ `require` Ù…ÛŒ Ú©Ù†ÛŒÙ… 


```javascript 
const postRouter = require("express").Router();
const {
  createPost,
  posts,
  userPost,
  deleteUserPost,
  editPost,
} = require("../controller/post");
```

Ø­Ø§Ù„Ø§ Ù…ÛŒØ§ÛŒÙ… `api` Ø®ÙˆØ¯Ù…ÙˆÙ† Ø±Ùˆ Ø¨Ø±Ø§ÛŒ `controller` Ù‡Ø§ Ù…ÛŒ Ù†ÙˆÛŒØ³ÛŒÙ… . 

```javascript
postRouter.post("/createpost", createPost);
postRouter.get("/posts", posts);
postRouter.get("/userposts", userPost);
postRouter.delete("/deletepostuser/:id", deleteUserPost);
postRouter.put("/editpost/:id", editPost);
```
Ø¯Ù‚Øª Ú©Ù†ÛŒØ¯ Ø¨Ø±Ø§ÛŒ `deletepostuser` Ùˆ `edipost` Ø§Ù…Ø¯ÛŒÙ… ÛŒÚ©  `id:/` Ù‡Ù… Ú¯Ø°Ø§Ø´ØªÛŒÙ… Ø¯Ø± Ø§Ø¯Ø±Ø³ `api` . 

Ø®Ø¨ Ø§ÛŒÙ† Ø§ÛŒØ¯ÛŒ Ù‚Ø±Ø§Ø± Ù‡Ø³Øª Ø§Ø² Ø³Ù…Øª `clinet` Ø¯Ø±ÙˆÙ† Ø§Ø¯Ø±Ø³ `api` Ù‚Ø±Ø§Ø± Ø¨Ú¯ÛŒØ±Ù‡ Ú©Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ú¯ÙØªÛŒÙ… Ù‡Ù…ÙˆÙ† `objectId` Ù‡Ø³Øª . 

Ø¨Ø±Ø§ÛŒ `delete` , `update` Ø¨Ù‡ `objectId` Ø®ÙˆØ¯Ù‡ `document`  Ú©Ù‡ Ø¯Ø± Ø¯ÛŒØªØ§ Ø¨ÛŒØ³ Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯Ù‡ Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… . 

Ù…ØªØ¯ Ù‡Ø§ Ù‡Ù… Ú©Ù‡ Ù…Ø´Ø®ØµÙ‡ Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®Øª Ø§Ø² `post` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ú¯Ø±ÙØªÙ† ÛŒØ§ Ù‡Ù…ÙˆÙ† `read` Ø§Ø² `get` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡ . 

Ø¨Ø±Ø§ÛŒ Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ø§Ø² Ù…ØªØ¯ `delete` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡ Ùˆ Ø¨Ø±Ø§ÛŒ `update` Ø§Ø² Ù…ØªØ¯ `put` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡ . 

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª `postRouter` Ø±Ùˆ `export` Ù…ÛŒ Ú©Ù†ÛŒÙ… Ùˆ Ø¯Ø± `index.js`  Ø§Ø² Ø§ÛŒÙ† `route` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

```javascript
module.exports = postRouter;
```

Ø¯Ø§Ø®Ù„ `index.js` : 

```javascript 
app.use("/", require("./routes/post"));
```

Ø®Ø¨ Ú©Ø§ÙÛŒÙ‡ Ø§Ù„Ø§Ù† `clinet` Ø¨ÛŒØ§Ø¯ `api` Ù‡Ø§ÛŒ Ú©Ù‡ Ù†ÙˆØ´ØªÙ‡ Ø´Ø¯Ù‡ Ø±Ùˆ Ø¨Ú¯ÛŒØ±Ù‡ Ùˆ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†Ù‡ . Ø§Ù„Ø¨ØªÙ‡ Ø¯Ø±ÙˆÙ† `postman` Ù‡Ù… Ù…ÛŒ ØªÙˆÙ†Ù‡ ØªØ³Øª Ú©Ù†Ù‡ . 

# create comment schmea and model

Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¨ØªÙˆÙ†ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ù¾Ø³Øª Ú©Ø§Ù…Ù†Øª Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ø¨ÛŒØ§Ù… `model` Ú©Ø§Ù…Ù†Øª Ø±Ùˆ Ø¨Ø³Ø§Ø²ÛŒÙ… . 

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª `controller` Ùˆ Ø¨Ø±Ø§Ø´ `route` Ø¨Ù†ÙˆÛŒØ³ÛŒÙ… Ú©Ù‡ Ø¯Ø±ÙˆÙ† ÛŒÚ© `api` Ø¨ÛŒØ§Ø¯ `controller` Ù‡Ø§Ø±Ùˆ Ø§Ø¬Ø±Ø§ Ú©Ù†Ù‡ . 

Ø®Ø¨ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ø§Ø± Ø§ÙˆÙ„ Ù…ÛŒØ§ÛŒÙ… `model` Ø±Ùˆ Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒ Ú©Ù†ÛŒÙ… : 

```javascript
const mongoose = require("mongoose");

const commentSchema = new mongoose.Schema(
  {
    comment: {
      type: String,
      // required: true,
    },
    author: {
      type: mongoose.Schema.Types.ObjectId,
      ref: "users",
      required: true,
    },
    post: {
      type: mongoose.Schema.Types.ObjectId,
      ref: "posts",
      required: true,
    },
  },
  {
    timestamps: true,
  }
);

const commentModel = mongoose.model("comments", commentSchema);

module.exports = commentModel;

```
Ú©Ù‡ Ø¯Ø±ÙˆÙ† `author` Ø§Ù…Ø¯ÛŒÙ… `ref` Ø²Ø¯ÛŒÙ… Ú©Ù‡ Ø¨Ø¨Ù†ÛŒÙ… ØªÙˆØ³Ø· Ú†Ù‡ Ú©Ø§Ø±Ø¨Ø±ÛŒ `comment` Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯Ù‡ . 

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ `post` Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ø¯Ø§Ø±Ù‡ `ref` Ù…ÛŒ Ø²Ù†Ù‡ Ø¨Ù‡ `post` Ú©Ù‡ Ù…Ø´Ø®Øµ Ù…ÛŒ Ú©Ù†Ù‡ Ø§ÛŒÙ† Ú©Ø§Ù…Ù†Øª Ø¨Ø±Ø§ÛŒ Ú†Ù‡ `post` Ù‡Ø³Øª . 

Ø®Ø¨ `model` Ø±Ùˆ Ø§Ø¬ÛŒØ§Ø¯ Ù…ÛŒ Ú©Ù†ÛŒÙ… . Ø¨Ø¹Ø¯ Ø§Ø² Ø³Ø§Ø®Øª `commentSchema` 

```javascript
const commentModel = mongoose.model("comments", commentSchema);
```

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ `export` Ú©Ø±Ø¯ÛŒÙ… . 

```javascript
module.exports = commentModel;
```

**Ù†Ú©ØªÙ‡**: Ø§ÛŒÙ†Ú©Ù‡ Ù…Ù‚Ø¯Ø§Ø± Ú©Ø§Ù…Ù†Øª Ø®Ø§Ù„ÛŒ Ø§Ø±Ø³Ø§Ù„ Ù†Ø´Ù‡ Ø§Ø² Ø³Ù…Øª Ú©Ù„Ø§ÛŒÙ†Øª Ú©Ù†ØªØ±Ù„ Ø´Ø¯Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ ÙˆÙ„ÛŒØ¯ Ø´Ø¯Ù‡ . 


# comment controller 

Ø®Ø¨ Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø§ÛŒØ¬Ø§Ø¯ `controller` Ø¯Ø§Ø±ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ú©Ø§Ù…Ù†Øª . 

ÛŒÚ© ÙØ§ÛŒÙ„ Ø¯Ø±ÙˆÙ† ÙÙˆÙ„Ø¯Ø± `controller` Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

<img src='https://github.com/mosenn/MERN/assets/91747908/f0b80767-6a0d-49f2-93fd-ef12e98a8073' />


Ù…Ø¯Ù„ `comment` Ú©Ù‡ Ø³Ø§Ø®ØªÛŒÙ… Ø±Ùˆ `require` Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

```javascript
const commentModel = require("../model/comment");
```

### createComment function in controller comment

ÛŒÚ© ÙØ§Ù†Ú©Ø´Ù† Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®Øª `comment` Ùˆ Ø°Ø®ÛŒØ±Ù‡ Ø³Ø§Ø²ÛŒ Ø¯Ø±ÙˆÙ† Ø¯ÛŒØªØ§ Ø¨ÛŒØ³ . 

```javascript
const createComment = async (req, res) => {}
```

Ø¯Ø±ÙˆÙ† ÙØ§Ù†Ú©Ø´Ù† Ø¨Ù„Ø§Ú© `try` Ùˆ `catch` Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… . 

Ø¯Ø±ÙˆÙ† Ø¨Ù„Ø§Ú© `try` Ù…ÛŒØ§Ù… Ú©Ø¯ Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ø³Ø§Ø®Øª Ú©Ø§Ù…Ù†Øª Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯ÛŒÙ… Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ Ù…ØªØ¯ `create`.

Ø§Ø² `req.body` Ù…Ù‚Ø§Ø¯ÛŒØ± Ú©Ù‡ Ù‚Ø±Ø§Ø± Ù‡Ø³Øª Ø§Ø² Ø³Ù…Øª Ú©Ù„Ø§ÛŒÙ†Øª Ø§Ø±Ø³Ø§Ù„ Ø´Ù‡ Ø¯Ø± `body` Ø±Ùˆ Ù…ÛŒ Ú¯ÛŒØ±ÛŒÙ… . 

```javascript
  try {
    const { comment, author, postId } = req.body;
    const newComment = await commentModel.create({
      comment,
      author,
      post: postId,
    });
    return res.json(newComment);
  }
```
Ø§Ú¯Ø± Ø¯Ù‚Øª Ú©Ù†ÛŒØ¯ `author` Ùˆ `postId` Ù‡Ù… Ø§Ø² `req.body` Ú¯Ø±ÙØªÙ‡ Ø´Ø¯Ù‡ .

Ú©Ù‡ Ù‡Ø± Ø¯Ùˆ Ø¯Ø± ÙˆØ§Ù‚Ø¹ `ObjedId` Ù‡Ø³ØªÙ†Ø¯ Ú©Ù‡ Ø§Ø² Ø³Ù…Øª Ú©Ù„Ø§ÛŒÙ†Øª Ø¯Ø§Ø±Ù†Ø¯ Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒ Ø´Ù† . 

Ø³Ù…Øª Ú©Ù„Ø§ÛŒÙ†Øª Ù…Ø§ Ù¾Ø³Øª Ù‡Ø§ Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… Ùˆ Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ø§Ù†Ù„Ø§ÛŒÙ† Ù‡Ø³Øª Ùˆ Ø¯Ø§Ø±Ù‡ Ú©Ø§Ù…Ù†Øª Ù…ÛŒ Ø²Ø§Ø±Ù‡ . 

Ø§Ø² Ø§ÛŒÙ† Ø¬Ù‡Øª Ø¨Ù‡ `ObjecetId` Ù‡Ø± Ø¯Ùˆ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¯Ø§Ø±ÛŒÙ… Ùˆ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† `body` Ø¨Ù‡ `api` Ú©Ù‡ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ø³Ø§Ø®Øª Ú©Ø§Ù…Ù†Øª Ù‡Ø³Øª Ù¾Ø§Ø³ Ù…ÛŒØ¯ÛŒÙ… . 

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ ÛŒÚ© Ù…ØªØºÛŒÛŒØ± Ø¯Ø§Ø±ÛŒÙ… Ø¨Ù‡ Ø§Ø³Ù… `newComment` Ú©Ù‡ Ø¯Ø§Ø±Ù‡ Ú©Ø§Ù…Ù†Øª Ø¬Ø¯ÛŒØ¯ÛŒ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ Ù…ØªØ¯ `create` Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒ Ú©Ù†Ù‡ .

Ùˆ Ø±ÛŒØ³Ù¾Ø§Ù†Ø³ Ø±Ùˆ Ù‡Ù…ÛŒÙ† Ú©Ø§Ù…Ù†Øª Ø¬Ø¯ÛŒØ¯ Ø±Ùˆ Ø¨Ù‡ Ù…Ø§ Ø¨Ø±Ú¯Ø´Øª Ù…ÛŒØ¯Ù‡ . Ú©Ù‡ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† ÛŒÚ© `json` Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯Ù‡ . 

```javascript
    return res.status(200).json(newComment);
```

Ø¯Ø±ÙˆÙ† `catch` Ù‡Ù… Ù…ÛŒØ§ÛŒÙ… Ø§Ú¯Ø± `err` ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´Øª Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ø³Ù…Øª Ú©Ù„Ø§ÛŒÙ†Øª  

```javascript
 catch (err) {
    console.error(err);
    return res.status(500).send("Server Error");
  }
```

ÛŒÚ© Ø¨Ø§Ø± Ø¯ÛŒÚ¯Ù‡ ÙØ§Ù†Ú©Ø´Ù† `createComment` Ø±Ùˆ Ú©Ø§Ù…Ù„ Ø¨Ø¨ÛŒÙ†ÛŒÙ… : 

```javascript
const createComment = async (req, res) => {
  try {
    const { comment, author, postId } = req.body;
    const newComment = await commentModel.create({
      comment,
      author,
      post: postId,
    });
    return res.status(200).json(newComment);
  } catch (err) {
    console.error(err);
    return res.status(500).send("Server Error");
  }
};
```
 ### getCommentsByPost function in controller comment
Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ ÙØ§Ù†Ú©Ø´Ù† `getCommentsByPost` Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… . 

Ú©Ù‡ Ø§ÛŒÙ† ÙØ§Ù†Ú©Ø´Ù† Ù…ÛŒØ§Ø¯ Ú©Ø§Ù…Ù†Øª Ù‡Ø§Ø±Ùˆ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù¾Ø³Øª Ù…Ø¯ Ù†Ø¸Ø± Ù…ÛŒÚ¯ÛŒØ±Ù‡ . 

Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `ObjectId` Ù¾Ø³Øª Ù‡Ø§ . 

```javascript
const getCommentsByPost = async (req, res) => {
  try {
    if (req.params.postId && req.params.postId.trim().length > 0) {
      const comments = await commentModel
        .find({ post: req.params.postId })
        .populate("author");
      return res.status(200).json(comments);
    }

  } catch (err) {
    console.error("Get Comments Error in controller", err);
    res.status(500).send("server err : Get Comments Error in controller", err);
  }
};
```

 Ø¯Ø±ÙˆÙ† Ø¨Ù„Ø§Ú© `try` Ù…ÛŒØ§Ø¯ Ú†Ú© Ù…ÛŒØ´Ù‡ Ú©Ù‡ Ø§Ú¯Ø± `parmas` Ø¨Ù‡ Ø§Ø³Ù… `postId` Ø¨ÙˆØ¯ Ùˆ `length` Ø¨Ø²Ø±Ú¯ ØªØ± Ø§Ø² 0 Ø¯Ø§Ø´Øª Ø¨ÛŒØ§Ø¯ . 

 Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ Ù…ØªØ¯ `find` Ú©Ø§Ù…Ù†Øª Ù‡Ø§ Ø±Ùˆ Ù¾ÛŒØ¯Ø§ Ú©Ù†Ù‡ . Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `req.params.postId` Ùˆ Ø¯Ø±ÙˆÙ† Ø¯ÛŒØªØ§ÛŒ Ú©Ù‡ Ø¯Ø§Ø±Ù‡ Ù¾ÛŒØ¯Ø§ Ù…ÛŒØ´Ù‡ . 

 Ø¨ÛŒØ§Ø¯ Ø§Ø·Ù„Ø§Ø¹Ø§Øª `author` ÛŒØ§ Ù‡Ù…ÙˆÙ† Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ú©Ø§Ù…Ù†Øª Ú¯Ø°Ø§Ø´ØªÙ‡ Ù‡Ù… Ø§Ø±Ø³Ø§Ù„ Ø´Ù‡ . Ø§ÛŒÙ† Ú©Ø§Ø± Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ Ù…ØªØ¯ `populate` Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ´Ù‡ . 

```javascript
const comments = await commentModel
.find({ post: req.params.postId })
.populate("author");
return res.status(200).json(comments);
```
 Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ù…ØªØºÛŒÛŒØ± `comment` Ú©Ù‡ Ø¯Ø§Ø±Ù‡ Ø§ÛŒÙ† Ø§ØªÙØ§Ù‚Ø§Øª `find` Ø±Ùˆ Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒ Ú©Ù†Ù‡ . 

 Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† `response` Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒØ´Ù‡ . 

 ```javascript
 return res.status(200).json(comments);
```
Ø¯Ø±ÙˆÙ† Ø¨Ù„Ø§Ú© `catch` Ù‡Ù… Ø§Ù…Ø¯ÛŒÙ… Ø§Ú¯Ø± `server` Ù…Ø´Ú©Ù„ÛŒ Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯ ÛŒØ§ Ø¯Ø± Ú©Ù„ `err` Ø¯Ø§Ø´ØªÛŒÙ… ÛŒÚ© `status code 500` Ø§Ø±Ø³Ø§Ù„ Ú©Ø±Ø¯ÛŒÙ… . 

Ùˆ Ø§Ø² Ø§Ø±ÙˆØ± Ù‡Ø§ Ù‡Ù… Ù„Ø§Ú¯ Ú¯Ø±ÙØªÛŒÙ… Ø¨Ø±Ø§ÛŒ Ø³Ù…Øª Ø³Ø±ÙˆØ± Ú©Ù‡ Ø¨ØªÙˆÙ†ÛŒÙ… Ø¯ÛŒØ¨Ø§Ú¯ Ú©Ù†ÛŒÙ… . 

```javascript
catch (err) {
    console.error("Get Comments Error in controller", err);
    res.status(500).send("server err : Get Comments Error in controller", err);
  }
```

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ù…ÛŒØ§ÛŒÙ… `controller` Ù‡Ø§ÛŒ Ú©Ù‡ Ù†ÙˆØ´ØªÛŒÙ… Ø±Ùˆ `export` Ù…ÛŒ Ú©Ù†ÛŒÙ… ØªØ§ Ø¨ØªÙˆÙ†ÛŒÙ… Ø¯Ø± `route` Ø®ÙˆØ¯Ù…ÙˆÙ† Ø§Ø²Ø´ÙˆÙ† Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ… . 

```javascript
module.exports = {
  getCommentsByPost,
  createComment,
};
```


# route comments controller

Ø¯Ø±ÙˆÙ† ÙÙˆÙ„Ø¯Ø± `routes` Ù…ÛŒØ§ÛŒÙ… ÛŒÚ© ÙØ§ÛŒÙ„ Ø¨Ù‡ Ø§Ø³Ù… `comment.js` Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 


<img src='https://github.com/mosenn/MERN/assets/91747908/c2c85dfa-cb09-4b17-aae2-d305f4d4a9c9' alt='routes in expressjs' />


Ù†ÛŒØ§Ø² Ø¨Ù‡ `experss router` Ø¯Ø§Ø±ÛŒÙ… Ù¾Ø³ Ù…ÛŒØ§ÛŒÙ… `require` Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

```javascript
const commentRouter = require("express").Router();
```

Ø®Ø¨ Ø¯Ø±ÙˆÙ† ÙØ§ÛŒÙ„ `comment.js` Ú©Ù‡ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯ÛŒÙ… Ù…ÛŒØ§ÛŒÙ…  `require` Ù…ÛŒ Ú©Ù†ÛŒÙ… `controller` Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ú©Ø§Ù…Ù†Øª Ø±Ùˆ . 

```javascript
const { getCommentsByPost, createComment } = require("../controller/comment");
```

Ø®Ø¨ Ø­Ø§Ù„Ø§ Ù…ÛŒØ§ÛŒÙ… Ø§Ø¯Ø±Ø³ `api` Ø¨Ø±Ø§Ø³ Ø³Ø§Ø®Øª Ú©Ø§Ù…Ù†Øª Ù‡Ø§ Ùˆ Ú¯Ø±ÙØªÙ† Ú©Ø§Ù…Ù†Øª Ù‡Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ `postId` Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒ Ú©Ù†ÛŒÙ…. 

```javascript
commentRouter.get("/comment/:postId", getCommentsByPost);
commentRouter.post("/comments", createComment);
```
Ú©Ù‡ Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®ØªÙ† Ù†ÛŒØ§Ø² Ø¨Ù‡ `post` Ø¯Ø§Ø±ÛŒÙ… . 

Ø®Ø¨ Ø¨Ø±Ø§ÛŒ Ú¯Ø±ÙØªÙ† Ú©Ø§Ù…Ù†Øª Ù‡Ø± `post` Ù†ÛŒØ§Ø² Ø¨Ù‡ `postId` Ø¯Ø§Ø´ØªÛŒÙ… Ø¯Ø± Ù†ØªÛŒØ¬Ù‡ `params postId` Ø±Ùˆ Ø¨Ù‡Ø´ Ù¾Ø§Ø³ Ø¯Ø§Ø¯ÛŒÙ… . 
```javascript
commentRouter.get("/comment/:postId", getCommentsByPost);
```

Ú©Ù‡ Ø§ÛŒÙ† `paramas` Ø§Ø² Ø³Ù…Øª Ú©Ù„Ø§ÛŒÙ†Øª Ø¯Ø±ÙˆÙ† Ø§Ø¯Ø±Ø³ `api` Ø³Øª Ù…ÛŒØ´Ù‡ . 

Ø¯Ø± ÙˆØ§Ù‚Ø¹ `ObjedId post` Ø§Ø² Ø³Ù…Øª Ú©Ù„Ø§ÛŒÙ†Øª Ø¨Ù‡ Ø§ÛŒÙ† `api` Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† `paramas postId` Ø³Øª Ù…ÛŒØ´Ù‡ .

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ù…ÛŒØ§ÛŒÙ… `commentRouter` Ù‡Ø§ÛŒ Ú©Ù‡ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯ÛŒÙ… Ø±Ùˆ `export` Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

```javascript
module.exports = commentRouter;
```

Ú©Ù„ Ú©Ø¯ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ `route comment` Ø±Ùˆ Ø¨Ø¨ÛŒÙ†ÛŒÙ… : 

```javascript
const commentRouter = require("express").Router();

const { getCommentsByPost, createComment } = require("../controller/comment");
commentRouter.get("/comment/:postId", getCommentsByPost);
commentRouter.post("/comments", createComment);

module.exports = commentRouter;

```

Ø®Ø¨ Ø¨Ø¹Ø¯ Ø§Ø² `export` Ú©Ø±Ø¯Ù† Ø¨Ù‡ Ø¯Ø±ÙˆÙ† `index.js` Ù…ÛŒØ±ÛŒÙ… Ùˆ Ø§Ø² `route` Ú©Ù‡ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ù…Ù†Øª Ù‡Ø§ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯ÛŒÙ… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ú©Ù‡ Ù…ÛŒØ§Ø¯ `controller` Ù‡Ø§ÛŒ Ù…Ø§ Ø±Ùˆ Ø¯Ø±ÙˆÙ† `api` Ú©Ù‡ Ù†ÙˆØ´ØªÛŒÙ… Ù…ÛŒØ§Ø¯ Ø§Ø¬Ø±Ø§ Ù…ÛŒ Ú©Ù†Ù‡ . 

```javascript
//* in index.js
app.use("/", require("./routes/comment"));
```

# userInteraction model 



<img src='https://github.com/mosenn/MERN/assets/91747908/d0d6499a-2360-4ba9-8580-204737307fd1' alt='model in expressjs' />


Ø¨Ø±Ø§ÛŒ Ù„Ø§ÛŒÚ© Ùˆ Ø³ÛŒÙˆ Ù‡Ø§ÛŒ Ù‡Ø± Ù¾Ø³Øª ÛŒÚ© `model` Ø¨Ù‡ Ø§Ø³Ù… `userIntercation` Ø¯Ø§Ø±ÛŒÙ… .

Ú©Ù‡ Ø¨ÛŒØ§Ø¯ Ù„Ø§ÛŒÚ© Ùˆ Ø³ÛŒÙˆ Ù‡Ø§ÛŒ Ù‡Ø± Ù¾Ø³Øª Ø±Ùˆ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… . 

ÛŒÚ© `schema` Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒ Ú©Ù†ÛŒÙ… : 

```javascript
const mongoose = require("mongoose");

const userInteractionSchema = new mongoose.Schema(
  {
    user: {
      type: mongoose.Schema.Types.ObjectId,
      ref: "users",
      required: true,
    },
    post: {
      type: mongoose.Schema.Types.ObjectId,
      ref: "posts",
      required: true,
    },
    liked: {
      type: Boolean,
      default: false,
    },
    saved: {
      type: Boolean,
      default: false,
    },
  },
  {
    timestamps: true,
  }
);

const userInteractionModel = mongoose.model(
  "userInteractions",
  userInteractionSchema
);

module.exports = userInteractionModel;

```

Ú©Ù‡ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¨Ø¨ÛŒÙ†ÛŒÙ… Ú†Ù‡ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ù„Ø§ÛŒÚ© Ùˆ Ø³ÛŒÙˆ Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ø¯Ø§Ø¯Ù‡ 

Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± Ú†Ù‡ Ù¾Ø³ØªÛŒ Ø³ÛŒÙˆ Ùˆ Ù„Ø§ÛŒÚ© Ø´Ø¯Ù‡ Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ `ref` Ø¨Ø²Ù†ÛŒÙ… . 

```javascript
    user: {
      type: mongoose.Schema.Types.ObjectId,
      ref: "users",
      required: true,
    },
    post: {
      type: mongoose.Schema.Types.ObjectId,
      ref: "posts",
      required: true,
    },
```

ÛŒÚ© `user` Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ `ref` Ø´Ø¯ Ø¨Ù‡ `collection user` . 

ÛŒÚ© `post` Ø¯Ø§Ø±ÛŒÙ… Ú©Ù‡ Ø§ÛŒÙ†Ø¬Ø§ Ù‡Ù… `ref` Ø²Ø¯Ù‡ Ø´Ø¯Ù‡ `collection post` . 

Ø§ÛŒÙ†Ø¬ÙˆØ±ÛŒ Ù…ÛŒ ØªÙˆÙ†ÛŒÙ… Ù…ØªÙˆØ¬Ù‡ Ø´ÛŒÙ… Ú†Ù‡ Ù¾Ø³ØªÛŒ ØªÙˆØ³Ø· Ú†Ù‡ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ù„Ø§ÛŒÚ© Ùˆ Ø³ÛŒÙˆ Ø´Ø¯Ù‡ . 

Ø®Ø¨ Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ù…ÛŒØ§ÛŒÙ… `model` Ø±Ùˆ Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

```javascript
const userInteractionModel = mongoose.model(
  "userInteractions",
  userInteractionSchema
);
```
Ø®ÙˆØ¨ `model` Ú©Ù‡ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯ÛŒÙ… Ø±Ùˆ Ù…ÛŒØ§ÛŒÙ… `export` Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

```javascript
module.exports = userInteractionModel;
```

# controller userInteraction 

Ù…ÛŒØ±ÛŒÙ… Ø³Ø±Ø§Øº Ø³Ø§Ø®Øª `controller` Ø¨Ø±Ø§ÛŒ `like` Ùˆ `save` Ù‡Ø§ . 

Ù…ÛŒØ§ÛŒÙ… Ø§ÙˆÙ„ `  model userInteractionModel  ` Ø±Ùˆ `require` Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

```javascript
const userInteractionModel = require("../model/userInteraction");
```

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ú†Ú© Ú©Ù†ÛŒÙ… Ø¨Ø¨ÛŒÙ†Ù… Ú©Ø§Ø±Ø¨Ø± `login` Ù‡Ø³Øª ÛŒØ§ Ù†Ù‡ Ù†ÛŒØ§Ø² Ø¨Ù‡ `jwt` Ø¯Ø§Ø±ÛŒÙ… . 

```javascript
const jwt = require("jsonwebtoken");
```


### toggelLikePost controller userInteraction
Ø®Ø¨ ÙØ§Ù†Ú©Ø´Ù† Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ù„Ø§ÛŒÚ© Ù‡Ø§ÛŒ ÛŒÚ© Ù¾Ø³Øª Ø§Ø¹Ù…Ø§Ù„ Ø´Ù† Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ø§Ø± `toggelLikePost` Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… . 

```javascript
const toggelLikePost = async (req, res) => {
};
```

Ø¯Ø±ÙˆÙ† Ø§ÛŒÙ† ÙØ§Ù†Ø´Ú©Ù† Ø¨Ù„Ø§Ú© `try` Ùˆ `catch` Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… . 

Ù‚Ø¨Ù„ Ø§Ø² Ø¨Ù„Ø§Ú© `try` Ù…ÛŒØ§ÛŒÙ… `req.cookies` Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… Ùˆ Ù‡Ù…ÛŒÙ†Ø·ÙˆØ± `req.params` Ø±Ùˆ Ú©Ù‡ Ø§Ø² `paramas` Ù…ÛŒØ§ÛŒÙ… `id` Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ù¾Ø³Øª Ø±Ùˆ Ù…ÛŒ Ú¯ÛŒØ±ÛŒÙ… . 

Ùˆ Ø§Ø² `req.coockies` Ù…ÛŒØ§ÛŒÙ… Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø± Ø±Ùˆ Ù…ÛŒÚ¯ÛŒØ±ÛŒÙ… . 

Ø§Ú¯Ø± ÛŒØ§Ø¯ØªÙˆÙ† Ø¨Ø§Ø´Ù‡ Ø¯Ø±ÙˆÙ† `schema` Ø¨Ù‡ Ù…Ù‚Ø§Ø¯ÛŒØ± `id` Ù¾Ø³Øª Ùˆ Ú©Ø§Ø±Ø¨Ø± Ù†ÛŒØ§Ø² Ø¯Ø§Ø´ØªÛŒÙ… . 

```javascript
const toggelLikePost = async (req, res) => {
  const { postId } = req.params;
  const { userToken } = req.cookies;
};
```

Ø®Ø¨ Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ø¨Ù„Ø§Ú© `try` Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… : 

```javascript
  try {
    if (userToken) {
    }
    return res.status(401).json({ message: "first login for like post" });
  } 
```

Ú©Ù‡ ÛŒÚ© `if` Ø¯Ø§Ø±ÛŒÙ… Ø¯Ø§Ø±Ù‡ Ú†Ú© Ù…ÛŒ Ú©Ù†Ù‡ Ø§ÛŒØ§ Ú©Ø§Ø±Ø¨Ø± Ù„Ø§Ú¯ÛŒÙ† Ù‡Ø³Øª Ùˆ ØªÙˆÚ©Ù† Ø¯Ø±ÙˆÙ† `coockie` Ù‡Ø³Øª ÛŒØ§ Ø®ÛŒØ± Ø§Ú¯Ø± Ú©Ù‡ Ø¨ÙˆØ¯ Ø¨ÛŒØ§Ø¯ Ø§Ø¬Ø§Ø²Ù‡ Ø¨Ø¯Ù‡ Ú©Ø§Ø±Ø¨Ø± Ù„Ø§ÛŒÚ© Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ø¨Ø¯Ù‡ . 

Ø¯Ø± ØºÛŒØ± Ø§ÛŒÙ†ØµÙˆØ± Ø¨ÛŒØ§Ø¯ ÛŒÚ© `status code 401` Ø§Ø±Ø³Ø§Ù„ Ø´Ù‡ Ùˆ ÛŒÚ© `message` Ø¨Ù‡ Ù‡Ù…Ø±Ø§Ù‡ Ø§ÙˆÙ† Ú©Ù‡ Ø§ÛŒÙ† `message` Ø±Ùˆ Ø¯Ø± Ø¨Ø®Ø´ Ú©Ù„Ø§ÛŒÙ†Øª Ø¯Ø± Ù‚Ø³Ù…Øª `detail.tsx` Ø§Ú¯Ø± Ú©Ø§Ø±Ø¨Ø± Ù„Ø§Ú¯ÛŒÙ† Ù†Ø¨Ø§Ø´Ù‡ . 

Ùˆ Ù‚ØµØ¯ Ù„Ø§ÛŒÚ© Ú©Ø±Ø¯Ù† Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù‡ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `Toast` Ú©Ù‡ ÛŒÚ© Ú©Ø§Ù…Ù¾ÙˆÙ†Øª Ø³Ù…Øª Ú©Ù„Ø§ÛŒÙ†Øª Ù‡Ø³Øª Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒØ´Ù‡ . 

Ø®Ø¨ Ø¯Ø±ÙˆÙ† Ø§ÛŒÙ† `if` Ú©Ù‡ Ø¯Ø§Ø±Ù‡ `userToken` Ø±Ùˆ Ú†Ú© Ù…ÛŒ Ú©Ù†Ù‡ . 

Ú©Ø¯ Ù‡Ø§ÛŒ Ø²ÛŒØ± Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… Ùˆ Ù„Ø§ÛŒÚ© Ø±Ùˆ ÛŒÙ‡ Ø¬ÙˆØ±Ø§ÛŒÛŒ `toggel` Ù…ÛŒØ´Ù‡ ÛŒØ¹Ù†ÛŒ `like` Ùˆ `unlike` Ø±Ùˆ Ø¯Ø§Ø±ÛŒÙ… Ø¯Ø± Ø§ÛŒÙ† `controller` . 

Ø¯Ø± Ú©Ø¯ Ø²ÛŒØ± Ø±Ø¯ÙˆÙ† `if` Ø¯Ø§Ø±ÛŒÙ… Ø§ÙˆÙ„ `token` Ø±Ùˆ Ù…ÛŒ Ú¯ÛŒØ±ÛŒÙ… Ø§Ø² `cookie` . 

Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ø¯Ø§Ø±ÛŒÙ… Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ Ù…ØªØ¯ `findOne` Ú©Ø§Ø±Ø¨Ø± Ú©Ù‡ Ù„Ø§ÛŒÚ© Ú©Ø±Ø¯Ù‡ Ùˆ Ù¾Ø³ØªÛŒ Ú©Ù‡ Ù„Ø§ÛŒÚ© Ø´Ø¯Ù‡ Ø±Ùˆ Ù¾ÛŒØ¯Ø§ Ù…ÛŒ Ú©Ù†ÛŒÙ… . 

Ùˆ Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø± Ø±Ùˆ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `populate` Ù¾ÛŒØ¯Ø§ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ùˆ Ø¯Ø± Ø¯ÛŒØªØ§ Ø®ÙˆØ¯Ù…ÙˆÙ† Ù‚Ø±Ø§Ø± Ù…ÛŒØ¯ÛŒÙ… . 

Ù…Ù†ØªÙ‡Ø§ ØµØ±ÙØ§ Ú¯ÙØªÛŒÙ… ÙÙ‚Ø· `username` Ø±Ùˆ Ù…ÛŒ Ø®ÙˆØ§ÛŒÙ… Ø§Ø² Ø¯Ø§Ø®Ù„ `collection user` . 
```javbascript
   if (userToken) {
      const user = jwt.verify(userToken, process.env.JWT_SECRET, {});
      let userInteraction = await UserInteraction.findOne({
        user: user.id,
        post: postId,
      }).populate("user", "username");

```

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ø§Ù…Ø¯ÛŒÙ… ÛŒÚ© `if` Ø¯ÛŒÚ¯Ù‡ Ù‚Ø±Ø§Ø± Ø¯Ø§Ø¯ÛŒÙ… Ú©Ù‡ Ø¯Ø§Ø±Ù‡ `userInteraction` Ø±Ùˆ Ú†Ú© Ù…ÛŒ Ú©Ù†Ù‡ .

Ú©Ù‡ Ø§ÛŒØ§ Ù‚Ø¨Ù„Ø§ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ù„Ø§Ú¯ÛŒÙ† Ù‡Ø³Øª Ù¾Ø³Øª Ø±Ùˆ Ù„Ø§ÛŒÚ© Ú©Ø±Ø¯Ù‡ ÛŒØ§ Ù†Ù‡ ! 

Ø§Ú¯Ø± Ú©Ù‡ Ù„Ø§ÛŒÚ© Ù†Ú©Ø±Ø¯Ù‡ Ø¨ÙˆØ¯ . 

Ø¨ÛŒØ§Ø¯ ÛŒÚ© `create` Ø§ØªÙØ§Ù‚ Ø¨ÛŒÙˆÙØªÙ‡ Ùˆ `user.id` Ùˆ `postId` Ø±Ùˆ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†Ù‡ . 



```javbascript
   if (userToken) {
      const user = jwt.verify(userToken, process.env.JWT_SECRET, {});
      let userInteraction = await UserInteraction.findOne({
        user: user.id,
        post: postId,
      }).populate("user", "username");
      if (!userInteraction) {
        userInteraction = await UserInteraction.create({
          user: user.id,
          post: postId,
        });
      }
```

Ø§Ù…Ø§ Ø§Ú¯Ø± Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ù‚Ø¨Ù„Ø§ Ù„Ø§ÛŒÚ© Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ø¯Ø§Ø¯Ù‡ Ø¨ÙˆØ¯ Ø¨Ø¹Ø¯ Ø§Ø² `if` Ú©Ù‡ Ø¯Ø§Ø±Ù‡ `userInteraction` Ø±Ùˆ Ú†Ú© Ù…ÛŒ Ú©Ù†Ù‡ . 

Ø¨ÛŒØ§Ø¯ ØµØ±ÙØ§ `like` Ø¯Ø±ÙˆÙ† Ø¯ÛŒØªØ§ Ø¨ÛŒØ³ Ø±Ùˆ `false` Ú©Ù†Ù‡ . 

Ú©Ù‡ Ø§ÛŒÙ†Ø¬ÙˆØ±ÛŒ Ø§Ú¯Ø± Ú©Ø§Ø±Ø¨Ø± Ù‚Ø¨Ù„Ø§ ÛŒÚ© Ù¾Ø³Øª Ø±Ùˆ Ù„Ø§ÛŒÚ© Ú©Ø±Ø¯Ù‡ Ùˆ Ø¨Ø§Ø² Ø¨ÛŒØ§Ø¯ Ø±ÙˆÛŒ Ù„Ø§ÛŒÚ© Ú©Ù„ÛŒÚ© Ú©Ù†Ù‡ Ø¯Ø± Ú©Ù„Ø§ÛŒÙ†Øª . Ø¨ÛŒØ§Ø¯ Ø§ÛŒÙ† Ù…Ù‚Ø¯Ø§Ø± `false` Ø´Ù‡ . 

Ú©Ù‡ Ø­Ø§Ù„Ø§ Ø¯Ø± Ø³Ù…Øª Ú©Ù„Ø§ÛŒÙ†Øª Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ Ù‡Ù…ÛŒÙ† `true` / `false` Ø´Ø¯Ù† Ø¯ÛŒØªØ§ÛŒ Ù‡Ù…ÛŒÙ† Ø¨Ø®Ø´ Ù…ÛŒØ§ÛŒÙ… Ù‚Ù„Ø¨ Ù‚Ø±Ù…Ø² ÛŒØ§ ØªÙˆ Ù¾Ø± Ø±Ùˆ Ù†Ø´ÙˆÙ† Ù…ÛŒØ¯ÛŒÙ… . 

```javascript
      userInteraction.liked = !userInteraction.liked;
```

```javascript
    if (userToken) {
      const user = jwt.verify(userToken, process.env.JWT_SECRET, {});
      let userInteraction = await UserInteraction.findOne({
        user: user.id,
        post: postId,
      }).populate("user", "username");

      if (!userInteraction) {
        userInteraction = await UserInteraction.create({
          user: user.id,
          post: postId,
        });
      }
      userInteraction.liked = !userInteraction.liked;
      await userInteraction.save();
      return res.json({
        success: true,
        liked: userInteraction,
      });
    }
```

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ø§Ù…Ø¯ÛŒÙ… `save` Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ø¯Ø§Ø¯ÛŒÙ… Ú©Ù‡ Ø¯ÛŒØªØ§ Ø¨Ø§ ØªÙˆØ¬Ù‡ Ø¨Ù‡ ØªØºÛŒÛŒØ± Ø¨ÛŒØ§Ø¯ Ø°Ø®ÛŒØ±Ù‡ Ø´Ù‡ . 

ÛŒØ¹Ù†ÛŒ Ù‡Ø± Ø¨Ø§Ø± Ú©Ù‡ ØªØºÛŒÛŒØ± Ù…ÛŒ Ú©Ù†Ù‡ Ø¯ÛŒØªØ§ Ø¨ÛŒØ´ Ù…Ø§ Ø§ÛŒÙ† Ù…Ù‚Ø¯Ø§Ø± `true` ÛŒØ§ `false` Ø´Ø¯Ù† `like` Ø±Ùˆ Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒÚ©Ù†Ù‡ . 

Ø¨Ø¹Ø¯ Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ `save` Ø´Ø¯Ù† Ø¯Ø§Ø±Ù‡ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ´Ù‡ Ø§Ù…Ø¯ÛŒÙ… `response` Ø±Ùˆ Ø§Ø±Ø³Ø§Ù„ Ú©Ø±Ø¯ÛŒÙ… . 

```javascript
      return res.json({
        success: true,
        liked: userInteraction,
      });
```

Ùˆ Ú©Ù„Ø§ÛŒÙ†Øª Ø§ÛŒÙ†Ø·ÙˆØ± Ù…ÛŒ ØªÙˆÙ†Ù‡ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ `api` Ú©Ù‡ Ù†ÙˆØ´ØªÙ‡ Ø´Ø¯Ù‡ Ù…Ù‚Ø¯Ø§Ø± `true` ÛŒØ§ `false` Ø´Ø¯Ù† Ù„Ø§ÛŒÚ© Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ù¾Ø³Øª Ø±Ùˆ Ø¨Ø§ ØªÙˆØ¬Ù‡ Ø¨Ù‡ `id` Ù¾Ø³Øª Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù‡ . 

ÛŒÚ© Ø¨Ø§Ø± Ø¯ÛŒÚ¯Ù‡ Ú©Ù„ ÙØ§Ù†Ú©Ø´Ù† `toggelLikePost` Ø±Ùˆ Ø¨Ø§ Ù‡Ù… Ø¨Ø¨ÛŒÙ†ÛŒÙ… . 

```javascript 
const toggelLikePost = async (req, res) => {
  const { postId } = req.params;
  const { userToken } = req.cookies;

  // console.log(user, "user");
  try {
    if (userToken) {
      const user = jwt.verify(userToken, process.env.JWT_SECRET, {});
      let userInteraction = await UserInteraction.findOne({
        user: user.id,
        post: postId,
      }).populate("user", "username");

      if (!userInteraction) {
        userInteraction = await UserInteraction.create({
          user: user.id,
          post: postId,
        });
      }
      userInteraction.liked = !userInteraction.liked;
      await userInteraction.save();
      return res.json({
        success: true,
        liked: userInteraction,
      });
    }
    return res.status(401).json({ message: "first login for like post" });
  } catch (err) {
    console.error(err);
    return res.status(500).json({ success: false, message: "Server error about saved" });
  }
};
```

### getLikes controller userInteraction

Ø®Ø¨ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¨ÛŒØ§Ù… ØµØ±ÙØ§ ØªØ¹Ø¯Ø§Ø¯ Ù„Ø§ÛŒÚ© Ù‡Ø§ÛŒ ÛŒÚ© Ù¾Ø³Øª Ø±Ùˆ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… Ùˆ Ù†Ù…Ø§ÛŒØ´ Ø¨Ø¯ÛŒÙ… . 

Ø¯Ù‚Øª Ú©Ù†ÛŒØ¯ Ø§ÛŒÙ†Ø¬Ø§ ØµØ±ÙØ§ ØªØ¹Ø¯Ø§Ø¯ Ù„Ø§ÛŒÚ© Ù‡Ø§ÛŒ Ú©Ù‡ `true` Ù‡Ø³ØªÙ†Ø¯ Ø±Ùˆ ÙÙ‚Ø· Ú¯Ø±ÙØªÛŒÙ… . Ùˆ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ù„Ø§ÛŒÚ© Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ø¯Ø§Ø¯Ù‡ . 
```javascript
const getLikes = async (req, res) => {
  try {
    const Likes = await UserInteraction.find({
      post: req.params.postId,
      liked: true,
    }).populate("user", "username , pic");
    return res.status(200).json(Likes);
  } catch (err) {
    console.log('server is err : getLikes function in userInteraction controller' , err );
    return res.status(500).json('server is err' , err)
  }
};
```

Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø¯Ø§Ø±ÛŒÙ… `populate` Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ´Ù‡ Ø±ÙˆÛŒ `user` Ú©Ù‡ Ø¯Ø± `schema` ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ . 

Ú©Ù‡ `ref` Ù…ÛŒ Ø²Ø¯ Ø¨Ù‡ `collection users` . 

Ùˆ ØµØ±ÙØ§ Ú¯ÙØªÛŒÙ… `username` Ùˆ `pic` Ø±Ùˆ Ù…ÛŒ Ø®ÙˆØ§ÛŒÙ… Ø§Ø² `collection user` Ø§ÛŒÙ† Ø¯ÙˆØªØ§ Ø±Ùˆ Ø¨Ø±Ø§ÛŒ Ù…Ø§ Ø¨Ø±Ú¯Ø´Øª Ø¨Ø¯Ù‡ . 

Ø¯Ø± ØµÙˆØ±Øª `err` Ø¯Ø§Ø´ØªÙ†Ù… Ú©Ù‡ Ø¨Ù„Ø§Ú© `catch` Ø§ØªÙØ§Ù‚ Ù…ÛŒ Ø§ÙØªÙ‡ . 

```javascript
catch (err) {
    console.log('server is err : getLikes function in userInteraction controller' , err );
    return res.status(500).json('server is err' , err)
  }
```

ÛŒÚ© Ø¨Ø§Ø± Ø¯ÛŒÚ¯Ù‡ ÙØ§Ù†Ú©Ø´Ù† `getLikes` Ø±Ùˆ Ø¨Ù‡ Ø·ÙˆØ± Ú©Ù„ÛŒ Ù†Ú¯Ø§Ù‡ Ú©Ù†ÛŒÙ… : 

```javascript
//* get all likes
const getLikes = async (req, res) => {
  const { postId } = req.params;
  // console.log("post Id for get Likes", postId);
  try {
    const Likes = await UserInteraction.find({
      post: req.params.postId,
      liked: true,
    }).populate("user", "username , pic");
    return res.status(200).json(Likes);
  } catch (err) {
    console.log('server is err : getLikes function in userInteraction controller' , err );
    return res.status(500).json('server is err' , err)
  }
};
```

### toggelSavePost controller userInteraction

Ø§ÛŒÙ† ÙØ§Ù†Ú©Ø´Ù† Ù‡Ù… Ø¯Ù‚ÛŒÙ‚Ø§ Ù…Ø«Ù„ `toggelLikePost` Ù…ÛŒ Ù…ÙˆÙ†Ù‡ ØµØ±ÙØ§ Ø¯ÛŒÚ¯Ù‡ Ú©Ø¯ Ù‡Ø§ Ø±Ùˆ ØªÙˆØ¶ÛŒØ­ Ù†Ø¯Ø§Ø¯ÛŒÙ… 

Ø§Ù…Ø§ Ú©Ù„ ÙØ§Ù†Ú©Ø´Ù† Ø¨Ù‡ ØµÙˆØ±Øª Ø²ÛŒØ± Ù‡Ø³ØªØ´ : 
```javascript
const toggelSavePost = async (req, res) => {
  const { postId } = req.params;
  const { userToken } = req.cookies;

  try {
    if (userToken) {
      const user = jwt.verify(userToken, process.env.JWT_SECRET, {});
      let save = await userInteractionModel.findOne({
        user: user.id,
        post: postId,
      });
      if (!save) {
        save = await userInteractionModel.create({
          user: user.id,
          post: postId,
        });
      }
      save.saved = !save.saved;
      await save.save();
      return res.status(200).json({ message: true, saved: save });
    }
    return res.status(401).json({ message: "first login for save post" });
  } catch (err) {
    console.log('server err :toggelSavePost function in userIntraction controller' , err);
    return res
      .status(500)
      .json({ success: false, message: "server error about saved" });
  }
};
```

### getSave controller userInteraction

 Ø§ÛŒÙ† ÙØ§Ù†Ú©Ø´Ù† Ù‡Ù… Ø¯Ù‚ÛŒÙ‚Ø§ Ù…Ø«Ù„ `getLikes` Ù‡Ø³Øª ØµØ±ÙØ§ Ú©Ø¯ Ù‡Ø§Ø´Ùˆ Ú¯Ø°Ø§Ø´ØªÛŒÙ… Ùˆ ØªÙˆØ¶ÛŒØ­ Ú©Ø¯ Ù‡Ø§Ø´ Ù…Ø«Ù„ `getLikes` Ù‡Ø³Øª Ù…Ù†ØªÙ‡Ø§ `save` Ù‡Ø§Ø±Ùˆ Ù…ÛŒÚ¯ÛŒØ±Ù‡ . 

```javascript
const getSave = async (req, res) => {
  const { postId } = req.params;
  // console.log("post Id for get Likes", postId);
  try {
    const save = await UserInteraction.find({
      post: postId,
      saved: true,
      // saved:true,
    }).populate("user", "username , pic");
    return res.status(200).json(save);
  } catch (err) {
    console.log("server err :getSave function in userIntraction controller", err);
    return res.status(500).json({ success: false, message: "server error getSave func" });
  }
};
```
 
